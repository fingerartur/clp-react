/*! For license information please see main.566125a8.js.LICENSE.txt */
!function(){"use strict";var e={39:function(e,t,n){var r=n(374),i=n(791);n(381);var a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)};function o(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function u(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))}function u(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){o=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){o.label=u[1];break}if(6===u[0]&&o.label<i[1]){o.label=i[1],i=u;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(u);break}i[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}}function s(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function l(e,t){return v(e,c(e.getTrackManager(),t),t)}function c(e,t){switch(t){case r.clpp.Track.Type.AUDIO:return e.getAudioTrack();case r.clpp.Track.Type.TEXT:return e.getTextTrack();case r.clpp.Track.Type.VIDEO:return e.getVideoTrack()?e.isAbrEnabled()?d(e):e.getVideoRendition():null}}function f(e,t){switch(t){case r.clpp.Track.Type.AUDIO:return e.getAudioTracks();case r.clpp.Track.Type.TEXT:return e.getTextTracks();case r.clpp.Track.Type.VIDEO:var n=e.getVideoTrack();return n?n.renditions:[]}}function d(e){return{type:"video",label:"Auto",selected:!e||e.isAbrEnabled(),id:"abr",ppTrack:null}}function h(e,t){return{type:e,label:"Off",selected:t,id:"".concat(e,"-off"),ppTrack:null}}function p(e){return{type:e,label:"Unavailable",selected:!0,id:"".concat(e,"-unavailable"),ppTrack:null}}function v(e,t,n,r){if(!t)return h(n,null===t);var i=e.getTrackManager();return{ppTrack:t,selected:!(!(r=r||c(i,n))||r!=t),label:t.label,type:t.type||n,id:t.id}}function g(e,t){var n=e.getTrackManager(),r=c(n,t);return f(n,t).map((function(n){return v(e,n,t,r)}))}var m,y,b={aa:{name:"Afar",native:"Afaraf"},ab:{name:"Abkhaz",native:"\u0430\u04a7\u0441\u0443\u0430 \u0431\u044b\u0437\u0448\u04d9\u0430"},ae:{name:"Avestan",native:"avesta"},af:{name:"Afrikaans",native:"Afrikaans"},ak:{name:"Akan",native:"Akan"},am:{name:"Amharic",native:"\u12a0\u121b\u122d\u129b"},an:{name:"Aragonese",native:"aragon\xe9s"},ar:{name:"Arabic",native:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629"},as:{name:"Assamese",native:"\u0985\u09b8\u09ae\u09c0\u09af\u09bc\u09be"},av:{name:"Avaric",native:"\u0430\u0432\u0430\u0440 \u043c\u0430\u0446\u04c0"},ay:{name:"Aymara",native:"aymar aru"},az:{name:"Azerbaijani",native:"az\u0259rbaycan dili"},ba:{name:"Bashkir",native:"\u0431\u0430\u0448\u04a1\u043e\u0440\u0442 \u0442\u0435\u043b\u0435"},be:{name:"Belarusian",native:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f \u043c\u043e\u0432\u0430"},bg:{name:"Bulgarian",native:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a"},bh:{name:"Bihari",native:"\u092d\u094b\u091c\u092a\u0941\u0930\u0940"},bi:{name:"Bislama",native:"Bislama"},bm:{name:"Bambara",native:"bamanankan"},bn:{name:"Bengali",native:"\u09ac\u09be\u0982\u09b2\u09be"},bo:{name:"Tibetan Standard",native:"\u0f56\u0f7c\u0f51\u0f0b\u0f61\u0f72\u0f42"},br:{name:"Breton",native:"brezhoneg"},bs:{name:"Bosnian",native:"bosanski jezik"},ca:{name:"Catalan",native:"catal\xe0"},ce:{name:"Chechen",native:"\u043d\u043e\u0445\u0447\u0438\u0439\u043d \u043c\u043e\u0442\u0442"},ch:{name:"Chamorro",native:"Chamoru"},co:{name:"Corsican",native:"corsu"},cr:{name:"Cree",native:"\u14c0\u1426\u1403\u152d\u140d\u140f\u1423"},cs:{name:"Czech",native:"\u010de\u0161tina"},cu:{name:"Old Church Slavonic",native:"\u0469\u0437\u044b\u043a\u044a \u0441\u043b\u043e\u0432\u0463\u043d\u044c\u0441\u043a\u044a"},cv:{name:"Chuvash",native:"\u0447\u04d1\u0432\u0430\u0448 \u0447\u04d7\u043b\u0445\u0438"},cy:{name:"Welsh",native:"Cymraeg"},da:{name:"Danish",native:"dansk"},de:{name:"German",native:"Deutsch"},dv:{name:"Divehi",native:"\u078b\u07a8\u0788\u07ac\u0780\u07a8"},dz:{name:"Dzongkha",native:"\u0f62\u0fab\u0f7c\u0f44\u0f0b\u0f41"},ee:{name:"Ewe",native:"E\u028begbe"},el:{name:"Greek",native:"\u03b5\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac"},en:{name:"English",native:"English"},eo:{name:"Esperanto",native:"Esperanto"},es:{name:"Spanish",native:"Espa\xf1ol"},et:{name:"Estonian",native:"eesti"},eu:{name:"Basque",native:"euskara"},fa:{name:"Persian",native:"\u0641\u0627\u0631\u0633\u06cc"},ff:{name:"Fula",native:"Fulfulde"},fi:{name:"Finnish",native:"suomi"},fj:{name:"Fijian",native:"vosa Vakaviti"},fo:{name:"Faroese",native:"f\xf8royskt"},fr:{name:"French",native:"fran\xe7ais"},fy:{name:"Western Frisian",native:"Frysk"},ga:{name:"Irish",native:"Gaeilge"},gd:{name:"Scottish Gaelic",native:"G\xe0idhlig"},gl:{name:"Galician",native:"galego"},gn:{name:"Guaran\xed",native:"Ava\xf1e'\u1ebd"},gu:{name:"Gujarati",native:"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0"},gv:{name:"Manx",native:"Gaelg"},ha:{name:"Hausa",native:"(Hausa) \u0647\u064e\u0648\u064f\u0633\u064e"},he:{name:"Hebrew",native:"\u05e2\u05d1\u05e8\u05d9\u05ea"},hi:{name:"Hindi",native:"\u0939\u093f\u0928\u094d\u0926\u0940"},ho:{name:"Hiri Motu",native:"Hiri Motu"},hr:{name:"Croatian",native:"hrvatski jezik"},ht:{name:"Haitian",native:"Krey\xf2l ayisyen"},hu:{name:"Hungarian",native:"magyar"},hy:{name:"Armenian",native:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576"},hz:{name:"Herero",native:"Otjiherero"},ia:{name:"Interlingua",native:"Interlingua"},id:{name:"Indonesian",native:"Bahasa Indonesia"},ie:{name:"Interlingue",native:"Interlingue"},ig:{name:"Igbo",native:"As\u1ee5s\u1ee5 Igbo"},ii:{name:"Nuosu",native:"\ua188\ua320\ua4bf Nuosuhxop"},ik:{name:"Inupiaq",native:"I\xf1upiaq"},io:{name:"Ido",native:"Ido"},is:{name:"Icelandic",native:"\xcdslenska"},it:{name:"Italian",native:"Italiano"},iu:{name:"Inuktitut",native:"\u1403\u14c4\u1483\u144e\u1450\u1466"},ja:{name:"Japanese",native:"\u65e5\u672c\u8a9e"},jv:{name:"Javanese",native:"\ua9a7\ua9b1\ua997\ua9ae"},ka:{name:"Georgian",native:"\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8"},kg:{name:"Kongo",native:"Kikongo"},ki:{name:"Kikuyu",native:"G\u0129k\u0169y\u0169"},kj:{name:"Kwanyama",native:"Kuanyama"},kk:{name:"Kazakh",native:"\u049b\u0430\u0437\u0430\u049b \u0442\u0456\u043b\u0456"},kl:{name:"Kalaallisut",native:"kalaallisut"},km:{name:"Khmer",native:"\u1781\u17d2\u1798\u17c2\u179a"},kn:{name:"Kannada",native:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1"},ko:{name:"Korean",native:"\ud55c\uad6d\uc5b4"},kr:{name:"Kanuri",native:"Kanuri"},ks:{name:"Kashmiri",native:"\u0915\u0936\u094d\u092e\u0940\u0930\u0940"},ku:{name:"Kurdish",native:"Kurd\xee"},kv:{name:"Komi",native:"\u043a\u043e\u043c\u0438 \u043a\u044b\u0432"},kw:{name:"Cornish",native:"Kernewek"},ky:{name:"Kyrgyz",native:"\u041a\u044b\u0440\u0433\u044b\u0437\u0447\u0430"},la:{name:"Latin",native:"latine"},lb:{name:"Luxembourgish",native:"L\xebtzebuergesch"},lg:{name:"Ganda",native:"Luganda"},li:{name:"Limburgish",native:"Limburgs"},ln:{name:"Lingala",native:"Ling\xe1la"},lo:{name:"Lao",native:"\u0e9e\u0eb2\u0eaa\u0eb2\u0ea5\u0eb2\u0ea7"},lt:{name:"Lithuanian",native:"lietuvi\u0173 kalba"},lu:{name:"Luba-Katanga",native:"Tshiluba"},lv:{name:"Latvian",native:"latvie\u0161u valoda"},mg:{name:"Malagasy",native:"fiteny malagasy"},mh:{name:"Marshallese",native:"Kajin M\u0327aje\u013c"},mi:{name:"M\u0101ori",native:"te reo M\u0101ori"},mk:{name:"Macedonian",native:"\u043c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438 \u0458\u0430\u0437\u0438\u043a"},ml:{name:"Malayalam",native:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02"},mn:{name:"Mongolian",native:"\u041c\u043e\u043d\u0433\u043e\u043b \u0445\u044d\u043b"},mr:{name:"Marathi",native:"\u092e\u0930\u093e\u0920\u0940"},ms:{name:"Malay",native:"bahasa Melayu"},mt:{name:"Maltese",native:"Malti"},my:{name:"Burmese",native:"\u1017\u1019\u102c\u1005\u102c"},na:{name:"Nauruan",native:"Dorerin Naoero"},nb:{name:"Norwegian Bokm\xe5l",native:"Norsk bokm\xe5l"},nd:{name:"Northern Ndebele",native:"isiNdebele"},ne:{name:"Nepali",native:"\u0928\u0947\u092a\u093e\u0932\u0940"},ng:{name:"Ndonga",native:"Owambo"},nl:{name:"Dutch",native:"Nederlands"},nn:{name:"Norwegian Nynorsk",native:"Norsk nynorsk"},no:{name:"Norwegian",native:"Norsk"},nr:{name:"Southern Ndebele",native:"isiNdebele"},nv:{name:"Navajo",native:"Din\xe9 bizaad"},ny:{name:"Chichewa",native:"chiChe\u0175a"},oc:{name:"Occitan",native:"occitan"},oj:{name:"Ojibwe",native:"\u140a\u14c2\u1511\u14c8\u142f\u14a7\u140e\u14d0"},om:{name:"Oromo",native:"Afaan Oromoo"},or:{name:"Oriya",native:"\u0b13\u0b21\u0b3c\u0b3f\u0b06"},os:{name:"Ossetian",native:"\u0438\u0440\u043e\u043d \xe6\u0432\u0437\u0430\u0433"},pa:{name:"(Eastern) Punjabi",native:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40"},pi:{name:"P\u0101li",native:"\u092a\u093e\u0934\u093f"},pl:{name:"Polish",native:"j\u0119zyk polski"},ps:{name:"Pashto",native:"\u067e\u069a\u062a\u0648"},pt:{name:"Portuguese",native:"Portugu\xeas"},qu:{name:"Quechua",native:"Runa Simi"},rm:{name:"Romansh",native:"rumantsch grischun"},rn:{name:"Kirundi",native:"Ikirundi"},ro:{name:"Romanian",native:"Rom\xe2n\u0103"},ru:{name:"Russian",native:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"},rw:{name:"Kinyarwanda",native:"Ikinyarwanda"},sa:{name:"Sanskrit",native:"\u0938\u0902\u0938\u094d\u0915\u0943\u0924\u092e\u094d"},sc:{name:"Sardinian",native:"sardu"},sd:{name:"Sindhi",native:"\u0938\u093f\u0928\u094d\u0927\u0940"},se:{name:"Northern Sami",native:"Davvis\xe1megiella"},sg:{name:"Sango",native:"y\xe2ng\xe2 t\xee s\xe4ng\xf6"},si:{name:"Sinhalese",native:"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd"},sk:{name:"Slovak",native:"sloven\u010dina"},sl:{name:"Slovene",native:"slovenski jezik"},sm:{name:"Samoan",native:"gagana fa'a Samoa"},sn:{name:"Shona",native:"chiShona"},so:{name:"Somali",native:"Soomaaliga"},sq:{name:"Albanian",native:"Shqip"},sr:{name:"Serbian",native:"\u0441\u0440\u043f\u0441\u043a\u0438 \u0458\u0435\u0437\u0438\u043a"},ss:{name:"Swati",native:"SiSwati"},st:{name:"Southern Sotho",native:"Sesotho"},su:{name:"Sundanese",native:"Basa Sunda"},sv:{name:"Swedish",native:"svenska"},sw:{name:"Swahili",native:"Kiswahili"},ta:{name:"Tamil",native:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd"},te:{name:"Telugu",native:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41"},tg:{name:"Tajik",native:"\u0442\u043e\u04b7\u0438\u043a\u04e3"},th:{name:"Thai",native:"\u0e44\u0e17\u0e22"},ti:{name:"Tigrinya",native:"\u1275\u130d\u122d\u129b"},tk:{name:"Turkmen",native:"T\xfcrkmen"},tl:{name:"Tagalog",native:"Wikang Tagalog"},tn:{name:"Tswana",native:"Setswana"},to:{name:"Tonga",native:"faka Tonga"},tr:{name:"Turkish",native:"T\xfcrk\xe7e"},ts:{name:"Tsonga",native:"Xitsonga"},tt:{name:"Tatar",native:"\u0442\u0430\u0442\u0430\u0440 \u0442\u0435\u043b\u0435"},tw:{name:"Twi",native:"Twi"},ty:{name:"Tahitian",native:"Reo Tahiti"},ug:{name:"Uyghur",native:"\u0626\u06c7\u064a\u063a\u06c7\u0631\u0686\u06d5\u200e"},uk:{name:"Ukrainian",native:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430"},ur:{name:"Urdu",native:"\u0627\u0631\u062f\u0648"},uz:{name:"Uzbek",native:"O\u02bbzbek"},ve:{name:"Venda",native:"Tshiven\u1e13a"},vi:{name:"Vietnamese",native:"Ti\u1ebfng Vi\u1ec7t"},vo:{name:"Volap\xfck",native:"Volap\xfck"},wa:{name:"Walloon",native:"walon"},wo:{name:"Wolof",native:"Wollof"},xh:{name:"Xhosa",native:"isiXhosa"},yi:{name:"Yiddish",native:"\u05d9\u05d9\u05b4\u05d3\u05d9\u05e9"},yo:{name:"Yoruba",native:"Yor\xf9b\xe1"},za:{name:"Zhuang",native:"Sa\u026f cue\u014b\u0185"},zh:{name:"Chinese",native:"\u4e2d\u6587"},zu:{name:"Zulu",native:"isiZulu"},aar:{name:"Afar",native:"Afaraf"},abk:{name:"Abkhaz",native:"\u0430\u04a7\u0441\u0443\u0430 \u0431\u044b\u0437\u0448\u04d9\u0430"},ave:{name:"Avestan",native:"avesta"},afr:{name:"Afrikaans",native:"Afrikaans"},aka:{name:"Akan",native:"Akan"},amh:{name:"Amharic",native:"\u12a0\u121b\u122d\u129b"},arg:{name:"Aragonese",native:"aragon\xe9s"},ara:{name:"Arabic",native:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629"},asm:{name:"Assamese",native:"\u0985\u09b8\u09ae\u09c0\u09af\u09bc\u09be"},ava:{name:"Avaric",native:"\u0430\u0432\u0430\u0440 \u043c\u0430\u0446\u04c0"},aym:{name:"Aymara",native:"aymar aru"},aze:{name:"Azerbaijani",native:"az\u0259rbaycan dili"},bak:{name:"Bashkir",native:"\u0431\u0430\u0448\u04a1\u043e\u0440\u0442 \u0442\u0435\u043b\u0435"},bel:{name:"Belarusian",native:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f \u043c\u043e\u0432\u0430"},bul:{name:"Bulgarian",native:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a"},bih:{name:"Bihari",native:"\u092d\u094b\u091c\u092a\u0941\u0930\u0940"},bis:{name:"Bislama",native:"Bislama"},bam:{name:"Bambara",native:"bamanankan"},ben:{name:"Bengali",native:"\u09ac\u09be\u0982\u09b2\u09be"},bod:{name:"Tibetan Standard",native:"\u0f56\u0f7c\u0f51\u0f0b\u0f61\u0f72\u0f42"},bre:{name:"Breton",native:"brezhoneg"},bos:{name:"Bosnian",native:"bosanski jezik"},cat:{name:"Catalan",native:"catal\xe0"},che:{name:"Chechen",native:"\u043d\u043e\u0445\u0447\u0438\u0439\u043d \u043c\u043e\u0442\u0442"},cha:{name:"Chamorro",native:"Chamoru"},cos:{name:"Corsican",native:"corsu"},cre:{name:"Cree",native:"\u14c0\u1426\u1403\u152d\u140d\u140f\u1423"},ces:{name:"Czech",native:"\u010de\u0161tina"},chu:{name:"Old Church Slavonic",native:"\u0469\u0437\u044b\u043a\u044a \u0441\u043b\u043e\u0432\u0463\u043d\u044c\u0441\u043a\u044a"},chv:{name:"Chuvash",native:"\u0447\u04d1\u0432\u0430\u0448 \u0447\u04d7\u043b\u0445\u0438"},cym:{name:"Welsh",native:"Cymraeg"},dan:{name:"Danish",native:"dansk"},deu:{name:"German",native:"Deutsch"},div:{name:"Divehi",native:"\u078b\u07a8\u0788\u07ac\u0780\u07a8"},dzo:{name:"Dzongkha",native:"\u0f62\u0fab\u0f7c\u0f44\u0f0b\u0f41"},ewe:{name:"Ewe",native:"E\u028begbe"},ell:{name:"Greek",native:"\u03b5\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac"},eng:{name:"English",native:"English"},epo:{name:"Esperanto",native:"Esperanto"},spa:{name:"Spanish",native:"Espa\xf1ol"},est:{name:"Estonian",native:"eesti"},eus:{name:"Basque",native:"euskara"},fas:{name:"Persian",native:"\u0641\u0627\u0631\u0633\u06cc"},ful:{name:"Fula",native:"Fulfulde"},fin:{name:"Finnish",native:"suomi"},fij:{name:"Fijian",native:"vosa Vakaviti"},fao:{name:"Faroese",native:"f\xf8royskt"},fra:{name:"French",native:"fran\xe7ais"},fry:{name:"Western Frisian",native:"Frysk"},gle:{name:"Irish",native:"Gaeilge"},gla:{name:"Scottish Gaelic",native:"G\xe0idhlig"},glg:{name:"Galician",native:"galego"},grn:{name:"Guaran\xed",native:"Ava\xf1e'\u1ebd"},guj:{name:"Gujarati",native:"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0"},glv:{name:"Manx",native:"Gaelg"},hau:{name:"Hausa",native:"(Hausa) \u0647\u064e\u0648\u064f\u0633\u064e"},heb:{name:"Hebrew",native:"\u05e2\u05d1\u05e8\u05d9\u05ea"},hin:{name:"Hindi",native:"\u0939\u093f\u0928\u094d\u0926\u0940"},hmo:{name:"Hiri Motu",native:"Hiri Motu"},hrv:{name:"Croatian",native:"hrvatski jezik"},hat:{name:"Haitian",native:"Krey\xf2l ayisyen"},hun:{name:"Hungarian",native:"magyar"},hye:{name:"Armenian",native:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576"},her:{name:"Herero",native:"Otjiherero"},ina:{name:"Interlingua",native:"Interlingua"},ind:{name:"Indonesian",native:"Bahasa Indonesia"},ile:{name:"Interlingue",native:"Interlingue"},ibo:{name:"Igbo",native:"As\u1ee5s\u1ee5 Igbo"},iii:{name:"Nuosu",native:"\ua188\ua320\ua4bf Nuosuhxop"},ipk:{name:"Inupiaq",native:"I\xf1upiaq"},ido:{name:"Ido",native:"Ido"},isl:{name:"Icelandic",native:"\xcdslenska"},ita:{name:"Italian",native:"Italiano"},iku:{name:"Inuktitut",native:"\u1403\u14c4\u1483\u144e\u1450\u1466"},jpn:{name:"Japanese",native:"\u65e5\u672c\u8a9e"},jav:{name:"Javanese",native:"\ua9a7\ua9b1\ua997\ua9ae"},kat:{name:"Georgian",native:"\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8"},kon:{name:"Kongo",native:"Kikongo"},kik:{name:"Kikuyu",native:"G\u0129k\u0169y\u0169"},kua:{name:"Kwanyama",native:"Kuanyama"},kaz:{name:"Kazakh",native:"\u049b\u0430\u0437\u0430\u049b \u0442\u0456\u043b\u0456"},kal:{name:"Kalaallisut",native:"kalaallisut"},khm:{name:"Khmer",native:"\u1781\u17d2\u1798\u17c2\u179a"},kan:{name:"Kannada",native:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1"},kor:{name:"Korean",native:"\ud55c\uad6d\uc5b4"},kau:{name:"Kanuri",native:"Kanuri"},kas:{name:"Kashmiri",native:"\u0915\u0936\u094d\u092e\u0940\u0930\u0940"},kur:{name:"Kurdish",native:"Kurd\xee"},kom:{name:"Komi",native:"\u043a\u043e\u043c\u0438 \u043a\u044b\u0432"},cor:{name:"Cornish",native:"Kernewek"},kir:{name:"Kyrgyz",native:"\u041a\u044b\u0440\u0433\u044b\u0437\u0447\u0430"},lat:{name:"Latin",native:"latine"},ltz:{name:"Luxembourgish",native:"L\xebtzebuergesch"},lug:{name:"Ganda",native:"Luganda"},lim:{name:"Limburgish",native:"Limburgs"},lin:{name:"Lingala",native:"Ling\xe1la"},lao:{name:"Lao",native:"\u0e9e\u0eb2\u0eaa\u0eb2\u0ea5\u0eb2\u0ea7"},lit:{name:"Lithuanian",native:"lietuvi\u0173 kalba"},lub:{name:"Luba-Katanga",native:"Tshiluba"},lav:{name:"Latvian",native:"latvie\u0161u valoda"},mlg:{name:"Malagasy",native:"fiteny malagasy"},mah:{name:"Marshallese",native:"Kajin M\u0327aje\u013c"},mri:{name:"M\u0101ori",native:"te reo M\u0101ori"},mkd:{name:"Macedonian",native:"\u043c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438 \u0458\u0430\u0437\u0438\u043a"},mal:{name:"Malayalam",native:"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02"},mon:{name:"Mongolian",native:"\u041c\u043e\u043d\u0433\u043e\u043b \u0445\u044d\u043b"},mar:{name:"Marathi",native:"\u092e\u0930\u093e\u0920\u0940"},msa:{name:"Malay",native:"bahasa Melayu"},mlt:{name:"Maltese",native:"Malti"},mya:{name:"Burmese",native:"\u1017\u1019\u102c\u1005\u102c"},nau:{name:"Nauruan",native:"Dorerin Naoero"},nob:{name:"Norwegian Bokm\xe5l",native:"Norsk bokm\xe5l"},nde:{name:"Northern Ndebele",native:"isiNdebele"},nep:{name:"Nepali",native:"\u0928\u0947\u092a\u093e\u0932\u0940"},ndo:{name:"Ndonga",native:"Owambo"},nld:{name:"Dutch",native:"Nederlands"},nno:{name:"Norwegian Nynorsk",native:"Norsk nynorsk"},nor:{name:"Norwegian",native:"Norsk"},nbl:{name:"Southern Ndebele",native:"isiNdebele"},nav:{name:"Navajo",native:"Din\xe9 bizaad"},nya:{name:"Chichewa",native:"chiChe\u0175a"},oci:{name:"Occitan",native:"occitan"},oji:{name:"Ojibwe",native:"\u140a\u14c2\u1511\u14c8\u142f\u14a7\u140e\u14d0"},orm:{name:"Oromo",native:"Afaan Oromoo"},ori:{name:"Oriya",native:"\u0b13\u0b21\u0b3c\u0b3f\u0b06"},oss:{name:"Ossetian",native:"\u0438\u0440\u043e\u043d \xe6\u0432\u0437\u0430\u0433"},pan:{name:"(Eastern) Punjabi",native:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40"},pli:{name:"P\u0101li",native:"\u092a\u093e\u0934\u093f"},pol:{name:"Polish",native:"j\u0119zyk polski"},pus:{name:"Pashto",native:"\u067e\u069a\u062a\u0648"},por:{name:"Portuguese",native:"Portugu\xeas"},que:{name:"Quechua",native:"Runa Simi"},roh:{name:"Romansh",native:"rumantsch grischun"},run:{name:"Kirundi",native:"Ikirundi"},ron:{name:"Romanian",native:"Rom\xe2n\u0103"},rus:{name:"Russian",native:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"},kin:{name:"Kinyarwanda",native:"Ikinyarwanda"},san:{name:"Sanskrit",native:"\u0938\u0902\u0938\u094d\u0915\u0943\u0924\u092e\u094d"},srd:{name:"Sardinian",native:"sardu"},snd:{name:"Sindhi",native:"\u0938\u093f\u0928\u094d\u0927\u0940"},sme:{name:"Northern Sami",native:"Davvis\xe1megiella"},sag:{name:"Sango",native:"y\xe2ng\xe2 t\xee s\xe4ng\xf6"},sin:{name:"Sinhalese",native:"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd"},slk:{name:"Slovak",native:"sloven\u010dina"},slv:{name:"Slovene",native:"slovenski jezik"},smo:{name:"Samoan",native:"gagana fa'a Samoa"},sna:{name:"Shona",native:"chiShona"},som:{name:"Somali",native:"Soomaaliga"},sqi:{name:"Albanian",native:"Shqip"},srp:{name:"Serbian",native:"\u0441\u0440\u043f\u0441\u043a\u0438 \u0458\u0435\u0437\u0438\u043a"},ssw:{name:"Swati",native:"SiSwati"},sot:{name:"Southern Sotho",native:"Sesotho"},sun:{name:"Sundanese",native:"Basa Sunda"},swe:{name:"Swedish",native:"svenska"},swa:{name:"Swahili",native:"Kiswahili"},tam:{name:"Tamil",native:"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd"},tel:{name:"Telugu",native:"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41"},tgk:{name:"Tajik",native:"\u0442\u043e\u04b7\u0438\u043a\u04e3"},tha:{name:"Thai",native:"\u0e44\u0e17\u0e22"},tir:{name:"Tigrinya",native:"\u1275\u130d\u122d\u129b"},tuk:{name:"Turkmen",native:"T\xfcrkmen"},tgl:{name:"Tagalog",native:"Wikang Tagalog"},tsn:{name:"Tswana",native:"Setswana"},ton:{name:"Tonga",native:"faka Tonga"},tur:{name:"Turkish",native:"T\xfcrk\xe7e"},tso:{name:"Tsonga",native:"Xitsonga"},tat:{name:"Tatar",native:"\u0442\u0430\u0442\u0430\u0440 \u0442\u0435\u043b\u0435"},twi:{name:"Twi",native:"Twi"},tah:{name:"Tahitian",native:"Reo Tahiti"},uig:{name:"Uyghur",native:"\u0626\u06c7\u064a\u063a\u06c7\u0631\u0686\u06d5\u200e"},ukr:{name:"Ukrainian",native:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430"},urd:{name:"Urdu",native:"\u0627\u0631\u062f\u0648"},uzb:{name:"Uzbek",native:"O\u02bbzbek"},ven:{name:"Venda",native:"Tshiven\u1e13a"},vie:{name:"Vietnamese",native:"Ti\u1ebfng Vi\u1ec7t"},vol:{name:"Volap\xfck",native:"Volap\xfck"},wln:{name:"Walloon",native:"walon"},wol:{name:"Wolof",native:"Wollof"},xho:{name:"Xhosa",native:"isiXhosa"},yid:{name:"Yiddish",native:"\u05d9\u05d9\u05b4\u05d3\u05d9\u05e9"},yor:{name:"Yoruba",native:"Yor\xf9b\xe1"},zha:{name:"Zhuang",native:"Sa\u026f cue\u014b\u0185"},zho:{name:"Chinese",native:"\u4e2d\u6587"},zul:{name:"Zulu",native:"isiZulu"},tib:{name:"Tibetan Standard",native:"\u0f56\u0f7c\u0f51\u0f0b\u0f61\u0f72\u0f42"},cze:{name:"Czech",native:"\u010de\u0161tina"},wel:{name:"Welsh",native:"Cymraeg"},ger:{name:"German",native:"Deutsch"},gre:{name:"Greek",native:"\u03b5\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac"},baq:{name:"Basque",native:"euskara"},per:{name:"Persian",native:"\u0641\u0627\u0631\u0633\u06cc"},fre:{name:"French",native:"fran\xe7ais"},arm:{name:"Armenian",native:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576"},ice:{name:"Icelandic",native:"\xcdslenska"},geo:{name:"Georgian",native:"\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8"},mao:{name:"M\u0101ori",native:"te reo M\u0101ori"},mac:{name:"Macedonian",native:"\u043c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438 \u0458\u0430\u0437\u0438\u043a"},may:{name:"Malay",native:"bahasa Melayu"},bur:{name:"Burmese",native:"\u1017\u1019\u102c\u1005\u102c"},dut:{name:"Dutch",native:"Nederlands"},rum:{name:"Romanian",native:"Rom\xe2n\u0103"},slo:{name:"Slovak",native:"sloven\u010dina"},alb:{name:"Albanian",native:"Shqip"},chi:{name:"Chinese",native:"\u4e2d\u6587"}},w=function(){function e(){this.listeners_={}}return e.prototype.emit=function(e,t){(this.listeners_[e]||[]).forEach((function(e){e.call(null,t)}))},e.prototype.off=function(e,t){this.listeners_[e]=(this.listeners_[e]||[]).filter((function(e){return e!==t}))},e.prototype.on=function(e,t){this.listeners_[e]=(this.listeners_[e]||[]).concat(t)},e.prototype.one=function(e,t){var n=this;this.listeners_[e]=(this.listeners_[e]||[]).concat((function r(i){t.call(null,i),n.off(e,r)}))},e}(),k=function(e,t,n){var r=n||{usePlayingRenditionInAbrLabel:!1,useNativeLanguageNames:!1};if(r.abrLabel=r.abrLabel||"Auto",r.disabledTrackLabel=r.disabledTrackLabel||"Off",r.unknownTrackLabel=r.unknownTrackLabel||"Unknown","abr"==e.id)return t.playingVideoTrack&&t.playingVideoTrack.ppTrack&&t.playingVideoTrack.ppTrack.height&&r.usePlayingRenditionInAbrLabel?"".concat(r.abrLabel," (").concat(t.playingVideoTrack.ppTrack.height,"p)"):r.abrLabel;if(!e.ppTrack)return r.disabledTrackLabel;if("video"==e.type){if(!e.ppTrack.height)return r.unknownTrackLabel;var i="".concat(e.ppTrack.height,"p");return"Mbps"===r.showVideoBitrate&&e.ppTrack.bandwidth&&(i+=" (".concat((e.ppTrack.bandwidth/1048576).toFixed(1)," Mbps)")),i}if(e.label)return e.label;if(e.ppTrack.language){var a=b[e.ppTrack.language];if(a)return r.useNativeLanguageNames?a.native:a.name}var o=t["".concat(e.type,"Tracks")];return o.indexOf(e)>=0&&o.length,"".concat(r.unknownTrackLabel)},T=function(e,t){return e.ppTrack?t.ppTrack?e.ppTrack.height&&t.ppTrack.height?t.ppTrack.height-e.ppTrack.height:e.label&&t.label?e.label.localeCompare(t.label):e.ppTrack.language&&t.ppTrack.language?e.ppTrack.language.localeCompare(t.ppTrack.language):0:1:-1};t.ZM=void 0,(m=t.ZM||(t.ZM={}))[m.Idle=r.clpp.Player.State.IDLE]="Idle",m[m.Preparing=r.clpp.Player.State.PREPARING]="Preparing",m[m.Buffering=r.clpp.Player.State.BUFFERING]="Buffering",m[m.Playing=r.clpp.Player.State.PLAYING]="Playing",m[m.Paused=r.clpp.Player.State.PAUSED]="Paused",m[m.Ended=r.clpp.Player.State.ENDED]="Ended",m[m.Error=r.clpp.Player.State.ERROR]="Error",m[m.Unset=r.clpp.Player.State.UNSET]="Unset",t.Ll=void 0,(y=t.Ll||(t.Ll={}))[y.Seeking=r.clpp.events.BufferingReasons.SEEKING]="Seeking",y[y.NoData=r.clpp.events.BufferingReasons.NO_DATA]="NoData";var S,E=function(e){switch(e){case r.clpp.events.BufferingReasons.NO_DATA:return t.Ll.NoData;case r.clpp.events.BufferingReasons.SEEKING:return t.Ll.Seeking;default:return}},x=function(e){switch(e){case r.clpp.Player.State.IDLE:return t.ZM.Idle;case r.clpp.Player.State.PREPARING:return t.ZM.Preparing;case r.clpp.Player.State.BUFFERING:return t.ZM.Buffering;case r.clpp.Player.State.PLAYING:return t.ZM.Playing;case r.clpp.Player.State.PAUSED:return t.ZM.Paused;case r.clpp.Player.State.ENDED:return t.ZM.Ended;case r.clpp.Player.State.ERROR:return t.ZM.Error;case r.clpp.Player.State.UNSET:default:return t.ZM.Unset}},I=function(e){return e!=t.ZM.Idle&&e!=t.ZM.Unset&&e!=t.ZM.Error},C=function(){function e(e){var t=this;this.pp_=null,this._actionQueue_=[],this._controlsVisible=!1,this._slideInMenuVisible=!1,this._videoTrack=p("video"),this._audioTrack=p("audio"),this._textTrack=p("text"),this._videoTracks=[],this._audioTracks=[],this._textTracks=[],this._trackSorter=T,this._trackLabeler=k,this._eventEmitter=new w,this._isUserSeeking=!1,this._userSeekingTarget=-1,this._rate=1,this._configLoaded=!1,this._initializer=e,this._actionQueuePromise=new Promise((function(e){t._actionQueueResolved=e}))}return e.prototype.init=function(e,n){return o(this,void 0,void 0,(function(){var i,a,o=this;return u(this,(function(u){switch(u.label){case 0:if(this.pp_)return[2];this.pp_=new r.clpp.Player(e,n),i=function(e){return function(){e&&"video"!=e||(o.videoTrack=l(o.pp_,"video"),o.videoTracks=g(o.pp_,"video")),e&&"audio"!=e||(o.audioTrack=l(o.pp_,"audio"),o.audioTracks=g(o.pp_,"audio")),e&&"text"!=e||(o.textTrack=l(o.pp_,"text"),o.textTracks=g(o.pp_,"text"))}},this.pp_.on(r.clpp.events.TRACKS_ADDED,i()),this.pp_.on(r.clpp.events.AUDIO_TRACK_CHANGED,i("audio")),this.pp_.on(r.clpp.events.VIDEO_TRACK_CHANGED,i("video")),this.pp_.on(r.clpp.events.TEXT_TRACK_CHANGED,i("text")),this.pp_.on(r.clpp.events.STATE_CHANGED,(function(e){var t=x(e.detail.currentState),n=x(e.detail.previousState);o.emitUIEvent("statechanged",{currentState:t,previousState:n,reason:E(e.detail.reason),timeSinceLastStateChangeMS:e.detail.timeSinceLastStateChangeMS}),I(t)!=I(n)&&o.emitUIEvent("enabled",I(t))})),this.pp_.on("timeupdate",(function(){o.emitUIEvent("position",o.pp_.getPosition())})),this.pp_.on("ratechange",(function(){var e=o.pp_.getPlaybackRate();o.state!=t.ZM.Buffering&&(o._rate=e,o.emitUIEvent("ratechange",o.rate))})),this.pp_.on("durationchange",(function(){o.emitUIEvent("durationchange",o.pp_.getDuration())})),this.pp_.on("volumechange",(function(){o.emitUIEvent("volumechange",{volume:o.volume,muted:o.muted})})),this.pp_.on(r.clpp.events.BITRATE_CHANGED,(function(e){e&&e.detail?o.playingVideoTrack=v(o.pp_,e.detail.rendition,"video"):o.playingVideoTrack=void 0,i("video")})),this._rate=this.pp_.getPlaybackRate(),this._initializer&&this._initializer(this.pp_),a=0,u.label=1;case 1:return a<this._actionQueue_.length?[4,this._actionQueue_[a]()]:[3,4];case 2:u.sent(),u.label=3;case 3:return a++,[3,1];case 4:return this._actionQueue_=[],this._actionQueueResolved&&this._actionQueueResolved(),[2]}}))}))},Object.defineProperty(e.prototype,"position",{get:function(){return this.pp_?this._isUserSeeking?this._userSeekingTarget:this.pp_.getPosition():0},set:function(e){var t=this;this.pp_&&(this._isUserSeeking?(this._userSeekingTarget=e,this.emitUIEvent("position",e)):(this._isUserSeeking=!0,this._userSeekingTarget=e,this.pp_.seek(e).finally((function(){t._isUserSeeking=!1,t._userSeekingTarget!=e?t.position=t._userSeekingTarget:(t._userSeekingTarget=-1,t.emitUIEvent("position",t.pp_.getPosition()))})),this.emitUIEvent("position",e)))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this.pp_?this.pp_.getDuration():0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"live",{get:function(){return!!this.pp_&&this.pp_.isLive()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seekRange",{get:function(){return this.pp_?this.pp_.getSeekRange():{start:0,end:0}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this.pp_?this.pp_.getVolume():1},set:function(e){this.pp_&&(this.muted&&e>0&&(this.muted=!1),this.pp_.setVolume(e))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"muted",{get:function(){return!!this.pp_&&this.pp_.isMuted()},set:function(e){this.pp_&&this.pp_.setMuted(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this.pp_?x(this.pp_.getState()):t.ZM.Unset},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rate",{get:function(){return this.pp_?this._rate:1},set:function(e){this.pp_&&(this._rate=e,this.pp_.setPlaybackRate(e),this.state==t.ZM.Buffering&&this.emitUIEvent("ratechange",e))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return!!this.pp_&&this.state!=t.ZM.Idle&&!this.pp_.isPaused()},set:function(e){var t=this;this.pp_&&(!this._configLoaded&&e?this.load().then((function(){e?t.pp_.play():t.pp_.pause()})):this._configLoaded&&(e?this.pp_.play():this.pp_.pause()))},enumerable:!1,configurable:!0}),e.prototype.load=function(e,t){var n=this;return void 0===t&&(t=!1),e?(this._config=e,this.action((function(){return o(n,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return[4,this.reset_()];case 1:return n.sent(),e&&t?(this._configLoaded=!0,[4,this.pp_.load(e)]):[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}))):this.action((function(){return o(n,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.pp_.release()];case 1:return e.sent(),this._config?(this._configLoaded=!0,[4,this.pp_.load(this._config)]):[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))}))},Object.defineProperty(e.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),e.prototype.release=function(){return o(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return this._config=null,[4,this.reset_()];case 1:return e.sent(),[2]}}))}))},e.prototype.reset_=function(){return o(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return this.pp_?[4,this.pp_.release()]:[3,2];case 1:e.sent(),e.label=2;case 2:return this._configLoaded=!1,this.emitUIEvent("position",0),this.emitUIEvent("durationchange",0),this.videoTracks=[],this.audioTracks=[],this.textTracks=[],this.videoTrack=h("video",!0),this.audioTrack=h("audio",!0),this.textTrack=h("text",!0),[2]}}))}))},e.prototype.setHoverPosition=function(e,t){this.emitUIEvent("hoverPosition",{position:e,percent:t})},Object.defineProperty(e.prototype,"controlsVisible",{get:function(){return this._controlsVisible},set:function(e){e!=this._controlsVisible&&(this._controlsVisible=e,this.emitUIEvent("controlsVisible",e))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"slideInMenuVisible",{get:function(){return this._slideInMenuVisible},set:function(e){e!=this._slideInMenuVisible&&(this._slideInMenuVisible=e,this.emitUIEvent("slideInMenuVisible",e))},enumerable:!1,configurable:!0}),e.prototype.surfaceInteraction=function(){this.emitUIEvent("surfaceInteraction",void 0)},Object.defineProperty(e.prototype,"playingVideoTrack",{get:function(){return this._playingVideoTrack},set:function(e){A(e,this._playingVideoTrack)||(this._playingVideoTrack=e,this.emitUIEvent("playingVideoTrackChanged",e))},enumerable:!1,configurable:!0}),e.prototype.presto=function(){return o(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this._actionQueuePromise];case 1:return e.sent(),[2,this.pp_]}}))}))},e.prototype.action=function(e){return o(this,void 0,void 0,(function(){var t=this;return u(this,(function(n){switch(n.label){case 0:return this.pp_?[4,e()]:[3,2];case 1:return n.sent(),[3,3];case 2:new Promise((function(n){t._actionQueue_.push((function(){return o(t,void 0,void 0,(function(){var t;return u(this,(function(r){switch(r.label){case 0:return t=n,[4,e()];case 1:return t.apply(void 0,[r.sent()]),[2]}}))}))}))})),n.label=3;case 3:return[2]}}))}))},Object.defineProperty(e.prototype,"videoTrack",{get:function(){return this._videoTrack},set:function(e){A(this._videoTrack,e)||(this._videoTrack=e,this.emitUIEvent("videoTrackChanged",e))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"audioTrack",{get:function(){return this._audioTrack},set:function(e){A(this._audioTrack,e)||(this._audioTrack=e,this.emitUIEvent("audioTrackChanged",e))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textTrack",{get:function(){return this._textTrack},set:function(e){A(this._textTrack,e)||(this._textTrack=e,this.emitUIEvent("textTrackChanged",e))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textTracks",{get:function(){return this._textTracks},set:function(e){if(e.length>0&&!e.find((function(e){return"abr"==e.id}))){var t=h("text",!e.find((function(e){return e.selected})));e.push(t)}P(this.textTracks,e)||(this._textTracks=e.sort(this._trackSorter),this.emitUIEvent("textTracksAvailable",e))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"audioTracks",{get:function(){return this._audioTracks},set:function(e){P(this.audioTracks,e)||(this._audioTracks=e.sort(this._trackSorter),this.emitUIEvent("audioTracksAvailable",e))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"videoTracks",{get:function(){return this._videoTracks},set:function(e){if((e=e.filter((function(e){return e.ppTrack&&e.ppTrack.height&&e.ppTrack.width}))).length>0&&!e.find((function(e){return"abr"==e.id}))){var t=e.find((function(e){return e.selected})),n=d();n.selected=!t,e.push(n)}P(this._videoTracks,e)||(this._videoTracks=e.sort(this._trackSorter),this.emitUIEvent("videoTracksAvailable",e))},enumerable:!1,configurable:!0}),e.prototype.activeTrack=function(e){switch(e){case"video":return this.videoTrack;case"text":return this.textTrack;case"audio":return this.audioTrack}},e.prototype.selectTrack=function(e){if(this.pp_)try{var t=this.pp_.getTrackManager();"abr"==e.id?(t.setVideoTrack(null),this.videoTrack=l(this.pp_,"video"),this.videoTracks=g(this.pp_,"video")):(e.selected=!0,"audio"==e.type?(t.setAudioTrack(e.ppTrack),this.audioTrack=l(this.pp_,"audio"),this.audioTracks=g(this.pp_,"audio")):"text"==e.type?(t.setTextTrack(e.ppTrack),this.textTrack=l(this.pp_,"text"),this.textTracks=g(this.pp_,"text")):"video"==e.type&&(t.setVideoRendition(e.ppTrack,!0),this.videoTrack=l(this.pp_,"video"),this.videoTracks=g(this.pp_,"video"))),this.emitUIEvent("trackSelected",e)}catch(t){console.log("unable to select track: ".concat(t),e)}},Object.defineProperty(e.prototype,"enabled",{get:function(){return I(this.state)},enumerable:!1,configurable:!0}),e.prototype.getTrackLabel=function(e,t,n){return n=n||this._trackLabelerOptions,(t=t||this._trackLabeler)(e,this,n)},Object.defineProperty(e.prototype,"trackLabeler",{set:function(e){this._trackLabeler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trackLabelerOptions",{set:function(e){this._trackLabelerOptions=e},enumerable:!1,configurable:!0}),e.prototype.emitUIEvent=function(e,t){this._eventEmitter.emit(e,t)},e.prototype.offUIEvent=function(e,t){this._eventEmitter.off(e,t)},e.prototype.onUIEvent=function(e,t){this._eventEmitter.on(e,t)},e}(),A=function(e,t){return!e&&!t||!(!e&&t)&&!(e&&!t)&&e.type==t.type&&e.ppTrack==t.ppTrack&&e.selected==t.selected&&e.id==t.id},P=function(e,t){return e.length==t.length&&e.every((function(e){return t.find((function(t){return A(e,t)}))}))&&t.every((function(t){return e.find((function(e){return A(t,e)}))}))};function M(e,t){var n=[];for(var r in e)e[r]&&n.push(r);return t&&n.push(t),n.join(" ")}function N(e,t){void 0===t&&(t="%hh:%mm:%ss"),null==e&&(e=0),null==t&&(t="%h:%mm:%ss");var n=Math.floor(e/3600),r=Math.floor((e-3600*n)/60),i=Math.floor(e-3600*n-60*r);return t.replace(/(%h+)/,L(String(n))).replace(/(%m+)/,L(String(r))).replace(/(%s+)/,L(String(i)))}function R(e){return e>=0&&e<3600?"%mm:%ss":"%hh:%mm:%ss"}function D(e,t){return void 0===e?t:e}function _(e,t){return e.length<t?_("0"+e,t):e}function L(e){return function(t,n){return _(e,n.length-1)}}function O(e){var t=e.querySelectorAll('a:not([disabled]):not([style*="display:none"]), button:not([disabled]):not([style*="display:none"]), input[type=text]:not([disabled]):not([style*="display:none"]), [tabindex]:not([disabled]):not([tabindex="-1"]):not([style*="display:none"])');return Array.prototype.filter.call(t,(function(e){return e.offsetWidth>0||e.offsetHeight>0||e===document.activeElement})).filter((function(e){return null!==e.offsetParent&&"none"!=getComputedStyle(e).display&&!e.classList.contains("pp-ui-disabled")}))}function Z(e){var t=-1;document.activeElement&&(t=e.indexOf(document.activeElement)),(t=-1==t?0:t+1)>=e.length&&(t=0),U(e[t])}function j(e){var t=-1;document.activeElement&&(t=e.indexOf(document.activeElement)),(t=-1==t?e.length-1:t-1)<0&&(t=e.length-1),U(e[t])}function U(e){S&&clearTimeout(S),document.activeElement!=e&&(e.focus(),document.activeElement!=e&&(S=setTimeout((function(){U(e)}),64)))}function F(){return!!/iPhone|iPod/.test(navigator.platform)||!H()&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform)}function H(){return navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform)}function z(e,t,n,r){function a(e){return o(this,void 0,void 0,(function(){var r;return u(this,(function(i){switch(i.label){case 0:return[4,t.presto()];case 1:return r=i.sent(),n(e,r),[2]}}))}))}r=r||[];var l,c=!0;i.useEffect((function(){return t.presto().then((function(t){c&&(l=t,t.on(e,a))})),function(){c=!1,l&&l.off(e,a)}}),s([t],r,!0))}function G(e,t,n,r){r=r||[],i.useEffect((function(){return t.onUIEvent(e,n),function(){t.offUIEvent(e,n)}}),s([t],r,!0))}function B(e,t){i.useEffect((function(){var n=!1;return e.presto().then((function(e){n||t(e)})),function(){n=!0}}),[e])}function V(e,t){var n=this;i.useEffect((function(){var r=function(r){return o(n,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return!e.current||e.current.contains(r.target)?[3,2]:[4,t()];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))};return document.addEventListener("click",r),function(){document.removeEventListener("click",r)}}))}function W(e){var t=i.useState(e.enabled),n=t[0],r=t[1];return G("enabled",e,(function(e){r(e)})),n}function K(e){var t=i.useState(e.enabled),n=t[0],r=t[1];return G("enabled",e,(function(e){r(e)})),n?"pp-ui-enabled":"pp-ui-disabled"}var q,Y,X,$=i.forwardRef((function(e,t){var n;return i.createElement("button",{type:"button",ref:t,tabIndex:e.disabled?-1:0,style:e.style,className:"pp-ui pp-ui-button ".concat(e.disableIcon?"pp-ui-button-no-icon":""," ")+"".concat(e.disabled?"pp-ui-disabled":"pp-ui-enabled"," ").concat(null!==(n=e.className)&&void 0!==n?n:""),onClick:function(t){e.disabled||e.onClick&&(e.onClick(t),t.preventDefault())}},e.disableIcon?void 0:i.createElement("i",{className:"pp-ui pp-ui-icon"}),e.children)})),J=function(e){var t=i.useState(e.player.controlsVisible||e.showWhenDisabled&&!e.player.enabled),n=t[0],r=t[1],a=i.useState(-1),o=a[0],u=a[1],s=i.useRef(null),l=i.createRef(),c=function(t,i){void 0===i&&(i=!1),i||(e.player.controlsVisible=t),n=t,r(t)};G("controlsVisible",e.player,(function(e){c(e,!0),e&&d()})),G("slideInMenuVisible",e.player,(function(e){c(!e),e||d()})),G("surfaceInteraction",e.player,(function(){e.player.slideInMenuVisible||(c(!0),d())}));var f=function(){c(!1)};function d(){s.current&&(clearTimeout(s.current),s.current=null),n&&(s.current=setTimeout(f,1e3*(e.hideDelay||5)))}return i.useEffect((function(){return d(),function(){s.current&&(clearTimeout(s.current),s.current=null)}})),i.useEffect((function(){var e=function(){if(l.current){var e=O(l.current).indexOf(document.activeElement);e>=0&&u(e)}};if(l.current&&l.current.addEventListener("focusin",e),n&&l.current){var t=O(l.current);t.indexOf(document.activeElement)<0&&(o>=0&&o<t.length?U(t[o]):Z(t))}return function(){l.current&&l.current.removeEventListener("focusin",e)}})),i.createElement("div",{ref:l,className:"pp-ui-controls ".concat(H()?"pp-ui-ipad":""," ").concat(n?"pp-ui-controls-visible":"").concat(e.className||""),style:e.style,onMouseMove:function(){d()}},e.children)},Q=function(e){return i.createElement("div",{className:"pp-ui pp-ui-vertical-bar ".concat(e.className||""),style:e.style},e.children)},ee=function(e){return i.createElement("div",{className:"pp-ui pp-ui-row pp-ui-horizontal-bar ".concat(e.className||""),style:e.style},e.children)},te=function(e){return i.createElement("div",{className:"pp-ui pp-ui-spacer ".concat(e.className||""),style:e.style},e.children)},ne=function(e){var t=i.useState(!1),n=t[0],r=t[1],a=W(e.player),s=i.createRef();return G("slideInMenuVisible",e.player,(function(e){r(e)})),i.createElement($,{onClick:function(t){return o(this,void 0,void 0,(function(){return u(this,(function(i){return r(!n),e.player.slideInMenuVisible=!n,t.stopPropagation(),s.current&&!n&&s.current.blur(),[2]}))}))},disableIcon:!1,disabled:!a,ref:s,className:"pp-ui-slideinmenu-toggle ".concat(e.className||"")},e.children)};function re(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=this.childNodes;n.length;)n[0].remove();this.append.apply(this,e)}(q=Document.prototype).replaceChildren||(q.replaceChildren=re),(Y=DocumentFragment.prototype).replaceChildren||(Y.replaceChildren=re),(X=Element.prototype).replaceChildren||(X.replaceChildren=re);var ie=function(e){var t=i.useState(),n=t[0],o=t[1],u=i.useState(!1),s=u[0],l=u[1],c=i.useState(0),f=c[0],d=c[1],h=i.createRef(),p=i.useState(-1),v=p[0],g=p[1],m=i.useState(0),y=m[0],b=m[1];return B(e.player,(function(e){o(e.getPlugin(r.clpp.thumbnails.ThumbnailsPlugin.Id))})),G("hoverPosition",e.player,(function(t){e.listenToHover&&(g(t.position),b(t.percent))})),i.useLayoutEffect((function(){!function(){if(n){var t=h.current;if(t){var r=e.listenToHover&&v>=0;if(!(null!=e.position&&e.position>=0||r))return l(!1),void t.replaceChildren();var i=r?v:e.position;n.get(i).then((function(e){return e.load()})).then((function(e){return e.element()})).then((function(n){if(t){var r=Number(n.style.width.replace("px","")),i=Number(n.style.height.replace("px",""));t.clientWidth;var a=t.clientHeight,o=a/i;t.style.width=r*o+"px",n.style.transformOrigin="top left",n.style.transform="scale("+o+") translateY(-50%)",n.style.backgroundColor="transparent",n.style.position="absolute",n.style.top="50%",e.onThumbSize&&e.onThumbSize(r*o,a),d(r*o),l(!0),t.replaceChildren(n)}})).catch((function(e){}))}}}()}),[n,h,v]),i.createElement("div",{ref:h,style:a(a({},e.moveRelativeToParent?{position:"absolute",margin:"auto",left:"calc((100% - ".concat(f,"px) * ").concat(y,"/100) "),transform:"translateY(-50%)"}:{}),e.style||{}),className:"pp-ui pp-ui-thumbnail ".concat(s?"pp-ui-thumbnail-with-thumb":""," ").concat(e.className||"")})};function ae(e){var n=e.player,r=e.state,i=e.resetRate,a=e.reason;return r==t.ZM.Buffering&&a==t.Ll.Seeking?n.playing:r==t.ZM.Playing&&(!i||1===n.rate)}var oe,ue=function(e){var t=e.player,n=e.resetRate,r=function(e,t){var n=i.useState(ae({state:e.state,player:e,resetRate:t})),r=n[0],a=n[1];return G("ratechange",e,(function(){a(ae({state:e.state,player:e,resetRate:t}))})),G("statechanged",e,(function(n){var r=n.currentState,i=n.reason;a(ae({state:r,player:e,resetRate:t,reason:i}))})),i.useDebugValue(r?"playing":"not playing"),r}(t,null!=n&&n),a="pp-ui-playpause-toggle pp-ui-playpause-toggle-".concat(r?"pause":"play")+" ".concat(e.className||"");return i.createElement($,{onClick:function(){return o(this,void 0,void 0,(function(){return u(this,(function(e){return n&&1!==t.rate?(t.rate=1,t.playing=!0,[2]):(t.playing=!t.playing,[2])}))}))},disableIcon:e.disableIcon,style:e.style,className:a},e.children)},se=function(e){var t=W(e.player);return e.seconds?i.createElement($,{onClick:function(){return e.player.position+=e.seconds},disableIcon:e.disableIcon,disabled:!t,className:"pp-ui-seek pp-ui-seek-".concat(e.seconds<0?"back":"forward"," ").concat(e.className||"")},e.children):i.createElement(i.Fragment,null)},le=function(e){var t=i.useState(!1),n=t[0],r=t[1],s=i.useState(!1),l=s[0],c=s[1],f=i.useState(e.value),d=f[0],h=f[1],p=i.createRef(),v=i.createRef(),g=function(){return n?d:e.value};function m(e){var t=v.current;if(!t)return-1;var n,r=t.getBoundingClientRect(),i=r.width;if("touchmove"===e.type||"touchstart"===e.type||"touchend"===e.type){var a=e;n=a.changedTouches[a.changedTouches.length-1].pageX-r.left}else n=e.pageX-r.left;return Math.min(100,Math.max(0,n/i*100))}function y(t){return o(this,void 0,void 0,(function(){var n;return u(this,(function(r){return(n=m(t))<0||e.onApplyValue&&e.onApplyValue(n),[2]}))}))}function b(t,n){return void 0===n&&(n=!0),o(this,void 0,void 0,(function(){var r;return u(this,(function(i){return(r=m(t))<0||(h(r),n&&e.onApplyHoverValue&&e.onApplyHoverValue(r)),[2]}))}))}function w(e){return o(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return r(!0),c(!0),[4,b(e,!1)];case 1:return t.sent(),[2]}}))}))}function k(t){return o(this,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return t.type.startsWith("touch")&&t.preventDefault(),[4,b(t,!1)];case 1:return n.sent(),[4,y(t)];case 2:return n.sent(),c(!1),e.hoverMovement&&!t.type.startsWith("touch")||(r(!1),e.onApplyHoverValue&&e.onApplyHoverValue(-1)),[2]}}))}))}function T(t){return o(this,void 0,void 0,(function(){return u(this,(function(i){switch(i.label){case 0:return e.hoverMovement||n?(r(!0),[4,b(t)]):[3,3];case 1:return i.sent(),l&&e.adjustWhileDragging?[4,y(t)]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}i.useEffect((function(){var t,n=function(t){if(e.onKeyDown)e.onKeyDown(t);else if(!e.disableKeyboardAdjustments&&!(["ArrowRight","ArrowLeft","Enter","Space","Escape"].indexOf(t.code)<0)&&(l||"ArrowRight"!=t.code&&"ArrowLeft"!=t.code||(l=!0,c(!0),r(!0),d=e.value,h(d)),l))if("Escape"==t.code)e.onApplyHoverValue&&e.onApplyHoverValue(-1),c(!1),r(!1),t.preventDefault();else if("Space"==t.code||"Enter"==t.code)e.onApplyHoverValue&&e.onApplyHoverValue(-1),e.onApplyValue&&e.onApplyValue(d),c(!1),r(!1),t.preventDefault();else if("ArrowLeft"==t.code||"ArrowRight"==t.code){var n=d;n=Math.min(100,Math.max(0,n+("ArrowLeft"==t.code?-1:1))),h(Math.min(100,n)),e.onApplyHoverValue&&e.onApplyHoverValue(n),t.preventDefault()}},i=function(){e.onApplyHoverValue&&e.onApplyHoverValue(-1),c(!1),r(!1)};return p.current&&((t=p.current).addEventListener("keydown",n),t.addEventListener("focusout",i)),function(){t&&(t.removeEventListener("keydown",n),t.removeEventListener("focusout",i))}}));var S={position:"absolute",touchAction:"none",left:0,right:0,top:0,bottom:0,margin:"auto"},E={position:"absolute",top:0,bottom:0,margin:"auto",left:g()+"%"},x=a(a({},S),{right:100-g()+"%"}),I=function(){};return i.createElement("div",{ref:p,className:"pp-ui-slider ".concat(n?"pp-ui-slider-interacting":""," ").concat(e.disabled?"pp-ui-disabled":"pp-ui-enabled"," ").concat(e.className||""),style:{position:"relative",touchAction:"none"},onClick:e.disabled?I:function(e){e.preventDefault()},onMouseDown:e.disabled?I:w,onMouseMove:e.disabled?I:T,onMouseUp:e.disabled?I:k,onMouseLeave:e.disabled?I:function(t){return o(this,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return r(!1),l?[4,y(t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return c(!1),e.onApplyHoverValue&&e.onApplyHoverValue(-1),[2]}}))}))},onTouchStart:e.disabled?I:w,onTouchMove:e.disabled?I:T,onTouchEnd:e.disabled?I:k,tabIndex:e.disabled||e.notFocusable?-1:0},i.createElement("div",{ref:v,style:S,className:"pp-ui-slider-range "}),i.createElement("div",{className:"pp-ui-slider-range pp-ui-slider-range-progress",style:x}),i.createElement("div",{className:"pp-ui-slider-range-thumb",style:E}))},ce=i.forwardRef((function(e,t){var n,r=i.useState(0),a=r[0],s=r[1],l=i.useState(-1),c=l[0],f=l[1],d=i.useState(0),h=d[0],p=d[1],v=i.useState(0),g=v[0],m=v[1],y=function(e,t){var n=W(e);return t&&n}(e.player,null===(n=e.enabled)||void 0===n||n);G("position",e.player,(function(t){return o(void 0,void 0,void 0,(function(){return u(this,(function(n){return function(t){var n=e.player.seekRange,r=n.end-n.start,i=(t=t||e.player.position)-n.start,a=Math.min(100,Math.max(0,i/r*100));s(a)}(t),[2]}))}))}));var b=function(e,t){m(e)};return i.createElement("div",{className:"pp-ui-seekbar ".concat(e.className||""),style:e.style,ref:t},i.createElement(le,{hoverMovement:!0,value:a,onKeyDown:e.adjustWithKeyboard?void 0:function(t){return o(void 0,void 0,void 0,(function(){var n,r,i,a,o,l,c,f,d;return u(this,(function(u){return n=e.player,r=n.seekRange,i=-1,a=D(e.keyboardSeekForward,10),o=D(e.keyboardSeekBackward,-10),l=n.position,"ArrowLeft"==t.key&&0!=o?i=Math.max(r.start,l+o):"ArrowRight"==t.key&&0!=a&&(i=Math.min(l+a,r.end)),i>=0&&(n.position=i,c=r.end-r.start,f=i-r.start,d=Math.min(100,Math.max(0,f/c*100)),s(d)),[2]}))}))},disableKeyboardAdjustments:!e.adjustWithKeyboard,onApplyValue:function(t){return o(this,void 0,void 0,(function(){var n,r;return u(this,(function(i){return e.player.surfaceInteraction(),n=e.player.seekRange,r=n.end-n.start,e.player.position=n.start+r*(t/100),[2]}))}))},onApplyHoverValue:function(t){return o(this,void 0,void 0,(function(){var n,r,i;return u(this,(function(a){return t<=0?(e.player.setHoverPosition(t,t),f(t),p(0),[2]):(e.player.surfaceInteraction(),n=e.player.seekRange,r=n.end-n.start,i=n.start+r*(t/100),e.player.setHoverPosition(i,t),p(t),f(i),[2])}))}))},adjustWhileDragging:e.adjustWhileDragging,disabled:!y,notFocusable:e.notFocusable}),function(){if(e.enableThumbnailSlider&&y)return i.createElement(ie,{player:e.player,position:c,onThumbSize:b,style:{position:"absolute",margin:"auto",left:"min(max(".concat(g/2,"px, ").concat(h,"%), calc(100% - ").concat(g/2,"px))")}})}())})),fe=function(e){return i.createElement("span",{className:"pp-ui pp-ui-label ".concat(e.className||"")},e.label||"",e.children)},de=function(e){var t=i.useState(""),n=t[0],r=t[1],a=i.useState(!1),s=a[0],l=a[1],c=i.useRef(),f=K(e.player);c.current=s;var d=function(t){r(N(t,R(e.player.duration)))};return G("position",e.player,(function(e){return o(void 0,void 0,void 0,(function(){return u(this,(function(t){return c.current||d(e),[2]}))}))})),G("hoverPosition",e.player,(function(t){return o(void 0,void 0,void 0,(function(){var n;return u(this,(function(r){return(n=t.position)<0||e.disableHoveringDisplay?(l(!1),d(e.player.position)):(l(!0),d(n)),[2]}))}))})),i.createElement(fe,{label:n,children:e.children,className:"pp-ui-label-current-time ".concat(f," ").concat(e.className||"")})},he=function(e){var t=i.useState(""),n=t[0],r=t[1],a=K(e.player);return G("durationchange",e.player,(function(e){r(e==1/0?"Live":N(e,R(e)))})),i.createElement(fe,{label:n,children:e.children,className:"pp-ui-label-duration ".concat(a," ").concat(e.className||"")})},pe=["requestFullscreen","webkitRequestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen","webkitEnterFullscreen"],ve=["exitFullscreen","webkitExitFullscreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen","webkitExitFullscreen"],ge=["fullscreenElement","webkitFullscreenElement","webkitCurrentFullScreenElement","mozFullScreenElement","msFullscreenElement","webkitDisplayingFullscreen"],me=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange","webkitbeginfullscreen","webkitendfullscreen"];t.aZ=void 0,(oe=t.aZ||(t.aZ={})).Always="Always",oe.iOS="iOS",oe.iPadOS="iPadOS";var ye=function(e,t){return t.find((function(t){return"function"==typeof e[t]}))},be=function(e){var n=i.useState(!!document.fullscreenElement),r=n[0],a=n[1],o=W(e.player),u=function(){a(ge.some((function(e){return null!=document[e]})))};return i.useEffect((function(){return me.forEach((function(e){document.addEventListener(e,u)})),function(){me.forEach((function(e){document.removeEventListener(e,u)}))}}),[]),i.useEffect((function(){var t=e.fullscreenContainer.current;if(t){var n=t.querySelector("video");if(n)return me.forEach((function(e){n.addEventListener(e,u)})),function(){me.forEach((function(e){n.removeEventListener(e,u)}))}}}),[e.fullscreenContainer]),i.createElement($,{onClick:function(){e.fullscreenContainer.current&&(r?(function(){var e=ye(document,ve);e&&document[e].call(document)}(),a(!1)):(function(){var n,r=e.fullscreenContainer.current;if(r){var i,a,o,u,s=ye(r,pe),l=null!==(n=e.useVideoElementForFullscreen)&&void 0!==n?n:[t.aZ.iOS];if(!s||(a=(i=l).indexOf(t.aZ.Always)>=0,o=i.indexOf(t.aZ.iPadOS)>=0,u=i.indexOf(t.aZ.iOS)>=0,a||H()&&o||F()&&u)){var c=r.querySelector("video");if(!c)return;if(!(s=ye(r=c,pe)))return}r[s].call(r)}}(),a(!0)))},disableIcon:e.disableIcon,disabled:!o,className:"pp-ui-fullscreen pp-ui-fullscreen-".concat(r?"enabled":"disabled"," ").concat(e.className||"")},e.children)},we=function(e){var t=i.useState(e.player.activeTrack(e.type)),n=t[0],r=t[1],a=i.useState(e.player.playingVideoTrack);a[0];var o=a[1],u=W(e.player);return G("".concat(e.type,"TrackChanged"),e.player,(function(e){r(e)})),G("playingVideoTrackChanged",e.player,(function(e){o(e)})),i.createElement($,{disableIcon:!0,style:e.style,onClick:e.onClick,disabled:!u,className:M({"pp-ui":!0,"pp-ui-track-group-button":!0,"pp-ui-hide":!!e.hideWhenUnavailable&&!function(){switch(e.type){case"video":return e.player.videoTracks.length>0;case"audio":return e.player.audioTracks.length>0;case"text":return e.player.textTracks.length>0}}()},e.className)},i.createElement(fe,{label:e.label,className:"pp-ui-label-title"}),function(){if(!e.hideCurrentlyActive&&n)return i.createElement(fe,{className:"pp-ui-label-subtitle",label:e.player.getTrackLabel(n,e.trackLabel,{usePlayingRenditionInAbrLabel:null==e.usePlayingRenditionInAbrLabel||e.usePlayingRenditionInAbrLabel})})}())},ke=function(e){return i.createElement("div",{className:M({"pp-ui":!0,"pp-ui-label":!0,"pp-ui-track-label":!0,"pp-ui-selected":e.selected},e.className)},e.label)},Te=i.memo((function(e){return i.createElement($,{style:e.style,className:M({"pp-ui":!0,"pp-ui-track-selection-button":!0},e.className),onClick:function(){return o(void 0,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,e.player.selectTrack(e.track)];case 1:return t.sent(),[2]}}))}))},disableIcon:!0},i.createElement(ke,{label:e.player.getTrackLabel(e.track,e.trackLabel),selected:e.track.selected}))})),Se=function(e){var t=function(e,t){var n=i.useState(e["".concat(t,"Tracks")]),r=n[0],a=n[1];return G("".concat(t,"TracksAvailable"),e,(function(e){a(e)})),G("".concat(t,"TrackChanged"),e,(function(){a(e["".concat(t,"Tracks")])})),r}(e.player,e.type);return i.createElement("div",{style:e.style,className:M({"pp-ui":!0,"pp-ui-track-selection-list":!0},e.className)},t.map((function(t){return i.createElement(Te,{key:"".concat(t.type,"-").concat(t.id),track:t,player:e.player})})))},Ee=[{type:"audio",label:"Language",hideCurrentlyActive:!1,hideWhenUnavailable:!0},{type:"text",label:"Subtitles",hideCurrentlyActive:!1,hideWhenUnavailable:!0},{type:"video",label:"Quality",hideCurrentlyActive:!1,hideWhenUnavailable:!0}],xe=function(e){var t=i.useState(e.player.slideInMenuVisible),n=t[0],r=t[1],a=i.useState(!1),o=a[0],u=a[1],s=i.useState(!1),l=s[0],c=s[1],f=i.useState(!1),d=f[0],h=f[1],p=i.createRef();G("slideInMenuVisible",e.player,(function(e){r(e)})),V(p,(function(){n&&(e.player.slideInMenuVisible=!1,r(!1))}));var v=e.selectionOptions||Ee;i.useEffect((function(){var e,t=function(){if(n&&p.current){var e=O(p.current);e.indexOf(document.activeElement)<0&&e.length&&Z(e)}};return null===(e=p.current)||void 0===e||e.addEventListener("transitionend",t),function(){var e;null===(e=p.current)||void 0===e||e.removeEventListener("transitionend",t)}}));var g=function(t){switch(t.type){case"audio":return i.createElement("div",{key:"audio"},i.createElement(we,{key:"audio-btn",type:"audio",label:t.label,player:e.player,onClick:function(){return u(!o)},hideWhenUnavailable:t.hideWhenUnavailable,hideCurrentlyActive:t.hideCurrentlyActive}),i.createElement(Se,{key:"audio-list",type:"audio",player:e.player,className:"".concat(o?"":"pp-ui-hide")}));case"text":return i.createElement("div",{key:"text"},i.createElement(we,{key:"text-btn",type:"text",label:t.label,player:e.player,onClick:function(){return c(!l)},hideWhenUnavailable:t.hideWhenUnavailable,hideCurrentlyActive:t.hideCurrentlyActive}),i.createElement(Se,{key:"text-list",type:"text",player:e.player,className:"".concat(l?"":"pp-ui-hide")}));case"video":return i.createElement("div",{key:"video"},i.createElement(we,{key:"video-btn",type:"video",label:t.label,player:e.player,onClick:function(){return h(!d)},hideWhenUnavailable:t.hideWhenUnavailable,hideCurrentlyActive:t.hideCurrentlyActive}),i.createElement(Se,{key:"video-list",type:"video",player:e.player,className:"".concat(d?"":"pp-ui-hide")}))}};return i.createElement("div",{ref:p,className:"pp-ui pp-ui-overlay-menu ".concat(n?"pp-ui-overlay-menu-visible":"pp-ui-overlay-menu-hidden")},function(){if(v&&0!=v.length)return v.map(g)}())},Ie=function(e){var n=i.useState(!!e.src),r=n[0],a=n[1],s=i.useState(!1),l=s[0],c=s[1],f=function(){return!!e.src};return G("statechanged",e.player,(function(e){var n=e.currentState;return o(void 0,void 0,void 0,(function(){return u(this,(function(e){switch(n){case t.ZM.Idle:c(!1),l=!1,a(f()&&!l);break;case t.ZM.Preparing:case t.ZM.Buffering:f()?a(!l&&f()):a(!1);break;case t.ZM.Error:case t.ZM.Playing:case t.ZM.Paused:case t.ZM.Ended:a(!1),c(!0)}return[2]}))}))}),[l,r]),i.createElement("div",{className:"pp-ui pp-ui-poster-image ".concat(r&&f()?"":"pp-ui-poster-image-hidden")},i.createElement("img",{src:e.src,alt:e.alt}))},Ce=function(e){return e==t.ZM.Idle||e==t.ZM.Unset},Ae=function(e){var t=function(e){var t=i.useState(Ce(e.state)),n=t[0],r=t[1];return G("statechanged",e,(function(){r(Ce(e.state))})),i.useDebugValue(n?"visible":"hidden"),{visible:n,setVisible:r}}(e.player),n=t.visible,r=t.setVisible,a=i.createRef();return i.useEffect((function(){a.current&&n&&U(a.current)}),[a]),n?i.createElement("div",{className:"pp-ui-start-button-container"},i.createElement($,{onClick:function(){return o(void 0,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return e.onClick?[4,e.onClick()]:[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.player.load()];case 3:t.sent(),e.player.playing=!0,t.label=4;case 4:return r(!1),e.player.surfaceInteraction(),[2]}}))}))},ref:a,disableIcon:!1,style:e.style,className:"pp-ui pp-ui-start-button ".concat(e.className)})):null},Pe=function(e){return e==t.ZM.Preparing||e==t.ZM.Buffering},Me=function(e){var t=function(e){var t=i.useState(Pe(e.state)),n=t[0],r=t[1];return G("statechanged",e,(function(e){r(Pe(e.currentState))})),i.useDebugValue(n?"buffering":"not buffering"),n}(e.player);return i.createElement("div",{className:"pp-ui pp-ui-spinner ".concat(t?"pp-ui-spinner-loading":""," ").concat(e.className||""),style:e.style},i.createElement("i",{className:"pp-ui pp-ui-icon"}),e.children||"")},Ne=function(e){var t=i.useState(!1),n=t[0],r=t[1],a=W(e.player);return z("volumechange",e.player,(function(e,t){r(t.isMuted())})),z("loadedmetadata",e.player,(function(e,t){r(t.isMuted())})),i.createElement($,{onClick:function(t){return o(this,void 0,void 0,(function(){var n;return u(this,(function(r){switch(r.label){case 0:return t.defaultPrevented?[2]:[4,e.player.presto()];case 1:return(n=r.sent()).setMuted(!n.isMuted()),[2]}}))}))},disableIcon:e.disableIcon,disabled:!a,className:"pp-ui-mute-toggle pp-ui-mute-toggle-".concat(n?"unmuted":"muted"," ").concat(e.className||"")},e.children)},Re=function(e){var t=i.useState(100),n=t[0],r=t[1],a=W(e.player);function s(){var t=e.player,n=t.muted?0:100*t.volume;return r(n),n}return G("volumechange",e.player,(function(){s()})),B(e.player,(function(){s()})),G("statechanged",e.player,(function(){s()})),i.createElement("div",{className:"pp-ui-volumebar ".concat(e.className||"")},i.createElement(le,{value:n,onApplyValue:function(t){return o(this,void 0,void 0,(function(){return u(this,(function(i){return r(t),n=t,e.player.volume=t/100,[2]}))}))},onKeyDown:function(t){return o(void 0,void 0,void 0,(function(){var n,r,i;return u(this,(function(a){switch(a.label){case 0:return[4,e.player.presto()];case 1:return n=a.sent(),r=n.isMuted()?0:n.getVolume(),i=r,"ArrowLeft"==t.key?(i=Math.max(0,r+-.1),t.preventDefault()):"ArrowRight"==t.key&&(i=Math.min(1,r+.1),t.preventDefault()),i!=r&&(n.setVolume(i),n.isMuted()&&i>0&&n.setMuted(!1)),[2]}}))}))},adjustWhileDragging:e.adjustWhileDragging,disabled:!a,notFocusable:e.notFocusable}))},De=i.forwardRef((function(e,t){var n=i.useRef();function r(e){if(n.current){var t=n.current,r=O(t).indexOf(document.activeElement),i=document.activeElement==t;(-1==r&&!i||e)&&U(t)}}return i.useEffect((function(){return function(){e.player.release()}}),[]),i.useEffect((function(){e.config&&e.player.load(e.config,e.autoload)}),[e.config,e.player]),G("surfaceInteraction",e.player,(function(){r()})),G("controlsVisible",e.player,(function(t){t||e.player.slideInMenuVisible||r(!0)})),i.useEffect((function(){return window.tizen&&window.tizen.mediakey.setMediaKeyEventListener({onpressed:function(t){console.log("Pressed key: "+t),"MEDIA_PLAY"==t?e.player.playing=!0:"MEDIA_PAUSE"==t&&(e.player.playing=!1)},onreleased:function(e){console.log("Released key: "+e)}}),function(){window.tizen&&window.tizen.mediakey.unsetMediaKeyEventListener()}})),i.createElement("div",{ref:function(e){n.current=e,"function"==typeof t?t(e):t&&(t.current=e)},className:"pp-ui pp-ui-surface ".concat(H()?"pp-ui-ipad":""," ").concat(e.className||""),style:e.style,onClick:function(t){t.defaultPrevented||(e.player.slideInMenuVisible?(e.player.slideInMenuVisible=!1,t.preventDefault()):e.player.controlsVisible?(e.player.controlsVisible=!1,t.preventDefault()):(e.player.surfaceInteraction(),t.preventDefault()))},onKeyDown:function(t){return o(void 0,void 0,void 0,(function(){var i,a;return u(this,(function(o){return t.defaultPrevented||n&&n.current&&(i=n.current,a=O(i),"ArrowDown"==t.code?(Z(a),t.preventDefault(),e.player.surfaceInteraction()):"ArrowUp"==t.code?(j(a),t.preventDefault(),e.player.surfaceInteraction()):"Escape"==t.code?e.player.slideInMenuVisible?(e.player.slideInMenuVisible=!1,e.player.controlsVisible=!1,r(!0),t.preventDefault()):e.player.controlsVisible&&(e.player.controlsVisible=!1,r(!0),t.preventDefault()):"Enter"==t.code&&(e.player.slideInMenuVisible||e.player.controlsVisible||(e.player.surfaceInteraction(),t.preventDefault()))),[2]}))}))},tabIndex:0},i.createElement("video",{className:"pp-ui pp-ui-video",ref:function(t){e.player.init(t,e.baseConfig)},tabIndex:-1,playsInline:e.playsInline}),i.createElement("div",{className:"pp-ui pp-ui-overlay ".concat(H()?"pp-ui-ipad":"")},e.children))}));t.PX=function(e){var t,n=e.menuSelectionOptions||Ee;return i.createElement("div",{className:"pp-ui pp-ui-overlay pp-ui-basic-theme"},i.createElement(J,{player:e.player},i.createElement(Q,{className:"pp-ui-spacer"},function(){if(n&&0!=n.length)return i.createElement(ee,null,i.createElement(te,null),function(){if(n&&0!=n.length)return i.createElement("div",{className:"pp-ui-margin-horizontal-sm"},i.createElement(ne,{player:e.player}))}())}(),i.createElement(te,null),i.createElement(ee,{className:"pp-ui-transparent"},i.createElement(ie,{player:e.player,listenToHover:!0,moveRelativeToParent:!0})),i.createElement(ee,{className:"pp-ui-flex-space-between"},i.createElement("div",{className:"pp-ui-row pp-ui-margin-horizontal-sm"},i.createElement(ue,{player:e.player,resetRate:!0}),i.createElement(se,{player:e.player,seconds:D(e.seekBackward,-10)}),i.createElement(se,{player:e.player,seconds:D(e.seekForward,10)}),"none"===e.seekBar?null:i.createElement(ce,{player:e.player,adjustWhileDragging:!0,adjustWithKeyboard:!0,enableThumbnailSlider:!1,enabled:"enabled"===(null!==(t=e.seekBar)&&void 0!==t?t:"enabled")})),i.createElement("div",{className:"pp-ui-row pp-ui-margin-horizontal-sm"},i.createElement(de,{player:e.player}),i.createElement(fe,{label:"/"}),i.createElement(he,{player:e.player}),i.createElement(Ne,{player:e.player}),i.createElement(Re,{player:e.player,adjustWhileDragging:!0}),function(){if(e.fullscreenRef)return i.createElement(be,{fullscreenContainer:e.fullscreenRef,player:e.player})}())))),function(){if(n&&0!=n.length)return i.createElement(xe,{player:e.player,selectionOptions:n})}(),function(){if(e.posterUrl)return i.createElement(Ie,{src:e.posterUrl,player:e.player})}(),function(){if(e.startButton)return i.createElement(Ae,{player:e.player,onClick:"object"==typeof e.startButton?e.startButton.onClick:void 0})}(),i.createElement(Me,{player:e.player,className:"pp-ui-absolute-center"}))},t.J5=C,t.lh=De},374:function(e,t,n){n.r(t),n.d(t,{clpp:function(){return b},default:function(){return w}});var r=n(752),i=n(120),a=n(326),o=n(136),u=n(277),s=n(611);var l=n(814);function c(e,t,n){return c=(0,l.Z)()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&(0,s.Z)(i,n.prototype),i},c.apply(null,arguments)}function f(e){var t="function"===typeof Map?new Map:void 0;return f=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return c(e,arguments,(0,i.Z)(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),(0,s.Z)(r,e)},f(e)}var d=n(671),h=n(466),p=n(982),v=n(165),g=n(762),m={},y={};(function(e){var t,s,l,c,b,w,k,T,S,E,x,I,C,A,P,M,N,R,D,_,L,O,Z,j,U,F,H,z,G,B,V,W,K,q,Y,X,$,J,Q,ee,te,ne,re,ie,ae,oe,ue,se,le,ce,fe,de,he,pe,ve,ge,me,ye,be,we,ke,Te,Se,Ee,xe,Ie,Ce,Ae,Pe,Me,Ne,Re,De,_e,Le,Oe,Ze,je,Ue,Fe,He,ze,Ge,Be,Ve,We,Ke,qe,Ye,Xe,$e,Je,Qe,et,tt,nt,rt,it,at,ot,ut,st,lt,ct,ft,dt,ht,pt,vt,gt,mt,yt,bt,wt,kt,Tt,St,Et,xt,It,Ct,At,Pt,Mt,Nt,Rt,Dt,_t,Lt,Ot,Zt,jt,Ut,Ft,Ht,zt,Gt,Bt,Vt,Wt,Kt,qt,Yt,Xt,$t,Jt,Qt,en,tn,nn,rn,an,on,un,sn,ln,cn,fn,dn,hn,pn,vn,gn,mn,yn,bn,wn,kn,Tn,Sn,En,xn,In,Cn,An,Pn,Mn,Nn,Rn,Dn,_n,Ln,On,Zn,jn,Un,Fn,Hn,zn,Gn,Bn,Vn,Wn,Kn,qn,Yn,Xn,$n,Jn,Qn,er,tr,nr,rr,ir,ar,or,ur,sr,lr,cr,fr,dr,hr,pr,vr,gr,mr,yr,br,wr,kr,Tr,Sr,Er,xr,Ir,Cr,Ar,Pr,Mr,Nr,Rr,Dr,_r,Lr,Or,Zr,jr,Ur,Fr,Hr,zr,Gr,Br,Vr,Wr,Kr,qr,Yr,Xr,$r,Jr,Qr,ei,ti,ni,ri;y.aa=" is registered.",t=" is unsupported on this platform.",s=" to a log level. Falling back to default!",y.da="6.2.7",y.ea="AdaptationSet",y.fa="Already destroyed. No-op",y.ha="Already released. No-op",y.ia="Autoplay is not allowed due to browser policy.",y.ja="CODECS",y.ka="Cannot retrieve buffer information due to platform limitations",y.la="CastlabsPlayer",l="Content-Length",c="Content-Type",y.pa="Could not find configured DRM environment.",b="DRM licenses loaded",w="DRMtoday",k="Destroying player",y.ua="Disable track type ",T="Error while decoding string!",y.wa="Error while fetching license!",y.xa="FairPlay Certificate URL is not defined",y.ya="FairPlay License URL is not defined",S="HW_SECURE_CRYPTO",E="HW_SECURE_DECODE",x="HeaderDrm",I="Ignoring duplicate init data.",C="InvalidStateError",A="License verification failed: ",y.Fa="Loading player with configuration",y.Ha="MaxHeight",y.Ja="MaxWidth",P="Missing media element",M="No drmtoday configuration found in player configuration. Unable to modify the DRM license request!",N="No event provided!",R="No track data attached to the event, unable to add track!",D="Not a persistent session.",_="NotSupportedError",y.Qa="PlayReady License URL is not defined",y.Ra="Player sources",y.Sa="Please make sure ",y.Ta="QualityLevel",y.Ua="Releasing player with source",y.Va="Representation",L="STANDARD",y.Xa="SW_SECURE_CRYPTO",y.Ya="SW_SECURE_DECODE",O="Signature Verification failed",y.cb="SmoothStreamingMedia",Z="The index is not in the allowed range.",j="Unable to translate ",y.fb="Unregistering listeners",U="Unsupported keySystem",F="Using VTTCue polyfill from 3 argument TextTrackCue.",H="WebkitEmeManager.MediaKeySession.load",y.kb="Widevine License URL is not defined",z="Will create EME Manager: ",y.mb="ad-break-started",y.nb="ad-break-stopped",y.ob="ad-buffering",y.pb="ad-clicked",y.qb="ad-completed",y.rb="ad-first-quartile",y.sb="ad-impression",y.tb="ad-loaded",y.ub="ad-midpoint",y.vb="ad-paused",y.wb="ad-progress",y.xb="ad-resumed",y.yb="ad-skipped",y.zb="ad-started",y.Ab="ad-stopped",y.Bb="ad-third-quartile",y.Cb="addtrack",y.Db="ads-timeline-changed",y.Eb="airplay-casting-ended",y.Fb="airplay-casting-started",y.Gb="airplay-status-changed",y.Hb="application/cea-608",y.Ib="application/dash+xml",y.Kb="application/mp4",y.Lb='application/mp4; codecs="stpp"',y.Mb='application/mp4; codecs="wvtt"',y.Nb="application/ttml+xml",y.Ob="application/vnd.ms-sstr+xml",y.Pb="application/x-mpegurl",G="application/x-www-form-urlencoded",y.Rb="audio",y.Sb="audio/aac",y.Tb="audio/ac3",y.Ub="audio/eac3",y.Vb="audio/mp4",y.Wb="audiobufferchanged",y.Xb="autoplaynotallowed",y.Yb="bitratechanged",y.Zb="boolean",y.$b="bufferingended",y.ac="bufferingstarted",B="canplay",V="canplaythrough",y.gc="castingstarted",y.hc="caststatuschanged",y.ic="cdn-switch-success",y.jc="cenc",y.kc="center",W="change",K="clpp-container",y.nc="clpp-fill",q="clpp-hidden",y.pc="clpp.cast.CastSender",Y="clpp.drm.HeaderDrm",X="clpp.native.Player",$="clpp.utils.Platform",y.tc="codecs",y.uc="column-reverse",y.vc="com.adobe.primetime",y.wc="com.apple.fps",y.xc="com.microsoft.playready",y.yc="com.widevine.alpha",y.zc="config.drm.customData is not defined",J="controls",y.Bc="cuechange",y.Cc="destroy()",y.Dc="disabled",y.Ec="div",y.Fc="drmexpirationupdate",Q="drmrenewalstarted",y.Hc="drmsessionpersisted",y.Ic="drmsessionupdate",ee="drmtoday",te="durationchange",ne="encrypted",y.Mc="end",y.Nc="ended",y.Oc="error",re="fullscreenElement",y.Qc="function",y.Rc="height",y.Sc="hidden",y.Tc="image",y.Uc="internal-error",ie="keystatuseschange",y.Yc="left",ae="license-renewal",oe="license-request",y.ad="line-left",y.bd="line-right",y.cd="loadeddata",y.dd="loadedmetadata",ue="loadstart",y.fd="mdat",y.gd="mdia",se="message",y.id="metadata",y.jd="mimeType",y.kd="minf",y.ld="moov",y.md="mp4",y.nd="mpd-type-changed",y.od="mpeg-dash-callback-event",y.pd="native",y.qd="none",y.p="number",y.rd="object",y.sd="onBitrateChanged()",y.td="onContentLoaded",y.ud="onPlayerError()",y.vd="onPlayerWillDestroy",y.wd="onPlayerWillRelease",y.xd="onStateChanged()",le="online-status-changed",y.zd="optional",y.Bd="org.w3.clearkey",y.Cd="output-restricted",y.Dd="pause",y.Gd="persistent",y.Hd="persistent-license",ce="picture-in-picture",y.Jd="play",y.Kd="playing",y.Ld="playlist-item-changed",y.Md="playlist-modified",y.Nd="progress",y.Od="px",y.Pd="ratechange",fe="released",y.Rd="releasing",de="removetrack",y.Td="required",y.Ud="resize",y.Vd="right",y.Wd="seeked",y.Xd="seeking",y.Yd="showing",y.Zd="single-native",he="stalled",y.ae="start",y.be="statechanged",pe="status-pending",y.de="stbl",y.ee="string",y.fe="stsd",y.ge="style",y.he="subtitles-htmlcue",y.ie="subtitles-ttml",ve="temporary",y.r="text",y.ke="text/vtt",y.le="text/xml",y.me="timeupdate",y.ne="trak",y.oe="ttml-xml",y.pe="und",ge="unknown",y.re="urn:scte:scte35",y.se="urn:scte:scte35:2014",y.te="user-seeked",y.ue="user-seeking",y.ve="value",y.xe="vertical-lr",y.ze="vertical-rl",y.u="video",y.Ae="video/mp2t",y.Be="video/mp4",y.Ce="videobufferchanged",y.De="videotrackchanged",y.Ee="vimond-response",me="visibilitychange",y.Ge="vtt-xml",y.He="waiting",y.Ie="waitingforkey",ye="webkit-org.w3.clearkey",be="webkitkeyadded",we="webkitkeyerror",ke="webkitkeymessage",Te="webkitneedkey",y.Oe="width",Se="x-dt-csl-tracking-token",Ee="x-dt-follow-up-token",xe="x-dt-resp-code",Ce=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}},Ae=function(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:Ce(e)}},Pe=function(e,t){if(t){var n=ni;e=e.split(".");for(var r=0;r<e.length-1;r++){var i=e[r];i in n||(n[i]={}),n=n[i]}(t=t(r=n[e=e[e.length-1]]))!=r&&null!=t&&ri(n,e,{configurable:!0,writable:!0,value:t})}},Me=function(e){function t(t){return e.next(t)}function n(t){return e.throw(t)}return new Promise((function(r,i){!function e(a){a.done?r(a.value):Promise.resolve(a.value).then(t,n).then(e,i)}(e.next())}))},y.v=function(e){return Me(e())},y.x=function(e,t){e=e.split(".");var n,r=ii;e[0]in r||"undefined"==typeof r.execScript||r.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=t},y.bf=function(e){return y.y(e)||Re(e)?e:y.af(e)},y.af=function(e){for(var t={},n=0;n<arguments.length;n++)null!==arguments[n]&&void 0!==arguments[n]&&(t=Ne(t,{merging:arguments[n]}));return t.merging},Ne=function(e,t,n){var r=n+1||1;for(var i in!y.y(e)&&y.df(e)||(e={}),t)n=t[i],Re(n)||y.y(n)||y.ef(n)?e[i]=n:y.df(n)&&n.buffer&&n.buffer instanceof ArrayBuffer&&y.ef(n.subarray)?e[i]=n.subarray(0):n instanceof Array?e[i]=Ne([],n):!y.y(n)&&!y.y(n)&&y.df(n)&&n.constructor===Object&&20>r&&(e[i]=Ne(e[i],n,r));return e},Re=function(e){return(e=typeof e)===y.ee||e===y.p||e===y.Zb},y.y=function(e){return null===e||"undefined"===typeof e},y.df=function(e){return typeof e===y.rd},y.ef=function(e){return typeof e===y.Qc},y.ff=function(e){return typeof e===y.ee},y.gf=function(e){return typeof e===y.p},y.hf=function(e,t,n,r){if(e===t||null===e&&null===t||void 0===e&&void 0===t)return!0;if(null===e&&null!==t||null!==e&&null===t||void 0!==e&&void 0===t||void 0===e&&void 0!==t||!y.df(e)||!y.df(t))return!1;for(var i=n||Object.keys(e),a={},o=0;o<i.length;o++){var u=i[o];if((y.y(r)||0>r.indexOf(u))&&(a[u]=!0,e[u]!==t[u]))return!1}if(y.y(n))for(e=Object.keys(t),t=0;t<e.length;t++)if(n=e[t],(y.y(r)||0>r.indexOf(n))&&!a[n])return!1;return!0},De=function(e){return(Number.hasOwnProperty("isNaN")?Number.isNaN:function(e){return e!==e})(e)},_e=function(e){for(var t=new Map,n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];t.set(i,e[i])}return t},y.lf=function(e){var t={};return e.forEach((function(e,n){t[n]=e})),t},Le=function(e){return e&&0<=ui[e]?ui[e]:oi},Oe=function(e){if(!e)return y.z("clpp.log",j+e+s),-1;var t=ai[e.toUpperCase()];return void 0===t?(y.z("clpp.log",j+e+s),-1):t},y.tf=function(e){pi.info.apply(pi,arguments)},y.D=function(e){pi.debug.apply(pi,arguments)},y.z=function(e){pi.warn.apply(pi,arguments)},y.uf=function(e){pi.error.apply(pi,arguments)},y.Bf=function(e){if(e){var t=e.a();t in y.zf?y.Af.warn("Player-Factory '"+t+"' already registered"):(y.zf[t]=e,y.Af.info("Registered Player-Factory: '"+t+"'"))}},y.Df=function(e){var t=e.a,n=[];for(var r in t.a)n.push.apply(n,t.a[r]);for(t=n,n=0;n<t.length;++n)Ze(t[n]);e.a.clear()},y.Ef=function(e,t,n,r){var i,a=function i(a){var o,u=(0,g.Z)(n);try{for(u.s();!(o=u.n()).done;){var s=o.value;e.off(t,s,i)}}catch(l){u.e(l)}finally{u.f()}r(a)},o=(0,g.Z)(n);try{for(o.s();!(i=o.n()).done;){var u=i.value;e.on(t,u,a)}}catch(s){o.e(s)}finally{o.f()}},Ze=function(e){e.target.removeEventListener(e.type,e.a,e.f),e.target=null,e.a=null},je=function(e,t){e.o.debug("onMetadata_()"),t.mode=y.Sc;var n=[],r=!0,i=function(t){for(var i=0,a=n;i<a.length;i++){var o=a[i];if(t.startTime===o.startTime&&t.endTime===o.endTime)return o}return o={schemeIdUri:"",value:"",startTime:0,endTime:0,id:"",type:y.Ff,eventElement:null},e.m&&r&&"SCTE35-IN"===t.value.key&&0<t.startTime?(o.startTime=0,o.endTime=t.startTime):(o.startTime=t.startTime,o.endTime=t.endTime),r=!1,n.push(o),n[n.length-1]};if(t.cues){var a,o=(0,g.Z)(t.cues);try{for(o.s();!(a=o.n()).done;){var u=a.value;if(!Fe(e,u)){var s=i(u);switch(u.value.key){case"SCTE35-IN":case"SCTE35-OUT":s.schemeIdUri=y.se,s.type=y.Hf;break;case"X-CUSTOM-ID":s.id=u.value.data}}}}catch(d){o.e(d)}finally{o.f()}var l,c=(0,g.Z)(n);try{for(c.s();!(l=c.n()).done;){var f=l.value;e.l.trigger(new y.F(y.If,{detail:f}))}}catch(d){c.e(d)}finally{c.f()}Array.prototype.push.apply(e.g,n),He(e,n,t),e.f.off(t,y.Bc),e.f.on(t,y.Bc,(function(t){var n;if(n=t=(t=t.target.activeCues).length?Fe(e,t[0]):e.a){n=t;var r=e.l.getPosition();n=n.startTime<=r&&r<n.endTime}n?(e.a=t,e.l.trigger(new y.F(y.Kf,{detail:t}))):((t=e.a)&&(t=e.a,n=e.l.getPosition(),t=t.endTime<=n),t&&(t=e.a,e.a=null,e.l.trigger(new y.F(y.Lf,{detail:t}))))}))}},Ue=function(e,t){e.h=t,e.j=e.h.textTracks,e.f.on(e.j,y.Cb,(function(t){(t=t.track).kind===y.id&&je(e,t)}))},Fe=function(e,t){var n,r=(0,g.Z)(e.g);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.startTime===i.startTime&&t.endTime===i.endTime)return i}}catch(a){r.e(a)}finally{r.f()}return null},He=function(e,t,n){if(e.m){for(;0<n.cues.length;)n.removeCue(n.cues[0]);t.forEach((function(e){n.addCue(new DataCue(e.startTime,e.endTime,{key:"SCTE35-OUT",data:null}))}))}},ze=function(e,t){(t=t.track).kind!==y.id&&(t.mode===y.Yd&&(t.mode=y.Sc),e.a.on(t,y.Bc,(function(t){(t=t.target||t.srcElement).mode=y.Sc,t.activeCues&&(t=Array.from(t.activeCues).map(e.o),e.j.append(t,[]))})))},Ge=function(e,t,n,r){if(e="".concat(e===y.G?"FATAL":"RECOVERABLE"," Clpp-Error [Category ").concat(t," - Code ").concat(n,"]"),y.ff(r))e+=": "+r;else if(null!=r&&void 0!=r)if(null!=r.message&&void 0!=r.message)e+=": "+r.message,delete r.message;else try{e+=": "+JSON.stringify(r)}catch(i){}return e},y.Qf=function(e){return e&&e!==y.pe?e:null},Be=function(e){if(!e)throw new y.H(y.G,3,3101,"Invalid track type: ".concat(e));if(!y.ff(e))throw new y.H(y.G,3,3101,"Invalid track type: ".concat(e,". Track type must be a string!"));switch(e.toLowerCase()){case y.I:return y.I;case y.J:return y.J;case y.K:return y.K;case yi:return yi}throw new y.H(y.G,3,3101,"Unknown track type: ".concat(e,"."))},Ve=function(e,t){e=Be(e);var n=y.Qf(t.kind),r=t.id;return r||(r=String(y.Tf++)),(e=new y.Uf(r,n===y.id?yi:e)).kind=n,e.label=y.Qf(t.label),e.language=y.Qf(t.language),e},y.Wf=function(e,t){var n,r=(0,g.Z)(e);try{for(r.s();!(n=r.n()).done;){if(!t(n.value))return!1}}catch(i){r.e(i)}finally{r.f()}return!0},We=(0,v.Z)().mark((function e(t){var n;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<t)){e.next=7;break}return e.next=4,n;case 4:n++,e.next=1;break;case 7:case"end":return e.stop()}}),e)})),Ke=function(e,t){if(!e&&!t)return!0;if(!e||!t||e.byteLength!=t.byteLength)return!1;if(qe(e)==qe(t)&&(e.byteOffset||0)==(t.byteOffset||0))return!0;var n=y.L(e);t=y.L(t);var r,i=(0,g.Z)(We(e.byteLength));try{for(i.s();!(r=i.n()).done;){var a=r.value;if(n[a]!=t[a])return!1}}catch(o){i.e(o)}finally{i.f()}return!0},qe=function(e){return e instanceof ArrayBuffer?e:e.buffer},y.L=function(e){return Ye(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,Uint8Array)},Ye=function(e,t,n,r){var i=r.BYTES_PER_ELEMENT||1,a=qe(e),o=(e.byteOffset||0)+e.byteLength;return e=Math.max(0,Math.min((e.byteOffset||0)+t*i,o)),n=Math.min(e+Math.max(n*i,0),o),new r(a,e/=i,n/i-e)},Xe=function(e){return Ye(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,Uint16Array)},$e=function(e){return Ye(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,Uint32Array)},y.cg=function(e){return Ye(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,Int32Array)},y.dg=function(e){return Ye(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,DataView)},Je=function(e){return e instanceof ArrayBuffer?e:0==e.byteOffset&&e.byteLength==e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer},Qe=function(e){for(var t="",n=0;n<e.length;n+=16e3)t+=String.fromCharCode.apply(null,e.subarray(n,n+16e3));return t},y.gg=function(t){if(!t)return"";if(239==(t=y.L(t))[0]&&187==t[1]&&191==t[2]&&(t=t.subarray(3)),"TextDecoder"in e){if((t=(new TextDecoder).decode(t)).includes("\ufffd"))throw Error(T);return t}t=escape(Qe(t));try{return decodeURIComponent(t)}catch(va){throw Error(T)}},y.ig=function(e,t,n){if(!e)return"";if(!n&&0!==e.byteLength%2)throw ki.error("Data has an incorrect length, must be even."),Error("Data does not seem to be UTF-16 encoded!");if(n=y.L(e),(t&&255===n[0]&&254===n[1]||254===n[0]&&255===n[1])&&(e=n.subarray(2)),e instanceof ArrayBuffer)var r=e;else(n=new Uint8Array(e.byteLength)).set(y.L(e)),r=n.buffer;e=Math.floor(e.byteLength/2),n=new Uint16Array(e),r=new DataView(r);for(var i=0;i<e;i++)n[i]=r.getUint16(2*i,t);return Qe(n)},y.jg=function(e,t){if(y.ff(e))return e;var n="";t=!!t;var r=y.L(e);239==r[0]&&187==r[1]&&191==r[2]?n=y.gg(r):254==r[0]&&255==r[1]?n=y.ig(r.subarray(2),!1):255==r[0]&&254==r[1]&&(n=y.ig(r.subarray(2),!0));var i=function(e,t){return e.byteLength<=t||32<=e[t]&&126>=e[t]}.bind(null,r);if(ki.debug("Unable to find byte-order-mark, making an educated guess."),0==r[0]&&0==r[2]?n=y.ig(e,!1):0==r[1]&&0==r[3]?n=y.ig(e,!0):i(0)&&i(1)&&i(2)&&i(3)&&(n=y.gg(e)),n)return t&&(n=escape(n)),n;throw Error("Unable to detect text encoding")},y.kg=function(t){if("TextEncoder"in e)return(new TextEncoder).encode(t);t=encodeURIComponent(t),t=unescape(t);for(var n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n},y.lg=function(e,t){for(var n=new Uint8Array(2*e.length),r=new DataView(n.buffer),i=0;i<e.length;++i)r.setUint16(2*i,e.charCodeAt(i),t);return n.buffer},y.mg=function(e,t){var n=t||1;t=e.length;var r,i=new ArrayBuffer(t*n);for(r=4===n?$e(i):2===n?Xe(i):y.L(i),n=0;n<t;n++)r[n]=e.charCodeAt(n);return i},y.ng=function(e,t){return String.prototype.startsWith?e.startsWith(t):0===e.indexOf(t)},y.og=function(e,t){if(String.prototype.endsWith)return e.endsWith(t);var n=e.length-t.length;return-1!==(e=e.lastIndexOf(t,n))&&e===n},y.pg=function(e){return!!(e&&0<e.length)},y.qg=function(e){return!e||0===e.length},y.sg=function(e){return e=e.replace(/<[^>]+>/gi,""),Ti.innerHTML=e,(e=Ti.textContent).replace(/<[^>]+>/gi,"")},y.tg=function(){return{maxAttempts:1,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0}},et=function(e,t){e.timeout=t.timeout,e.baseDelay=t.baseDelay,e.backoffFactor=t.backoffFactor,e.fuzzFactor=t.fuzzFactor,e.maxAttempts=t.maxAttempts},y.wg=function(e,t){y.ff(e)&&(e={uris:[e]}),Array.isArray(e)&&(e={uris:e});var n={uris:e.uris||[],type:e.type||y.vg,uriIndex:0,method:e.method||"GET",body:e.body||null,headers:Object.assign({},e.headers),allowCrossSiteCredentials:e.allowCrossSiteCredentials||!1,onProgress:e.onProgress||null,onFragment:e.onFragment||null,maxAttempts:e.maxAttempts||1,currentAttempt:0,baseDelay:e.baseDelay||1e3,backoffFactor:e.backoffFactor||2,fuzzFactor:e.fuzzFactor||.5,timeout:e.timeout||0,requestModifiers:e.requestModifiers||[],responseModifiers:e.responseModifiers||[],startTime:e.startTime||null,endTime:e.endTime||null,contentType:e.contentType||null,licenseRequestType:e.licenseRequestType||null,sessionId:null,bytesRemaining:-1,bytesLoaded:-1,bytesTotal:-1,timescale:e.timescale||null,rateLimitBps:e.rateLimitBps||null,disableFragmentSupport:e.disableFragmentSupport||!1,disableMergedFragments:e.disableMergedFragments||!1};return e.keyInfo&&(n.keyInfo=e.keyInfo),t&&et(n,t),n},y.xg=function(e,t,n,r,i,a,o){if(i&&(r=i),i={uri:r,data:t||new ArrayBuffer(0),headers:e,status:n,fromCache:!!e["x-shaka-from-cache"],timeMs:o,request:a},200<=n&&299>=n&&202!==n)return i;o=null;try{o=y.jg(t,!0)}catch(u){}throw y.D("HTTP error text:",o),new y.H(401===n||403===n?y.G:1,1,1001,{url:r,status:n,responseText:o,headers:e,request:a,response:i})},tt=function(e,t){t=parseInt(t,10),Number.isNaN(t)&&(t=-1),e.bytesTotal=t,e.bytesLoaded=0,e.bytesRemaining=t},nt=function(e,t,n){0<e.bytesRemaining&&(e.bytesRemaining-=t),e.bytesLoaded+=t,e.onProgress&&e.onProgress(t,n)},rt=function(e,t,n){if(0>=e)return Promise.resolve();var r=8*n/e-t/1e3;return 0<r?new Promise((function(e){setTimeout(e,1e3*r)})):Promise.resolve()},it=function(e,t,n){e.stop();var r=!0,i=null;e.a=function(){n?clearInterval(i):clearTimeout(i),r=!1};var a=function(){r&&e.f()};return i=n?setInterval(a,1e3*t):setTimeout(a,1e3*t),e},y.Dg=function(e,t,n){var r,i=(0,g.Z)(y.Cg);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.probe(t,n))return a.create(e)}}catch(o){i.e(o)}finally{i.f()}return null},y.Eg=function(e){0<=(e=y.Cg.indexOf(e))&&y.Cg.splice(e,1)},y.Gg=function(e){var t=(e||"").split("-");return e=t[0]||"",t=t[1]||"",e=e.toLowerCase(),e=Si.get(e)||e,(t=t.toUpperCase())?e+"-"+t:e},y.Hg=function(e,t){return e=y.Gg(e),t=y.Gg(t),e.split("-")[0]==t.split("-")[0]},y.Ig=function(e,t){return t&&(e+='; codecs="'+t+'"'),e},y.Jg=function(e){return Array.isArray(e)?e:[e]},at=function(e,t,n){return e.type===n&&(void 0!==t.id&&null!==t.id&&""!==t.id?e.id===t.id:y.hf(e,{kind:y.Qf(t.kind),language:y.Qf(t.language),label:y.Qf(t.label)},["kind","language","label"]))},ot=function(e){return e.enabled||e.selected||e.mode===y.Yd||e.mode===y.Sc},ut=function(e,t){return e.h.filter((function(e){return e.type===t}))},st=function(e){(e=e.l.getTextDisplayer())&&e.remove(0,1/0)},lt=function(e,t){return(e=ct(e,t))&&(e=Array.from(e),t===y.I&&(e=e.filter((function(e){return e.kind!==y.id})))),e},ct=function(e,t){if(!e.l)return null;if(!(e=e.l.getSurface()))return null;if(!(e=e.getMedia()))return null;switch(t){case y.J:return e.audioTracks;case y.K:return e.videoTracks;case y.I:return e.textTracks;default:return null}},ft=function(e,t){return(e=e.f.get(t)||null)&&e.renditions[0]},dt=function(e,t){return(e=e.m.get(t))&&e.renditions[0]},ht=function(e,t,n){var r=lt(e,t);if(n){if(void 0===e.h.find((function(e){return e.id===n.id})))throw Error("Unknown track with ID ".concat(n.id," and type ").concat(t));if(n.type!==t)throw Error("Types mismatch for track ".concat(n.type," and arg ").concat(t));if(e.a.debug("Activate track type "+t+" with ID: "+n.id),r){var i;e.m.set(t,n);var a=!0,o=!1;switch(t){case y.I:i="mode",a=y.Yd,o=y.Dc;break;case y.J:i="enabled";break;case y.K:i="selected"}if(i){var u,s=(0,g.Z)(r);try{for(s.s();!(u=s.n()).done;){var l=u.value;l[i]=at(n,l,n.type)?a:o}}catch(d){s.e(d)}finally{s.f()}}}}else if(e.a.debug(y.ua+t),e.f.get(t)&&r&&t===y.I){var c,f=(0,g.Z)(r);try{for(f.s();!(c=f.n()).done;)(a=c.value).mode=y.Dc}catch(d){f.e(d)}finally{f.f()}e.f.set(t,null)}t===y.J?e.l.trigger(new y.F(y.Vg)):t===y.I&&e.l.trigger(new y.F(y.Wg))},pt=function(e,t,n){if(e.l){var r=e.l.getSurface().getMedia();if(r){var i=document.createElement("track");i.id=n,i.kind=t.kind,i.srclang=t.language,t.label&&(i.label=t.label),i.src=y.qg(t.url)?URL.createObjectURL(new Blob([])):t.url,r.appendChild(i),e.H.push(i)}}},vt=function(e,t){return y.v((0,v.Z)().mark((function n(){var r,i,a;return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.l.getConfiguration(),!(i=y.Dg(r,t.mimeType,y.ke))){n.next=9;break}return r=y.wg(t.url),n.next=5,e.l.getNetworkEngine().fetch(r).O;case 5:(a=n.sent)&&a.data&&(r="External_"+"".concat(e.D++),e.o[r]=t,i=i.a(y.L(a.data)),i={url:URL.createObjectURL(new Blob([i])),kind:t.kind,language:t.language,label:t.label,mimeType:y.ke},pt(e,i,r)),n.next=10;break;case 9:e.a.warn("Track mimetype is not supported",t);case 10:case"end":return n.stop()}}),n)})))},gt=function(e,t,n){n=y.Jg(n).filter((function(e){return e})),e.a.info("Find preferred tracks for",t,n);var r=ut(e,t);n.some((function(n){var i=y.Gg(n);return!!(n=r.find((function(e){return e=y.Gg(e.language||""),y.Hg(i,e)})))&&(e.a.info("Will select track with id",n.id),ht(e,t,n),!0)}))},mt=function(e,t,n){try{var r=e(t);return r&&r.O&&r.abort?(n.resolve(r.O),function(){return r.abort()}):(n.resolve(r),function(){return Promise.resolve(r).then((function(){})).catch((function(){}))})}catch(r){return n.reject(r),function(){return Promise.resolve()}}},yt=function(e,t){return e.O.then((function(){return t(!0)}),(function(){return t(!1)})),e},y.ch=function(e,t){e.a.push(yt(t,(function(){var n=e.a,r=n.indexOf(t);-1<r&&n.splice(r,1)})))},y.dh=function(e){var t;e instanceof y.dh?(bt(this,e.La),this.$b=e.$b,this.Da=e.Da,wt(this,e.mc),this.ma=e.ma,kt(this,It(e.a)),this.Ob=e.Ob):e&&(t=String(e).match(xi))?(bt(this,t[1]||"",!0),this.$b=Tt(t[2]||""),this.Da=Tt(t[3]||"",!0),wt(this,t[4]),this.ma=Tt(t[5]||"",!0),kt(this,t[6]||"",!0),this.Ob=Tt(t[7]||"")):this.a=new xt(null)},bt=function(e,t,n){e.La=n?Tt(t,!0):t,e.La&&(e.La=e.La.replace(/:$/,""))},wt=function(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.mc=t}else e.mc=null},kt=function(e,t,n){t instanceof xt?e.a=t:(n||(t=St(t,Pi)),e.a=new xt(t))},Tt=function(e,t){return e?t?decodeURI(e):decodeURIComponent(e):""},St=function(e,t,n){return typeof e===y.ee?(e=encodeURI(e).replace(t,Et),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null},Et=function(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)},xt=function(e){this.f=e||null},It=function(e){var t=new xt;if(t.f=e.f,e.a){var n,r={};for(n in e.a)r[n]=e.a[n].concat();t.a=r,t.g=e.g}return t},Ct=function(e,t,n,r){return r=void 0===r?"HEAD":r,y.v((0,v.Z)().mark((function i(){var a;return(0,v.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(navigator.onLine){i.next=2;break}return i.abrupt("return",!1);case 2:if(!t){i.next=16;break}return(a=y.wg(t,n)).method=r,n||(a.timeout=5e3),a.headers["cache-control"]="no-cache",i.prev=7,i.next=10,e.fetch(a).O;case 10:i.next=16;break;case 12:if(i.prev=12,i.t0=i.catch(7),1002!==i.t0.code&&1003!==i.t0.code){i.next=16;break}return i.abrupt("return",!1);case 16:return i.abrupt("return",!0);case 17:case"end":return i.stop()}}),i,null,[[7,12]])})))},At=function(){return Di||(Ri||(Ri=new y.rh((function(){Di=null}))),(Di=document.querySelector(y.u)||document.querySelector(y.Rb))||(Di=document.createElement(y.u)),Ri.$(1),Di)},y.th=function(){return!!navigator.userAgent.match(/Edge?\//)},y.uh=function(e){return(navigator.userAgent||"").includes(e)},y.vh=function(e){return y.uh("Tizen"+(e?" "+String(e):""))},Pt=function(e){var t={major:-1,name:ge};if(!e)return t;var n=e.replace(/_/g,".");return t.name=n,1<=(n=n.split(".")).length&&(t.major=Nt(e,n[0])),2<=n.length&&(t.minor=Nt(e,n[1])),3<=n.length&&(t.patch=Nt(e,n[2])),4<=n.length&&(t.build=Nt(e,n[3])),t},y.yh=function(){return y.uh("Web0S")},y.Ah=function(){return y.yh()&&79===Mt().major},Mt=function(){for(var e=_t(),t="ie edge opera firefox safari chrome".split(" "),n=Dt(),r=Bi[n],i=0,a=t.length;i<a;i++)if(n=r[t[i]]&&e.match(r[t[i]]))return Pt(n[1]);return Pt("")},y.Eh=function(){return y.uh("CrKey")},y.Fh=function(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!y.vh()},y.Gh=function(){return!!/(?:iPhone|iPad|iPod|Android)/.test(navigator.userAgent)||y.Fh()&&1<navigator.maxTouchPoints},y.Hh=function(){return/(?:iPhone|iPad|iPod)/.test(navigator.userAgent)},Nt=function(e,t){try{return parseInt(t,10)}catch(ga){_i.warn("Unable to parse version number for '"+t+"' from '"+e+"'")}return-1},Rt=function(e,t){if(!e||!t||0===t.length)return!1;for(var n=0;n<t.length;n++)if(0<=e.indexOf(t[n]))return!0;return!1},Dt=function(){var e=_t();if(!e)return zi;var t=e.match(/^.+?(?=\))/);return t?(t=t[0],Rt(t,["iphone","ipad"])?Oi:Rt(t,["android"])?Li:Rt(t,["macintosh"])?ji:Rt(t,["windows nt"])?Ui:Rt(t,["tizen"])?Fi:Rt(t,["web0s"])?Hi:Rt(t,["linux"])?Zi:(_i.warn("Unable to identify OS from user agent: "+e),zi)):zi},_t=function(){var t=e.navigator.userAgent;return t.toLowerCase()},y.Th=function(){var e=Dt(),t=Dt(),n=Bi[t];n?(n=_t().match(n.os_version)[1],n=Pt(n),t===Ui&&("5.1"===n.name?n.name="xp":"6.1"===n.name?n.name="7":"6.2"!==n.name&&"6.3"!==n.name||(n.name="8")),t=n):t=Pt("");e:{n=_t();var r="ie edge opera firefox safari chrome".split(" "),i=Dt();i=Bi[i];for(var a=0,o=r.length;a<o;a++)if(i[r[a]]&&n.match(i[r[a]])){n=r[a];break e}n=Gi}return{os:e,osVersion:t,browser:n,browserVersion:Mt()}},y.Wh=function(){var e=1/0;navigator.connection&&navigator.connection.saveData&&y.Gh()&&(e=360);var t=y.tg();return t.maxAttempts=3,e={source:"",license:za,viewerId:void 0,autoplay:void 0,pauseWhenInBackground:!1,manifest:{attemptParameters:y.tg(),availabilityWindowOverride:NaN,clockSyncUri:"",ignoreDrmInfo:!1,xlinkFailGracefully:!1,autoCorrectDrift:!0},abr:{enabled:!0,defaultBandwidthEstimate:1e3,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,useSwitchIntervalForInitialSwitch:!1,restrictions:Lt(e)},drm:null,enableHtmlCue:!0,preferredAudioLanguage:"",preferredTextLanguage:"",preferredAudioRole:"",preferredTextRole:"",preferredAudioChannelCount:2,preferredAudioCodec:[],preferredVideoCodec:[],volume:null,startTime:null,loop:!1,lowLatencyMode:!1,suggestedPresentationDelay:void 0,muted:void 0,forceWaitForTracks:!1,streaming:{attemptParameters:t,bufferingGoal:10,rebufferingGoal:2,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,relativeTextTimestamp:!1,startAtSegmentBoundary:!1,gapDetectionThreshold:.1,smallGapLimit:.5,jumpLargeGaps:!0,durationBackoff:1,maxSegmentToMediaOffset:1,forceNativeTS:!1,preferNativeHlsOnSafari:!0,safeSeekOffset:5,stallEnabled:!0,stallThreshold:3,stallSkip:.5,bufferLimitUpdateInterval:.5,overridePasp:!1,enableLiveEdgeChasing:!1,chasingRate:1.15,startChasingAt:5,stopChasingAt:2,chaseJumpDistance:10,patchEdgeWhenMixedContent:!1,ignoreDrift:!1,disableFragmentSupport:!1,disableMergedFragments:!1},restrictions:Lt(),tizen:{sideStreamText:y.vh(2)}},(y.uh("Edge/")||y.vh())&&(e.streaming.gapDetectionThreshold=.5),y.yh()&&(e.streaming.stallEnabled=!1),y.Ah()&&(e.streaming.stallEnabled=!0,e.streaming.stallThreshold=1,e.streaming.stallSkip=1,e.streaming.gapDetectionThreshold=.02),y.vh()&&(e.streaming.stallEnabled=!0,e.streaming.stallThreshold=1,e.streaming.stallSkip=0),e.vr={enable:!1,attachMouseListener:!0,fieldOfView:70},e},Lt=function(e){return{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:e=void 0===e?1/0:e,minPixels:0,maxPixels:1/0,minBandwidth:0,maxBandwidth:1/0}},y.Yh=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t)return y.Wh();for(var r=[y.Wh()],i=!1,a=0,o=t;a<o.length;a++){var u=o[a];null!==u&&void 0!==u&&(y.ff(u)&&(u={source:u}),u.lowLatencyMode&&!i&&(r.push({suggestedPresentationDelay:0,streaming:{rebufferingGoal:.1,bufferLimitUpdateInterval:.01,attemptParameters:{maxAttempts:3,baseDelay:250,backoffFactor:1}},abr:{bandwidthUpgradeTarget:.6,bandwidthDowngradeTarget:.95},manifest:{Rf:{clockSyncUri:"//time.akamai.com"}}}),i=!0),r.push(u))}if(t=y.af.apply(null,r),y.ff(t.volume)&&(""===""+t.volume?t.volume=null:t.volume=Number(t.volume)),!y.y(t.volume)&&(!y.gf(t.volume)||De(t.volume)))throw new y.H(y.G,7,7100,"config.volume is not a number");if(!y.y(t.preferredTextLanguage)&&!y.ff(t.preferredTextLanguage)&&!Array.isArray(t.preferredTextLanguage))throw new y.H(y.G,7,7100,"config.preferredTextLanguage is not a string or an array");if(!y.y(t.preferredAudioLanguage)&&!y.ff(t.preferredAudioLanguage)&&!Array.isArray(t.preferredAudioLanguage))throw new y.H(y.G,7,7100,"config.preferredAudioLanguage is not a string or an array");if(!y.y(t.preferredAudioCodec)&&!y.ff(t.preferredAudioCodec)&&!Array.isArray(t.preferredAudioCodec))throw new y.H(y.G,7,7100,"config.preferredAudioCodec is not a string or an array");if(!y.y(t.preferredVideoCodec)&&!y.ff(t.preferredVideoCodec)&&!Array.isArray(t.preferredVideoCodec))throw new y.H(y.G,7,7100,"config.preferredVideoCodec is not a string or an array");if(!y.y(t.drm)){if(t.drm.env&&!y.ff(t.drm.env))throw new y.H(y.G,7,7100,"config.drm.env is not a string");if(t.drm.offlineId&&!y.ff(t.drm.offlineId))throw new y.H(y.G,7,7100,"config.drm.offlineId is not a string")}if(r=t.streaming){if(r.bufferingGoal=Number(r.bufferingGoal),r.rebufferingGoal=Number(r.rebufferingGoal),r.bufferBehind=Number(r.bufferBehind),r.smallGapLimit=Number(r.smallGapLimit),r.durationBackoff=Number(r.durationBackoff),!y.gf(r.bufferingGoal)||De(r.bufferingGoal))throw new y.H(y.G,7,7100,"config.streaming.bufferingGoal is not a number");if(!y.gf(r.rebufferingGoal)||De(r.rebufferingGoal))throw new y.H(y.G,7,7100,"config.streaming.rebufferingGoal is not a number");if(r.rebufferingGoal>r.bufferingGoal)throw new y.H(y.G,7,7100,"config.streaming.rebufferingGoal must be >= bufferingGoal");if(!y.gf(r.bufferBehind)||De(r.bufferBehind))throw new y.H(y.G,7,7100,"config.streaming.bufferBehind is not a number");if(!y.gf(r.smallGapLimit)||De(r.smallGapLimit))throw new y.H(y.G,7,7100,"config.streaming.smallGapLimit is not a number");if(!y.gf(r.durationBackoff)||De(r.durationBackoff))throw new y.H(y.G,7,7100,"config.streaming.durationBackoff is not a number");if(r=t.manifest,y.y(r.availabilityWindowOverride))r.availabilityWindowOverride=NaN;else if(typeof r.availabilityWindowOverride!==y.p)throw new y.H(y.G,7,7100,"Invalid value for |manifest.availabilityWindowOverride|");Ot(t.restrictions),Ot(t.abr.restrictions),t.abr.initialRestrictions&&Ot(t.abr.initialRestrictions)}return t},Ot=function(e){if(y.y(e.maxPixels)&&(e.maxPixels=1/0),y.y(e.maxBandwidth)&&(e.maxBandwidth=1/0),y.y(e.maxHeight)&&(e.maxHeight=1/0),y.y(e.maxWidth)&&(e.maxWidth=1/0),y.y(e.minPixels)&&(e.minPixels=0),y.y(e.minBandwidth)&&(e.minBandwidth=0),y.y(e.minHeight)&&(e.minHeight=0),y.y(e.minWidth)&&(e.minWidth=0),e.minWidth=Number(e.minWidth),e.maxWidth=Number(e.maxWidth),e.minHeight=Number(e.minHeight),e.maxHeight=Number(e.maxHeight),e.minBandwidth=Number(e.minBandwidth),e.maxBandwidth=Number(e.maxBandwidth),e.minPixels=Number(e.minPixels),e.maxPixels=Number(e.maxPixels),Number.isNaN(e.minWidth)||Number.isNaN(e.maxWidth)||Number.isNaN(e.minHeight)||Number.isNaN(e.maxHeight)||Number.isNaN(e.minBandwidth)||Number.isNaN(e.maxBandwidth)||Number.isNaN(e.minPixels)||Number.isNaN(e.maxPixels))throw new y.H(y.G,7,7100,"Restrictions contain NaN")},y.Zh=function(e){return typeof e===y.rd&&!Array.isArray(e)&&"source"in e},y.ai=function(e){return y.$h.get(e)||null},y.ci=function(e){y.$h.get(e.id())?Wi.warn("Component already in use."):y.$h.set(e.id(),e)},Zt=function(e){var t,n=(0,g.Z)(y.$h.values());try{for(n.s();!(t=n.n()).done;){e(t.value)}}catch(r){n.e(r)}finally{n.f()}},y.fi=function(e,t){return t=void 0==t||t,e=y.ei(e).replace(/\+/g,"-").replace(/\//g,"_"),t?e:e.replace(/[=]*$/,"")},y.ei=function(e){return e=Qe(y.L(e)),btoa(e)},y.ii=function(t){t=e.atob(t.replace(/-/g,"+").replace(/_/g,"/"));for(var n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n},y.ji=function(t){for(var n=new Uint8Array(t.length/2),r=0;r<t.length;r+=2)n[r/2]=e.parseInt(t.substr(r,2),16);return n},y.ki=function(e){for(var t="",n=0;n<e.length;++n){var r=e[n].toString(16);1==r.length&&(r="0"+r),t+=r}return t},y.li=function(e,t){if(!e&&!t)return!0;if(!e||!t||e.length!=t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!=t[n])return!1;return!0},y.mi=function(e){for(var t=0,n=0;n<arguments.length;++n)t+=arguments[n].length;t=new Uint8Array(+t),n=0;for(var r=0;r<arguments.length;++r)t.set(arguments[r],n),n+=arguments[r].length;return t},jt=function(e){return y.ng(e,y.wc)||y.ng(e,y.xc)},Ut=function(e,t){3===t.type&&(e.f&&(e.g.debug("Attaching tracking token"),t.headers[Se]=e.f),e.a&&(t.headers[Ee]=e.a))},Ft=function(e,t){return t.request&&3===t.request.type&&(e.f=t.headers[Se],e.a=t.headers[Ee],t=t.headers["x-dt-csl-renewal-info"],e.f&&e.g.debug("Loaded tracking token "+e.f),e.a&&e.g.debug("Loaded followup token "+e.a),t)?{delay:(e=JSON.parse(y.gg(y.ii(t)))).renewalPeriod,Mf:{maxAttempts:e.retryCount,baseDelay:1e3*e.retryPeriod,backoffFactor:1,fuzzFactor:0,timeout:0}}:null},y.ri=function(e){y.qi[e.I]=e},y.ti=function(e){var t={attemptParameters:y.tg(),enforceSingleSession:!1,delayLicenseRequestUntilPlayed:!1,Oa:{}};if(e&&(t.enforceSingleSession=!!e.enforceSingleSession,t.delayLicenseRequestUntilPlayed=!!e.delayLicenseRequestUntilPlayed,t.preferredDrmSystem=e.preferredDrmSystem,t.emeApi=e.emeApi,e.attemptParameters&&(t.attemptParameters=e.attemptParameters),e.env)){var n=y.qi[e.env]||null;if(!n)throw y.D(y.pa,y.Sa+e.env+y.aa),new y.H(y.G,6,6015,"DRM environment '".concat(e.env,"' is missing."));t.Oa=y.si(n,e.customData)||{},y.ng(e.env.toLowerCase(),ee)&&(t.enforceSingleSession=!0)}return t},Ht=function(e){if(!(e=$i[e]))return null;var t=y.Th();return t.os===Li&&4===t.osVersion.major&&4===t.osVersion.minor?null:new Uint8Array(e)},y.si=function(e,t){var n={},r=t?t.widevineVideoRobustness:void 0,i=t?t.widevineAudioRobustness:void 0,a=t?t.serverCertificate:void 0,o=e.g[y.yc];if(o){var u=o.licenseUrl;r=zt(r,o.videoRobustness),i=zt(i,o.audioRobustness);var s=o.modifiers,l=o.distinctiveIdentifierRequired,c=o.persistentStateRequired;o=void 0===a?o.serverCertificate:null===a?null:typeof a===y.ee?Ht(a):a,n[y.yc]={licenseUrl:u,videoRobustness:r,audioRobustness:i,modifiers:s,distinctiveIdentifierRequired:l,persistentStateRequired:c,serverCertificate:o}}return(o=e.g[y.wc])&&(n[y.wc]={licenseUrl:o.licenseUrl,certificateUrl:o.certificateUrl,modifiers:o.modifiers}),u=t?t.playReadyVideoRobustness:void 0,t=t?t.playReadyAudioRobustness:void 0,(o=e.g[y.xc])&&(n[y.xc]={licenseUrl:o.licenseUrl,videoRobustness:u||o.videoRobustness,audioRobustness:t||o.audioRobustness,individualizationServer:o.individualizationServer,useLegacySystem:o.useLegacySystem,modifiers:o.modifiers}),n},zt=function(e,t){var n=y.Th();if(n.os!==Li||"chrome"!==n.browser)return e||t},y.xi=function(){throw new y.H(y.G,3,3e3)},y.yi=function(e,t,n){var r=n||0;n=t.byteLength-r;var i=y.L(e.f.buffer);t=y.L(t.buffer,r,n);try{i.set(t,e.a),e.a+=n}catch(a){y.xi()}},y.M=function(e,t){try{e.f.setUint32(e.a,t,e.g),e.a+=4}catch(ga){y.xi()}},y.zi=function(e){return e.a<e.f.byteLength},y.Ai=function(){throw new y.H(y.G,3,3e3)},y.Bi=function(e){try{var t=e.f.getUint16(e.a,e.g);return e.a+=2,t}catch(t){y.Ai()}},y.N=function(e){try{var t=e.f.getUint32(e.a,e.g);return e.a+=4,t}catch(t){y.Ai()}},y.Ci=function(e){try{var t=e.f.getInt32(e.a,e.g);return e.a+=4,t}catch(t){y.Ai()}},y.Di=function(e){var t,n=0;try{e.g?(t=e.f.getUint32(e.a,!0),n=e.f.getUint32(e.a+4,!0)):(n=e.f.getUint32(e.a,!1),t=e.f.getUint32(e.a+4,!1))}catch(ma){y.Ai()}if(2097151<n)throw new y.H(y.G,3,3001);return e.a+=8,n*Math.pow(2,32)+t},y.Ei=function(e,t){e.a+t>e.f.byteLength&&y.Ai();var n=e.f.buffer.slice(e.a,e.a+t);return e.a+=t,y.L(n)},y.Fi=function(e){return"".concat(e.scheme,"//")+"".concat(e.f).concat(e.port?":"+e.port:"").concat(e.path).concat(e.g).concat(e.a)},y.Gi=function(e,t,n){return e?(n||Object.keys(e).sort()).reduce((function(n,r){if(!(r in e))return n;var i=e[r],a="&";return""===n&&(a=t?"":"?"),(n=n+a+encodeURIComponent(r))+"="+encodeURIComponent(void 0===i?"":i)}),""):""},Gt=function(e){var t={};e=(e=e||"").substring(e.indexOf("?")+1);var n,r=(0,g.Z)(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value.split("=");e=decodeURIComponent(i[0]),i=decodeURIComponent(i[1]||""),e&&(t[e]=i)}}catch(a){r.e(a)}finally{r.f()}return t},Bt=function(e){var t="";try{t=y.jg(e)}catch(ga){}return t},y.Ki=function(e){var t="";return(e=Bt(e)).length&&(t=new y.Ji(e).f),t},Vt=function(e,t,n){if(!n||!n.byteLength)throw new y.H(y.G,6,6102);var r;return r=typeof t===y.ee?y.lg(t,!0):t,e=y.lg(Bt(e),!0),t=new y.Li(12+e.byteLength+r.byteLength+n.byteLength,!0),y.M(t,e.byteLength),y.yi(t,y.L(e)),y.M(t,r.byteLength),y.yi(t,y.L(r)),y.M(t,n.byteLength),y.yi(t,y.L(n)),y.L(t.buffer)},y.Ni=function(e){var t=y.L(e.body);t=y.fi(t),e.headers[c]=G,e.body=y.kg("spc="+t).buffer},y.Oi=function(e){var t;try{t=y.gg(e.data)}catch(n){return}"<ckc>"===(t=t.trim()).substr(0,5)&&"</ckc>"===t.substr(-6)&&(t=t.slice(5,-6));try{var n=JSON.parse(t);n.ckc&&(t=n.ckc),n.CkcMessage&&(t=n.CkcMessage),n.License&&(t=n.License)}catch(n){}e.data=Je(y.ii(t))},Wt=function(e,t){if(t=qt(t),e==y.yc)return t+ia;if(e==y.xc)return t+aa;if(e==y.wc)return t+oa;throw Error("Unknown DRM Key-System '"+e+"'. Can not infer license URL!")},y.Vi=function(e,t,n,r){r=void 0===r||r,(e=e.drm)&&e.env.startsWith(w)?e.customData&&(n=btoa(JSON.stringify({userId:e.customData.userId,sessionId:e.customData.sessionId,merchant:e.customData.merchant})),t.headers["dt-custom-data"]=n,e.customData.authToken&&(t.headers["x-dt-auth-token"]="".concat(e.customData.authToken)),n=t.uris[0],r&&e.customData.assetId&&(n+="?assetId="+encodeURI("".concat(e.customData.assetId)),e.customData.variantId&&(n+="&variantId="+encodeURI("".concat(e.customData.variantId))),t.uris[0]=n)):Qi.warn(M)},y.Wi=function(e,t){try{var n=y.L(t.data),r=JSON.parse(String.fromCharCode.apply(null,n));Qi.debug("Widevine License response",r);var i=atob(r.license),a=new Uint8Array(i.length);for(e=0;e<i.length;++e)a[e]=i.charCodeAt(e);t.data=a.buffer}catch(n){Qi.debug("Unable to parse DRMtoday response JSON, assuming the response contained raw data")}},y.Yi=function(e,t,n){var r=n&&n.customData&&n.customData.fpsContentId;if(y.Vi(e,t,n,!1),t.headers[c]=G,n={spc:y.ei(t.body)},(e=e.drm)&&e.env.startsWith("DRMtodayOnboard")&&r){e={};var i=Gt(new y.Ji(Yt(r)).a);r=i.keyId,(i=i.assetId)&&(Qi.info("Applying assetId from HLS manifest."),e.assetId=i),r&&(Qi.info("Applying keyId from HLS manifest."),e.keyId=r),(r=e).keyId&&(Qi.info("Adding keyID to FPS payload:",r.keyId),n.keyId=r.keyId),r.assetId&&(Qi.info("Adding assetID to FPS payload:",r.assetId),n.assetId=r.assetId)}t.body=y.mg(y.Gi(n,!0))},y.Zi=function(e,t){Qi.debug("Clearing response data"),200===t.status&&("<ckc>"===(e=y.gg(t.data).trim()).substr(0,5)&&"</ckc>"===e.substr(-6)&&(e=e.slice(5,-6)),t.data=y.ii(e).buffer)},y.$i=function(e,t,n){t=Bt(t),n=n&&n.customData?n.customData:{},t=new y.Ji(Yt(t));var r=Gt(t.a);if(e&&e.drm&&e.drm.customData){var i=e.drm.customData;e=i.assetId,i=i.variantId,e&&y.pg("".concat(e))&&(r.assetId=e,Qi.info("Using assetId from the configuration instead of the value from the HLS manifest.")),i&&y.pg("".concat(i))&&(r.variantId=i,Qi.info("Using variantId from the configuration instead of the value from the HLS manifest."))}return r.keyId?(e=["keyId"],Qi.info("KeyId found in FPS SKD. Removing other parameters")):e=["assetId","variantId"],t.a=y.Gi(r,!1,e),t=y.Fi(t),n.fpsContentId=t},y.aj=function(e,t){if((e=e.drm)&&e.env.startsWith(w)){if(e.customData&&e.customData.merchant){var n=new y.dh(t.uris[0]),r=n.ma;r.endsWith("/")||(r+="/"),r+=e.customData.merchant,n.ma=r,t.uris[0]=n.toString()}}else Qi.warn(M)},Kt=function(e,t,n){y.Vi(e,t,n),e=!(!(e=e.drm)||!e.offlineId),(n=new y.dh(t.uris[0])).a.add(y.Gd,e),t.uris[0]=n.toString()},qt=function(e){if(e===ea)return"https://lic.drmtoday.com";if(e===ta)return"https://lic.staging.drmtoday.com";if(e===na)return"https://lic.test.drmtoday.com";throw Error("Unknown DRMtoday environment '"+e+"'. Can not infer DRMtoday base URL!")},Yt=function(e){return(e=(e=e.replace(/assetid/gi,"assetId")).replace(/variantid/gi,"variantId")).replace(/keyid/gi,"keyId")},Xt=function(e){var t={},n=e?e[xe]:void 0;return e=ua[e?e[xe]:void 0],n&&(t.drmTodayErrorCode=n),e&&(t.drmTodayErrorMessage=e),t},$t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;y.tf("Registering EME Factory: "+e.a()),e={priority:t,yb:e};for(var n=0;n<ba.length;++n)if(ba[n].priority<t)return void ba.splice(n,0,e);ba.push(e)},Jt=function(e){if(e){var t=ba.find((function(t){return t.yb.a()===e})).yb;if(t&&t.Y())return y.tf(z+t.a()),t.create();y.tf("Cannot create selected EME manager. Choosing by priority list.")}var n,r=(0,g.Z)(ba);try{for(r.s();!(n=r.n()).done;){var i=n.value.yb;if(i.Y())return y.tf(z+i.a()),i.create()}}catch(a){r.e(a)}finally{r.f()}throw Error("Missing EME managers")},Qt=function(e){for(var t=0,n=0;n<e.length;n++)t=t<<8|e.charCodeAt(n);return t},y.lj=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},y.mj=function(e){for(;y.zi(e.G)&&!e.Za.a;)e.Za.Qc(e.start+e.kd,e.G,e.se)},y.nj=function(e){for(var t=y.N(e.G);0<t&&!e.Za.a;--t)e.Za.Qc(e.start+e.kd,e.G,e.se)},y.oj=function(e){return function(t){var n=t.G.ya()-t.G.getPosition();e(y.Ei(t.G,n))}},y.pj=function(e){return 8+(e.hf?8:0)+(null!=e.flags?4:0)},en=function(e){return y.v((0,v.Z)().mark((function t(){var n;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Promise((function(e){new y.rh(e).$(1)})),t.next=3,Promise.race([e.close().then((function(){return!0})),n.then((function(){return!1}))]);case 3:if(t.t0=t.sent,t.t0){t.next=6;break}y.z("Timeout waiting for session close");case 6:case"end":return t.stop()}}),t)})))},y.sj=function(e){return on(e)?y.xc:e},tn=function(e,t){var n=[];t.forEach((function(e,t){n.push({keySystem:t,licenseServerUri:e.licenseUrl,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[],keyIds:[]})}));var r,i=(0,g.Z)(e);try{for(i.s();!(r=i.n()).done;){r.value.drmInfos=n}}catch(a){i.e(a)}finally{i.f()}},nn=function(e,t){if(e.keySystem){var n=y.sj(e.keySystem);t=t[n],n===y.Bd&&e.licenseServerUri||(t&&(e.licenseServerUri=t.licenseUrl||""),e.keyIds||(e.keyIds=[]),t&&(e.distinctiveIdentifierRequired||(e.distinctiveIdentifierRequired=t.distinctiveIdentifierRequired),e.persistentStateRequired||(e.persistentStateRequired=t.persistentStateRequired),e.videoRobustness||(e.videoRobustness=t.videoRobustness||""),e.audioRobustness||(e.audioRobustness=t.audioRobustness||""),e.serverCertificate||(e.serverCertificate=t.serverCertificate||null)))}},rn=function(e){var t=e,n=t.playerConfig,r=t.initData,i=t.initDataType,a=t.drmInfo,o=t.drmSystemConfig,u=t.sessionContext,s=t.emeApi;if("skd"===i&&"APPLE"===s){e=a.serverCertificate;var l=o&&o.modifiers&&o.modifiers.extractContentId;y.ef(l)||(l=an);var c="";try{c=l(n,r,u)}catch(f){throw new y.H(y.G,6,6103)}if(!c.length)throw new y.H(y.G,6,6101,"Content ID is an empty string");r=Vt(r,c,e)}return r},an=function(e,t){return e=y.Ki(t),y.D("Using default Content ID extractor. The hostname part from HLS #EXT-X-KEY:URI skd:// will be used.","Extracted Content ID: "+e),e},on=function(e){return!!e.match(/^com\.(microsoft|chromecast)\.playready/)},un=function(e,t,n,r,i){var a,o=(0,g.Z)(e);try{var u=function(){var o=a.value;if(t.includes(o.licenseServerUri)||t.push(o.licenseServerUri),o.serverCertificate&&(n.some((function(e){return y.li(e,o.serverCertificate)}))||n.push(o.serverCertificate)),o.initData){var u,s=(0,g.Z)(o.initData);try{for(s.s();!(u=s.n()).done;){u.value.periodId=o.periodId}}catch(d){s.e(d)}finally{s.f()}var l,c=(0,g.Z)(o.initData);try{var f=function(){var e=l.value;r.some((function(t){return!(!t.keyId||t.keyId!=e.keyId||t.periodId!==e.periodId)||t.initDataType==e.initDataType&&y.li(t.initData,e.initData)&&t.periodId===e.periodId}))||r.push(e)};for(c.s();!(l=c.n()).done;)f()}catch(d){c.e(d)}finally{c.f()}}if(o.keyIds)for(e=0;e<o.keyIds.length;++e)i.includes(o.keyIds[e])||i.push(o.keyIds[e])};for(o.s();!(a=o.n()).done;)u()}catch(s){o.e(s)}finally{o.f()}},sn=function(e){var t=e.ga,n=e.V;n.clear(),t.forEach((function(e,t){return n.set(t,e)})),(t=Array.from(n.values())).length&&t.every((function(e){return"expired"==e}))&&e.U(new y.H(y.G,6,6014)),e.j.Cd(y.lf(n)),e.m||e.a.info(b),e.m=!0,e.B=!1},ln=function(e){e.g.forEach((function(t,n){var r=t.xd,i=n.expiration;isNaN(i)&&(i=1/0),i!=r&&(e.j.onExpirationUpdated(n.sessionId,i),t.xd=i)}))},cn=function(e){return y.v((0,v.Z)().mark((function t(){var n,r,i,a;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.w.release(),e.w=null,e.K.release(),e.K=null,e.m=!1,e.B=!1,e.D.reject(),e.W.stop(),e.W=null,e.S.stop(),e.S=null,n=Array.from(e.g.keys()),r=(0,g.Z)(e.g.values());try{for(r.s();!(i=r.n()).done;)(a=i.value).dc&&a.dc.stop()}catch(o){r.e(o)}finally{r.f()}return e.g.clear(),t.next=17,Promise.all(n.map((function(t){return Promise.resolve().then((function(){return y.v((0,v.Z)().mark((function n(){return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.a.debug("Closing session",t.sessionId),n.prev=1,n.next=4,en(t);case 4:n.next=8;break;case 6:n.prev=6,n.t0=n.catch(1);case 8:case"end":return n.stop()}}),n,null,[[1,6]])})))}))})));case 17:if(!e.A){t.next=26;break}return t.prev=18,t.next=21,e.o.g(null);case 21:t.next=25;break;case 23:t.prev=23,t.t0=t.catch(18);case 25:e.A=null;case 26:e.o=null,e.f=null,e.J.clear(),e.F=null,e.H=[],e.h=null,e.U=null,e.j=null,e.N=0,e.L=null;case 36:case"end":return t.stop()}}),t,null,[[18,23]])})))},y.Ej=function(e,t){var n=t.some((function(e){return 0<e.drmInfos.length}));if(!n){var r=_e(e.h.Oa);tn(t,r)}if(r=fn(e)){var i,a=(0,g.Z)(t);try{for(a.s();!(i=a.n()).done;){i.value.drmInfos=[r]}}catch(d){a.e(d)}finally{a.f()}}var o,u=(0,g.Z)(t);try{for(u.s();!(o=u.n()).done;){var s,l=o.value,c=(0,g.Z)(l.drmInfos);try{for(c.s();!(s=c.n()).done;){var f=s.value;nn(f,e.h.Oa)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){u.e(d)}finally{u.f()}return(t=dn(e,t)).size?(e.o=Jt(e.h.emeApi),e=y.Dj(e,t),n?e:e.catch((function(){}))):(e.R=!0,Promise.resolve())},y.Gj=function(e,t,n){return e.I=wa,e.H=n,e.C=0<n.length,e.a.debug("Using Persisted Licenses: "+e.C),y.Ej(e,t)},y.Dj=function(e,t){if(1==t.size&&t.has(""))return Promise.reject(new y.H(y.G,6,6e3));var n,r=(0,g.Z)(t.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;0==i.audioCapabilities.length&&delete i.audioCapabilities,0==i.videoCapabilities.length&&delete i.videoCapabilities}}catch(h){r.e(h)}finally{r.f()}var a=i=new y.Hj,o=function(e){var t,n=(0,g.Z)(e.audioCapabilities);try{for(n.s();!(t=n.n()).done;){delete t.value.robustness}}catch(h){n.e(h)}finally{n.f()}var r,i=(0,g.Z)(e.videoCapabilities);try{for(i.s();!(r=i.n()).done;){delete r.value.robustness}}catch(h){i.e(h)}finally{i.f()}},u=function(t,n,r){n.drmInfos.some((function(e){return!!e.licenseServerUri}))==t&&(a=a.catch((function(){if(e.ka)return null;if(r===y.xc){var t=e.j.getConfiguration();if(y.th()&&!t.streaming.patchEdgeWhenMixedContent&&!e.h.Oa[r].useLegacySystem)return e.o.a("com.microsoft.playready.recommendation",[n]).catch((function(){return o(n),e.o.a(r,[n])}));o(n)}return e.o.a(r,[n])})))},s=e.h.preferredDrmSystem;if(!s){var l=y.Th();l.os===Ui&&10<=l.osVersion.major&&"edge"===l.browser&&(s=y.xc)}s&&(l=t.get(s))&&(u(!0,l,s),u(!1,l,s));for(var c=function(){var e=d[f];t.forEach((function(t,n){n!==s&&u(e,t,n)}))},f=0,d=[!0,!1];f<d.length;f++)c();return a=(a=a.catch((function(){throw new y.H(y.G,6,6001)}))).then((function(n){if(e.ka)return null;e.J.clear();var r=n.getConfiguration();e.a.debug("Got MediaKeySystemAccess with configuration",r);var i=r.audioCapabilities||[];r=r.videoCapabilities||[];var a,o=(0,g.Z)(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;e.J.add(u.contentType)}}catch(h){o.e(h)}finally{o.f()}var s,l=(0,g.Z)(r);try{for(l.s();!(s=l.n()).done;){var c=s.value;e.J.add(c.contentType)}}catch(h){l.e(h)}finally{l.f()}i=n.keySystem,u=t.get(y.sj(n.keySystem)),c=[],r=[];var f=[],d=[];if(un(u.drmInfos,c,r,f,d),1<r.length&&y.z("Multiple unique server certificates found! Only the first will be used."),1<c.length&&y.z("Multiple unique license server URIs found! Only the first will be used."),i={keySystem:i,licenseServerUri:c[0],distinctiveIdentifierRequired:u.distinctiveIdentifier==y.Td,persistentStateRequired:u.persistentState==y.Td,audioRobustness:u.audioCapabilities?u.audioCapabilities[0].robustness:"",videoRobustness:u.videoCapabilities?u.videoCapabilities[0].robustness:"",serverCertificate:r[0],initData:f,keyIds:d,periodId:null},e.f=i,!e.f.licenseServerUri)throw new y.H(y.G,6,6012,e.f.keySystem);return n.createMediaKeys()})).then((function(t){e.ka||(e.a.info("Created MediaKeys object for key system",e.f.keySystem),e.F=t,e.R=!0)})).catch((function(t){if(!e.ka){if(e.f=null,e.J.clear(),t instanceof y.H)throw t;throw new y.H(y.G,6,6002,{browserError:t.message})}})),i.reject(),a},fn=function(t){if(0==(t=_e(t.h.Oa[y.Bd]||{})).size)return null;var n=[],r=[];t.forEach((function(e,t){t=y.ji(t),e=y.ji(e),e={kty:"oct",kid:y.fi(t,!1),k:y.fi(e,!1)},n.push(e),r.push(e.kid)})),t=JSON.stringify({keys:n});var i=JSON.stringify({kids:r});return i=[{initData:y.kg(i),initDataType:"keyids"}],{keySystem:y.Bd,licenseServerUri:"data:application/json;base64,"+e.btoa(t),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:i,keyIds:[],periodId:null}},dn=function(e,t){var n,r=new Set,i=(0,g.Z)(t);try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=(0,g.Z)(o.drmInfos);try{for(u.s();!(a=u.n()).done;){var s=a.value;r.add(s)}}catch(k){u.e(k)}finally{u.f()}}}catch(k){i.e(k)}finally{i.f()}var l,c=(0,g.Z)(r);try{for(c.s();!(l=c.n()).done;){var f=l.value;nn(f,e.h.Oa)}}catch(k){c.e(k)}finally{c.f()}o=e.C?y.Td:y.zd,s=e.C?[y.Hd]:[ve],e=new Map;var d,h=(0,g.Z)(r);try{for(h.s();!(d=h.n()).done;){var v=d.value;e.set(v.keySystem,{initDataTypes:[y.jc],audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:y.zd,persistentState:o,sessionTypes:s,label:v.keySystem,drmInfos:[]})}}catch(k){h.e(k)}finally{h.f()}var m,b=(0,g.Z)(t);try{var w=function(){var n=m.value;t=n.audio,r=n.video;var i,a=t?y.Ig(t.mimeType,t.codecs):"",o=r?y.Ig(r.mimeType,r.codecs):"",u=(0,g.Z)(n.drmInfos);try{var s=function(){var n=i.value,u=e.get(n.keySystem);u.drmInfos.push(n),n.initData&&n.initData.length&&(u.initDataTypes=(0,p.Z)(new Set(n.initData.map((function(e){return e.initDataType}))))),n.distinctiveIdentifierRequired&&(u.distinctiveIdentifier=y.Td),n.persistentStateRequired&&(u.persistentState=y.Td),t&&y.Jg(n.audioRobustness).forEach((function(e){u.audioCapabilities.push({robustness:e||"",contentType:a})})),r&&y.Jg(n.videoRobustness).forEach((function(e){u.videoCapabilities.push({robustness:e||"",contentType:o})}))};for(u.s();!(i=u.n()).done;)s()}catch(k){u.e(k)}finally{u.f()}};for(b.s();!(m=b.n()).done;)w()}catch(k){b.e(k)}finally{b.f()}return e},hn=function(e){return y.v((0,v.Z)().mark((function t(){return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.o.m()){t.next=15;break}if(!e.L){t.next=6;break}return t.next=4,e.L;case 4:t.next=15;break;case 6:return t.prev=6,e.L=e.o.g(e.F),t.next=10,e.L;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(6),e.ka||e.U(new y.H(y.G,6,6003,t.t0.message,t.t0));case 15:case"end":return t.stop()}}),t,null,[[6,12]])})))},y.Mj=function(e,t,n){if(n.length&&(!e.C||e.I!==wa)){var r=e.keySystem();if(!r.startsWith(y.wc)){var i=new Ea(n);if(1<i.a.length&&(r={"org.w3.clearkey":"1077efecc0b24d02ace33c1e52e2fb4b","com.widevine.alpha":"edef8ba979d64acea3c827dcd51d21ed","com.microsoft.playready":"9a04f07998404286ab92e65be0885f95","com.adobe.primetime":"f239e769efa348509c16a903c6932efb"}[r]))for(var a=0;a<i.f.length;a++)if(r===i.f[a]){n=n.subarray(i.a[a].start,i.a[a].end+1);break}}if(i=e.g.values(),!e.A.webkitCurrentPlaybackTargetIsWireless&&!y.vh(2)&&!e.keySystem().startsWith(y.wc)){var o,u=(0,g.Z)(i);try{for(u.s();!(o=u.n()).done;){var s=o.value;if(y.li(n,s.initData))return void e.a.debug(I);if(yn(n,s))return void e.a.debug("Ignoring duplicate init data (extra).")}}catch(l){u.e(l)}finally{u.f()}}bn(e,"",null,t,n)}},pn=function(e,t){return y.v((0,v.Z)().mark((function n(){return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,hn(e);case 2:t.initData&&y.Mj(e,t.initDataType,y.L(t.initData));case 3:case"end":return n.stop()}}),n)})))},vn=function(e){return y.v((0,v.Z)().mark((function t(){var n;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.T.map((function(t){return Tn(e,t)})),e.ca=!0,e.T=[],t.next=5,Promise.all(n);case 5:case"end":return t.stop()}}),t)})))},gn=function(e){var t=e.keySystem(),n=e.h.Oa[t],r=n.certificateUrl||"";if(""===r)return Promise.resolve();var i=e.j.getConfiguration();return mn(e,i).then((function(){var t=n.modifiers,a=t&&t.certificateRequest,o=t&&t.certificateResponse;return(t=y.wg([r],e.h.attemptParameters)).type=3,a&&t.requestModifiers.push((function(e){return a(i,e)})),o&&t.responseModifiers.push((function(e){return o(i,e)})),e.a.debug("Fetching certificate"),e.j.pb.fetch(t).O})).then((function(t){e.f.serverCertificate=y.L(t.data)})).catch((function(e){var t=e.data.headers;throw t=Object.assign({message:"Error while fetching certificate!",url:e.data.url,status:e.data.status,response:e.data.response},t?{headers:t}:{},Xt(t)),new y.H(y.G,6,6100,t,e)}))},y.Sj=function(e){return y.v((0,v.Z)().mark((function t(){var n;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.F&&e.f&&e.f.serverCertificate&&e.f.serverCertificate.length)){t.next=11;break}return t.prev=1,t.next=4,e.F.setServerCertificate(e.f.serverCertificate);case 4:void 0===(n=t.sent)||n||e.a.warn("Server certificates are not supported by the key system. The server certificate has been ignored."),t.next=11;break;case 8:throw t.prev=8,t.t0=t.catch(1),new y.H(y.G,6,6004,{browserError:t.t0.message});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))},y.Uj=function(e){var t,n=e.f&&e.f.initData||[],r=(0,g.Z)(n);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=!y.vh(2);if(e.h.enforceSingleSession&&!e.keySystem().startsWith(y.wc)){var o,u=e.g.values(),s=(0,g.Z)(u);try{for(s.s();!(o=s.n()).done;){var l=o.value;y.li(i.initData,l.initData)?(e.a.debug(I),a=!1):l.periodId===i.periodId&&(e.a.debug("Ignore duplicated init data with same period id"),yn(i.initData,l)||l.Gc.push(i.initData),a=!1)}}catch(h){s.e(h)}finally{s.f()}}!a||e.C&&e.I===wa||bn(e,i.keyId,i.periodId,i.initDataType,i.initData)}}catch(h){r.e(h)}finally{r.f()}var c,f=(0,g.Z)(e.H);try{for(f.s();!(c=f.n()).done;){var d=c.value;y.Tj(e,d)}}catch(h){f.e(h)}finally{f.f()}return n.length||e.H.length||(e.m||e.a.info(b),e.m=!0,e.B=!1,e.D.resolve()),e.D},y.Vj=function(e,t){if(!e.F)return y.Ef(e.w,t,[ne,"msneedkey",Te,"needkey"],(function(){e.U(new y.H(y.G,6,6010))})),Promise.resolve();e.A=t,e.o.j(t),e.w.one(e.A,y.Jd,(function(){return vn(e)})),e.w.on(e.A,y.Ie,(function(t){var n=e.B;e.B=!e.m,!n&&e.B&&(e.a.info("Waiting for DRM license key delivery"),e.j.onEvent(t))}));var n=e.f.initData.find((function(e){return 0<e.initData.length})),r=Promise.resolve();(n||e.o.f()!==L||e.H.length)&&(r=hn(e));var i=Promise.resolve();return y.yh()&&38===Mt().major||(e.f&&e.f.keySystem!==y.Bd&&!e.f.serverCertificate&&(i=gn(e)),i=i.then((function(){return y.Sj(e)}))),Promise.all([r,i]).then((function(){!e.ka&&(y.Uj(e),y.vh(2)||!n&&!e.H.length)&&e.w.on(e.A,ne,(function(t){return pn(e,t)}))})).catch((function(n){if(!e.ka){if(6004===n.code&&e.f&&e.f.keySystem===y.yc&&1>e.N&&e.f.serverCertificate&&e.f.serverCertificate.length)return e.a.warn("Detected invalid widevine server certificate!. Retrying"),e.U(new y.H(1,6,6004)),e.f.serverCertificate=null,e.N++,y.Vj(e,t);throw 1<=e.N&&e.a.info("Could not get valid widevine server certificate. Giving up"),n}}))},mn=function(e,t){return y.v((0,v.Z)().mark((function n(){var r,i;return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(r=e.j.jc())){n.next=7;break}if(i=t&&t.drm&&t.drm.customData,n.t0=i,!n.t0){n.next=7;break}return n.next=7,r(i);case 7:case"end":return n.stop()}}),n)})))},y.Tj=function(e,t){var n;try{e.a.debug("Attempting to load an offline session",t),n=e.F.createSession(y.Hd)}catch(a){var r=new y.H(y.G,6,6005,{browserError:a.message});return e.U(r),Promise.reject(r)}e.w.on(n,se,e.ua.bind(e)),e.w.on(n,ie,e.na.bind(e));var i={initData:null,loaded:!1,xd:1/0,eb:null,periodId:null,Gc:[],keyId:null,initDataType:null,Nb:null,sessionContext:{ldlDelay:0,customData:{}}};return e.g.set(n,i),n.load(t).then((function(r){return e.ka?null:(e.a.debug("Loaded offline session",t,r),r?(i.loaded=!0,kn(e)&&(e.m||e.a.info(b),e.m=!0,e.B=!1,e.D.resolve()),n):(e.g.delete(n),e.U(new y.H(y.G,6,6013)),null))}),(function(t){e.ka||(e.g.delete(n),e.U(new y.H(y.G,6,6005,{browserError:t.message})))}))},yn=function(e,t){for(var n=0;n<t.Gc.length;n++)if(y.li(e,t.Gc[n]))return!0;return!1},bn=function(e,t,n,r,i,a){if(a=void 0===a?null:a,i.length){try{var o=e.C?y.Hd:ve;e.a.debug("Creating new ".concat(o," session."));var u=e.F.createSession(o)}catch(s){return void e.U(new y.H(y.G,6,6005,{browserError:s.message}))}e.w.on(u,se,e.ua.bind(e)),e.w.on(u,ie,e.na.bind(e)),t={Nb:a,Gc:[],initData:i,initDataType:r,keyId:t,loaded:!1,xd:1/0,periodId:n,eb:null,sessionContext:{ldlDelay:0,customData:{}}},a&&(a=e.g.get(a),t.sessionContext=a.sessionContext),e.g.set(u,t),a=e.j.getConfiguration(),n=e.keySystem(),o=(o=(n=e.h.Oa[n]).modifiers)&&o.transformInitData,y.ef(o)||(o=rn);try{i=o({playerConfig:a,initData:i,initDataType:r,drmInfo:e.f,drmSystemConfig:n,sessionContext:t.sessionContext,emeApi:e.o.f()})}catch(s){return r=s,s instanceof y.H||(r=new y.H(y.G,6,6016,s)),void e.U(r)}u.generateRequest(r,i.buffer).catch((function(t){if(!e.ka){e.g.delete(u);var n=null;t.errorCode&&t.errorCode.systemCode&&(0>(n=t.errorCode.systemCode)&&(n+=Math.pow(2,32)),n="0x"+n.toString(16)),e.U(new y.H(y.G,6,6006,{browserError:t.message,error:t,extended:n},t))}}))}},wn=function(e){var t=1/0;e=e.g.keys();var n,r=(0,g.Z)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;isNaN(i.expiration)||(t=Math.min(t,i.expiration))}}catch(a){r.e(a)}finally{r.f()}return t},kn=function(e){return e=e.g.values(),y.Wf(e,(function(e){return e.loaded}))},Tn=function(e,t){var n=t.target;e.a.debug("Sending license request for session",n.sessionId);var r=e.g.get(n),i=e.f.licenseServerUri,a=e.keySystem();a=e.h.Oa[a],"individualization-request"===t.messageType&&a&&a.individualizationServer&&(i=a.individualizationServer);var o=y.wg([i],e.h.attemptParameters);o.type=3,o.body=t.message,o.method="POST",o.licenseRequestType=t.messageType===oe&&r.Nb?ae:t.messageType,o.sessionId=n.sessionId,o.licenseRequestType===ae&&e.j.onEvent(new y.F(Q)),on(e.f.keySystem)&&Sn(e,o),Ut(e.K,o);var u=Date.now();return En(e,o,r.sessionContext).then((function(){return e.a.debug("Sending DRM license request to",i,o),e.j.pb.fetch(o).O})).then((function(t){if(e.ka)return Promise.reject();e.a.info("Received license response in ".concat(Date.now()-u,"ms"));var i=Ft(e.K,t);return n.update(t.data).then((function(){var t=wn(e),a=i?Date.now()+1e3*i.delay:Number.NaN;t=new y.F(y.Ic,{keySystem:e.keySystem(),expirationTime:t,expectedRenewalTime:a}),e.j.onEvent(t),r&&(r.eb&&r.eb.resolve(),r.Nb&&(en(r.Nb).catch((function(){e.a.warn("Unable to close expired session in time")})),(t=e.g.get(r.Nb))&&t.dc&&t.dc.stop(),e.g.delete(r.Nb),r.Nb=null),new y.rh((function(){e.ka||(r.loaded=!0,kn(e)&&(e.m||e.a.info("DRM licenses loaded!!!"),e.m=!0,e.B=!1,e.D.resolve()))})).$(5),null!==r.initData&&(0<r.sessionContext.ldlDelay||i&&jt(e.keySystem()))&&(t=new y.rh((function(){!e.ka&&e.K&&(e.a.info("Updating CSL Sessions"),on(e.keySystem())?bn(e,r.keyId,r.periodId,r.initDataType,r.initData,n):e.keySystem().startsWith(y.wc)&&n.update(y.kg("renew")))})),r.dc=t,t.$(i?i.delay:r.sessionContext.ldlDelay)))}))}),(function(t){return y.v((0,v.Z)().mark((function n(){var i;return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.ka||(i=t.data.headers,i=Object.assign({message:y.wa,url:t.data.url,status:t.data.status,response:t.data.response},i?{headers:i}:{},Xt(i)),i=new y.H(y.G,6,6007,i,t),e.U(i),r&&r.eb&&r.eb.reject(i));case 1:case"end":return n.stop()}}),n)})))})).catch((function(t){e.ka||(t=new y.H(y.G,6,6008,{browserError:t.message}),e.U(t),r&&r.eb&&r.eb.reject(t))}))},Sn=function(e,t){var n=y.ig(t.body,!0,!0);if(n.includes("PlayReadyKeyMessage")){e.a.debug("Unwrapping PlayReady request."),n=(e=(new DOMParser).parseFromString(n,"application/xml")).getElementsByTagName("HttpHeader");for(var r=0;r<n.length;++r)t.headers[n[r].querySelector("name").textContent]=n[r].querySelector(y.ve).textContent;t.body=y.ii(e.querySelector("Challenge").textContent).buffer}else e.a.debug("PlayReady request is already unwrapped."),t.headers[c]="text/xml; charset=utf-8"},En=function(e,t,n){return y.v((0,v.Z)().mark((function r(){var i,a,o,u,s;return(0,v.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=e.j.getConfiguration(),r.next=3,mn(e,i);case 3:a=e.keySystem(),o=e.h.Oa[a],u=(o=o&&o.modifiers)&&o.licenseRequest,s=o&&o.licenseResponse,u?t.requestModifiers.push((function(e){return u(i,e,n)})):a.startsWith(y.wc)&&t.requestModifiers.push((function(e){return y.Ni(e)})),s?t.responseModifiers.push((function(e){return s(i,e,n)})):a.startsWith(y.wc)&&t.responseModifiers.push((function(e){return y.Oi(e)}));case 8:case"end":return r.stop()}}),r)})))},y.ck=function(e,t){e&&t&&(Ia.set(e,t),Ca.info("Registered TextDisplayerFactory: '".concat(e,"'")))},y.dk=function(e,t){return t=t.find((function(t){return!!(t=Ia.get(t))&&t.Y(e)})),Ca.info("Chosen the text displayer: ".concat(t)),t?Ia.get(t):null},y.ek=function(e){return null!=e},y.fk=function(e,t){if(null==e.a)e.a={timestamp:Date.now()/1e3,state:t,duration:0};else{var n=Date.now()/1e3;e.a.duration=n-e.a.timestamp,e.a.state!=t&&(e.f.push(e.a),e.a={timestamp:n,state:t,duration:0})}},xn=function(e,t){var n=0;e.a&&e.a.state==t&&(n+=e.a.duration);var r,i=(0,g.Z)(e.f);try{for(i.s();!(r=i.n()).done;){var a=r.value;n+=a.state==t?a.duration:0}}catch(o){i.e(o)}finally{i.f()}return n},In=function(e){var t,n=function(e){return{timestamp:e.timestamp,state:e.state,duration:e.duration}},r=[],i=(0,g.Z)(e.f);try{for(i.s();!(t=i.n()).done;){var a=t.value;r.push(n(a))}}catch(o){i.e(o)}finally{i.f()}return e.a&&r.push(n(e.a)),r},Cn=function(e){return e.a.map((function(e){return y.bf(e)}))},y.jk=function(){return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,estimatedBandwidth:NaN,loadLatency:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,switchHistory:[],stateHistory:[]}},An=function(e,t,n,r){t===HTMLMediaElement.HAVE_NOTHING||e.readyState>=t?r():(t=Ma.value().get(t),n.one(e,t,r))},Pn=function(e){e.g.debug("Start watching for video events for "+e.l.namespace());var t=e.l,n=function(t){return Dn(e,t.type)};e.a.on(t,y.Nc,(function(){e.j=!1,Rn(e,y.rk)})),e.a.on(t,B,n),e.a.on(t,y.Kd,(function(){e.D=!0,e.j=!1,Dn(e,y.Kd)})),e.a.on(t,y.Dd,(function(){e.D=!1,e.j=!1,Dn(e,y.Dd)})),e.a.on(t,y.me,n),e.a.on(t,y.Pd,n),e.a.on(t,y.Wd,(function(t){e.m=!1,e.j=!1,Dn(e,t.type)})),e.a.on(t,y.Xd,(function(t){e.m=!0,Dn(e,t.type)})),e.a.on(t,he,n),e.a.on(t,y.He,(function(){e.j=!0,Dn(e,y.He)})),e.a.on(t,y.Oc,(function(t){return e.U(t)})),e.a.on(t,y.dd,n),e.a.on(t,V,(function(){e.C=!0,Dn(e,V)})),e.a.on(t,y.ue,(function(t){e.m=!0,Dn(e,t.type)})),e.a.on(t,y.te,(function(t){e.m=!1,e.j=!1,Dn(e,t.type)}))},Mn=function(e,t){return Object.keys(t)[e]},Nn=function(e,t){var n={type:y.be};return t===y.ac||t===y.$b?(n.reason=e.w,t===y.ac?n.timeSinceLastStateChangeMS=e.H:n.bufferedTimeMS=e.B):(e.f===y.uk&&(n.reason=e.w),e.A===y.uk&&(n.reason=e.w,n.bufferedTimeMS=e.B),n.currentState=e.f,n.previousState=e.A,n.timeSinceLastStateChangeMS=e.H),n},Rn=function(e,t){if(e.f===t)return!1;var n=Date.now(),r=e.f===y.uk;return e.A=e.f,e.f=t,e.A===y.rk&&(e.I=n,e.o=0),e.o||(e.o=e.I||n),e.H=n-e.o,e.o=n,t===y.uk?(e.K=e.o,e.w=e.m?1:2,e.g.info("Buffering started. Reason: "+Mn(e.w-1,y.wk)),t=Nn(e,y.ac),e.Ib(y.ac,t)):r&&(e.B=e.o-e.K,e.g.info("Buffering finished. Reason: "+Mn(e.w-1,y.wk)+". Buffering time: "+e.B+" ms"),t=Nn(e,y.$b),e.Ib(y.$b,t)),t=Mn(e.A,y.xk),n=Mn(e.f,y.xk),e.g.info("Player state change: ".concat(t," -> ").concat(n)),e.Ib(y.be,Nn(e,"")),!0},Dn=function(e,t){if(e.f===y.yk)e.g.warn("Player is in error state, aborting any further state checks");else{var n=e.l.isPaused(),r=e.l.getPosition(),i=e.l.getDuration();if(r=e.l.isEnded()||e.f===y.rk&&1>=Math.abs(r-i)||n&&r>=i)Rn(e,y.rk)&&e.g.debug("Player claims to be in ended state, not checking more");else if(t!==y.me){i=null!==(i=e.l.getPosition())&&void 0!==i&&0<=i?e.l.getBufferInfo().va(i,!0):-1,e.F=i,i=e.l.getSurface().getMedia(),e.h=i?i.readyState:null,e.J=e.l.getPlaybackRate()||1,i=typeof e.h===y.p&&2>e.h&&2===i.networkState;var a=typeof e.h===y.p&&0>=e.F&&e.f===y.zk,o=typeof e.h===y.p&&2>=e.h&&e.j;i=e.m||a||i||o,!e.L||e.l.isLive()||e.f!==y.uk||i||(a=t===y.Wd&&4===e.h,(o=e.A===y.Ak)&&!e.C?i=!0:o||e.C||a||(i=!0)),a=!1,i?a=Rn(e,y.uk):n?a=Rn(e,y.Bk):e.D&&(a=Rn(e,y.Ck)),a&&(e.C=!1),e.g.debug("Video state check for event "+t+":: seeking: "+e.m+", waiting: "+e.j+", playing: "+e.D+", paused: "+n+", readyState: "+e.h+", rate: "+e.J+", buffer: "+e.F+", ended: "+r+". Changed state: "+a+", Current state: "+Mn(e.f,y.xk))}}},_n=function(e){return(e=new y.dh(e).ma)?(e=e.toUpperCase(),y.og(e,".MPD")?y.Ib:y.og(e,".M3U8")?y.Pb:y.og(e,".MP4")?y.Be:y.og(e,"MANIFEST")||y.og(e,".ISM")?y.Ob:null):null},y.Fk=function(e){var t;t=y.Zh(e)?e.source:e,Array.isArray(t)||(t=[t]),t=t.filter((function(e){return typeof e===y.ee||"url"in e})),e=[];for(var n=0;n<t.length;n++){var r=Ln(t[n]);r&&e.push(r)}return e},Ln=function(e){var t=null;return y.ff(e)&&(e={url:e}),typeof e===y.rd&&!Array.isArray(e)&&"url"in e&&(t={url:e.url,type:e.type?e.type:null},y.y(e.drmProtected)||typeof e.drmProtected!==y.Zb||(t.drmProtected=e.drmProtected),y.y(e.isLive)||typeof e.isLive!==y.Zb||(t.isLive=e.isLive),y.y(e.name)||typeof e.name!==y.ee||(t.name=e.name),y.y(e.tb)||typeof e.tb!==y.ee||(t.tb=e.tb),y.y(e.audioMimeType)||typeof e.audioMimeType!==y.ee||(t.audioMimeType=e.audioMimeType)),t&&!t.type&&(t.type=_n(e.url),t.type?Ra.debug("Detect media type "+t.type+" for "+e.url):Ra.warn("Unable to detect media type for "+e.url)),t},On=function(e){return e.w?Zn():new Promise((function(t){if(e.a){var n=e.a;e.g.off(n,y.Oc),e.g.off(n,y.Ud),e.a=null}t()}))},Zn=function(){return Promise.reject(new y.H(y.G,7,7e3))},jn=function(e,t){return e.w?Zn():new Promise((function(n){e.a||(e.g.on(t,y.Oc,(function(){var t=Hn(e);t&&e.onError(t)})),e.g.on(t,y.Ud,(function(){e.trigger(new y.F(y.Yb,{detail:{width:t.videoWidth,height:t.videoHeight}}))})),e.a=t),n()}))},Un=function(e){return y.v((0,v.Z)().mark((function t(){var n,r;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.w){t.next=2;break}return t.abrupt("return",Zn());case 2:if(n=e.o[e.getSourceIndex()],e.configuration.drm&&!1!==n.drmProtected){t.next=5;break}return t.abrupt("return",(e.log.debug("No DRM configuration present.","Skipping DRM engine initialization"),Promise.resolve()));case 5:return n=y.ti(e.configuration.drm),e.log.debug("Drm configuration: ",n),r=e.getNetworkEngine(),e.m=new y.Lk({pb:r,onError:function(t){return e.onError(t)},Cd:function(){},onExpirationUpdated:function(t,n){e.trigger(new y.F(y.Fc,{expirationTime:n}))},onEvent:function(t){return e.trigger(t)},getConfiguration:function(){return e.getConfiguration()},jc:function(){return e.jc()}}),e.m.h=n,t.next=12,y.Gj(e.m,[{id:0,language:y.pe,primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return null},getSegmentReference:function(){return null},adjustSegmentDurations:function(){},getDuration:e.getDuration.bind(e),initSegmentReference:null,qb:0,mimeType:y.Be,codecs:"",encrypted:!0,keyId:null,language:y.pe,label:null,type:y.u,primary:!1,frameRate:void 0,Zf:void 0,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,Nf:null,closedCaptions:null},bandwidth:100,drmInfos:[],allowedByApplication:!0,allowedByKeySystem:!0}],[]);case 12:return t.next=14,y.Vj(e.m,e.a);case 14:return t.abrupt("return",Promise.resolve());case 15:case"end":return t.stop()}}),t)})))},Fn=function(e,t){An(e.a,HTMLMediaElement.HAVE_CURRENT_DATA,e.g,(function(){e.getState()!==y.yk&&e.seek(t).catch((function(t){e.log.warn("Error while seeking to start position.",t)}))}))},Hn=function(e){if(null===e.o||!e.a.error)return null;var t=e.a.error.code;if(1===t)return null;var n=e.a.error.msExtendedCode;return n&&(0>n&&(n+=Math.pow(2,32)),n=n.toString(16)),new y.H(y.G,3,3016,{code:t,Uf:n,message:e.a.error.message})},zn=function(e){if(e.w)return new y.Ok(Zn(),(function(){}));var t=e.o[e.getSourceIndex()],n=e.configuration.startTime||null,r=e.a,i=e.H;n&&Fn(e,n),r.preload!==y.qd&&e.g.one(r,y.dd,(function(){var t=Date.now()/1e3-i;e.f.o=t,e.log.debug("Time to load: ",t)})),r.src=t.url,(y.vh()||y.yh())&&r.load();var a=new y.Hj;return e.g.one(r,he,(function(){var n=e.getConfiguration().manifest.attemptParameters.timeout||30;e.C||(e.C=new y.rh((function(){a.reject(new y.H(y.G,3,3100,{message:"Unable to load media source successfully from ".concat(t.url),uri:t.url},r.error))})).$(n))})),An(r,e.configuration.forceWaitForTracks?HTMLMediaElement.HAVE_CURRENT_DATA:HTMLMediaElement.HAVE_METADATA,e.g,(function(){return a.resolve()})),r.error?a.reject(Hn(e)):r.preload===y.qd&&(e.log.warn('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way. Please do not use preload="none" with PRESTOplay for Web Apps.'),a.resolve()),e.g.one(r,y.Oc,(function(){a.reject(Hn(e))})),new y.Ok(a,(function(){var e=new y.H(y.G,7,7001);return a.reject(e),Promise.resolve()}))},y.Sk=function(e){e&&(0<=La.indexOf(e)?_a.warn("Factory '".concat(e.name(),"' is already registered")):(La.push(e),_a.info("Factory ".concat(e.name(),"' has been registered."))))},Gn=function(e,t){var n=La.find((function(n){return n.Y(e,t)}));return n||(n=new Ja),_a.info("Chosen ads: ".concat(n.name())),n},y.Vk=function(e,t){for(var n in e=document.createElement(e),t){var r=t[n];null===r||void 0===r?e.setAttribute(n,""):e.setAttribute(n,r)}return e},y.Wk=function(e,t){e.classList.add(t)},y.Xk=function(e,t){if(e&&typeof t===y.rd)for(var n in t)e.style[n]=t[n]},y.Yk=function(e){return document.createElement(e)},Bn=function(e,t){if(e.h.debug("Initializing Player Surface on ",e.g),e.g instanceof Element&&(e.g instanceof HTMLMediaElement?(e.a=e.g,(y.yh()&&53===Mt().major||y.yh()&&68===Mt().major||y.Ah())&&!e.a.hasAttribute(J)&&(e.a.style.opacity="0",e.a.setAttribute(J,""),e.m.one(e.a,te,(function(){e.a.removeAttribute(J),e.a.style.opacity="1",e.f&&(e.f.style.opacity="1")})))):"cast-media-player"===e.g.tagName.toLowerCase()&&(e.j=e.g)),t.containerEl?(e.f=t.containerEl,y.Wk(e.f,K)):t.disableContainer||e.j||(e.f=Vn(),e.g.parentNode?e.g.parentNode.replaceChild(e.f,e.g):e.g.parentNode||e.h.warn("Player Surface Element has no parent. Can not inject container. You have to manually add playerSurface.getContainer() to the DOM!"),e.a&&e.f.appendChild(e.a)),e.a){if(!e.a.hasAttribute("crossorigin")){var n=t.crossorigin;e.h.info("Setting media elements crossorigin to "+n),e.a.setAttribute("crossorigin",n)}e.f&&(t.containerEl||Wn(e),y.Wk(e.a,y.nc))}},Vn=function(){var e=document.createElement(y.Ec);return y.Wk(e,K),e},Wn=function(e){if(e.a&&e.f){for(var t=e.a,n=[],r=0;r<t.classList.length;r++)n.push(t.classList[r]);t=n;var i,a=(0,g.Z)(t);try{for(a.s();!(i=a.n()).done;){var o=i.value;e.a.classList.remove(o),y.Wk(e.f,o)}}catch(c){a.e(c)}finally{a.f()}e.f.style.cssText=e.a.style.cssText,e.a.removeAttribute(y.ge);for(var u=0,s=[y.Oe,y.Rc];u<s.length;u++){var l=s[u];o=e.a.getAttribute(l),o=parseInt(o,10),isNaN(o)||(e.f.style[l]="".concat(o,"px")),y.vh()||e.a.removeAttribute(l)}}},Kn=function(t){t.a.on(e,"offline",(function(){Jn(t,!1)})),t.a.on(e,"online",(function(){t.f||$n(t)})),t.a.on(t.l,he,(function(){return Yn(t)})),t.a.on(t.l,"suspend",(function(){return Yn(t)})),t.a.on(t.l,y.He,(function(){return Yn(t)})),t.a.on(t.l,y.Kd,(function(){t.f||$n(t)})),t.a.on(t.l,y.Nd,(function(){t.f||$n(t)})),t.a.on(t.l,y.be,(function(){t.l.getState(),y.uk,Yn(t)}))},qn=function(e){e.g&&(e.g.stop(),e.g=null)},Yn=function(e){e.f&&$n(e)},Xn=function(e){return y.v((0,v.Z)().mark((function t(){var n;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.l.getConfiguration().connectivityCheck,t.t0=n&&e.l,!t.t0){t.next=7;break}return t.next=5,Ct(e.h,n.url,n.attemptParameters,n.method);case 5:n=t.sent,Jn(e,n);case 7:case"end":return t.stop()}}),t)})))},$n=function(e){e.l.getConfiguration().connectivityCheck&&(qn(e),e.g=new y.rh((function(){return Xn(e)})).$(5))},Jn=function(e,t){qn(e),e.f!==t&&(e.f=t,e.l&&e.l.getConfiguration().connectivityCheck&&e.l.trigger(new y.F(le,{online:e.f})))},Qn=function(){for(var e=0;e<Ua.length;++e)Ua[e].cc()},y.kl=function(e,t){e={priority:t=t||0,cc:e};for(var n=0;n<Ua.length;n++)if(Ua[n].priority<t)return void Ua.splice(n,0,e);Ua.push(e)},er=function(e,t){e.onError(t),e.release().then((function(){return e.destroy()}))},tr=function(e){if(!e.a){var t=e.license.split(".");if(3!==t.length)throw Error("Expected to find 3 data sections in JWT raw data");t=new Fa(t[0],t[1],t[2]),e.a=t}return e.a},nr=function(e){switch((e.Jc()[0]||{src:"",type:""}).type){case y.Ib:e="dash";break;case y.Ob:e="ss";break;case y.Pb:e="hls";break;case y.Be:e=y.md;break;default:e=""}return e},rr=function(e){return e.viewerId?e.viewerId:(e=e.drm||null)&&e.customData&&e.customData.userId?"".concat(e.customData.userId):""},ir=function(e){return(e=e.drm||null)&&e.customData&&e.customData.assetId?"".concat(e.customData.assetId):""},ar=function(e){return(e=e.drm||null)&&e.customData&&e.customData.sessionId?"".concat(e.customData.sessionId):""},or=function(e){return e=e.getDrmInfo(),new y.dh(e&&e.licenseServerUri||"").Da},ur=function(e){var t=e.getConfiguration(),n="no";return t.drm&&(n="custom",t.drm.env&&t.drm.env.toLowerCase().startsWith(ee)||or(e).endsWith("drmtoday.com"))&&(n=ee),n},sr=function(e){var t="";if(e=e.getDrmInfo())switch(e.keySystem){case y.yc:t="wv";break;case y.xc:t="pr";break;case y.wc:t="fps"}return t},lr=function(e){var t=!1;return(e=e.getDrmInfo())&&(t=e.persistentStateRequired),t.toString()},cr=function(e){var t="";if(e=e.getDrmInfo())switch(e.videoRobustness){case E:case"HW_SECURE_ALL":t="L1";break;case S:t="L2";break;case y.Ya:case y.Xa:t="L3"}return t},fr=function(t,n){if(!e.location.protocol.startsWith("http"))return t.f.debug("Registration protocol check",location.protocol,location.protocol.startsWith("http")),Promise.resolve();var r="ie"===y.Th().browser,i=n.getConfiguration(),a=[].concat((0,p.Z)(Array.from(y.$h.keys())),(0,p.Z)(n.ef()));return n={"CL-KEY":t.license,"CL-LOCATION":e.location.href,"CL-SDK-VERSION":y.da,"CL-USER-ID":rr(i),"CL-ASSET-ID":ir(i),"CL-SESSION-ID":ar(i),"CL-PLAYBACK-TYPE":n.isLive()?Va:Ba,"CL-CONTENT-TYPE":nr(n),"CL-PLUGINS":a.join(" "),"CL-DRM":ur(n),"CL-DRM-CDM":sr(n),"CL-DRM-SEC-LEVEL":cr(n),"CL-DRM-OFFLINE":lr(n),"CL-DRM-IP":or(n)},r&&(i=e.localStorage.getItem("cl_et"))&&(n["CL-ETAG"]=i),(i=y.wg(["https://downloads.castlabs.com/r/register/"])).method="GET",i.headers=n,(new y.zl).fetch(i).O.then((function(t){return 200===t.status&&r&&e.localStorage.setItem("cl_et",t.headers.etag),Promise.resolve()})).catch((function(e){e:{var n=tr(t),r=(e=e.data).status;if(n.a&&n.a.ilv)n=Promise.resolve();else{switch(r){case 403:case 404:n=7101;var i="castLabs Player license is invalid";if(403===r){r=i,i="";try{i=JSON.parse(decodeURIComponent(e.responseText)).message}catch(a){}e=r+": "+(e=i)}else e=i+"!";i=e;break;case 412:n=7103,i="userID is required for playback!";break;default:n=Promise.resolve();break e}t.f.error(A+i),n=Promise.reject(new y.H(y.G,7,n,i))}}return n}))},y.Cl=function(e){e&&(0<=Ka.indexOf(e)||Ka.push(e))},dr=function(e){if(!e.L){e.L=!0,e.h.getMedia()||e.h.getCastElement(),e.w||(e.w=new Ga(e.f.license));var t=Object.keys(e.K);fr(e.w,{getConfiguration:e.getConfiguration.bind(e),Jc:e.Jc.bind(e),getDrmInfo:e.getDrmInfo.bind(e),ef:function(){return t},isLive:e.isLive.bind(e)}).then((function(){e.g.debug("License verified remotely")})).catch((function(t){setTimeout(er,1e3,{release:e.release.bind(e),destroy:e.destroy.bind(e),onError:e.onError.bind(e)},t)}))}},hr=function(e,t){e.w=new Ga(t),e.w.verify().catch((function(t){setTimeout((function(){e.g.error(A+t),e.trigger(new y.F(y.Oc,{detail:new y.H(y.G,7,7101)})),e.destroy()}),1e3)}))},pr=function(e,t){e.J=t;var n,r=(0,g.Z)(e.J);try{for(r.s();!(n=r.n()).done;){var i=n.value;(t=i.id())&&(e.K[t]=i)}}catch(a){r.e(a)}finally{r.f()}y.Gl(e,"onPlayerCreated")},y.Il=function(e,t){t!==e.a&&(e.a&&(e.a.removeDelegate(e),e.a.destroy()),e.a=t,e.a&&(e.a.init(e.h,e.f),e.a.setNetworkEngine(e.getNetworkEngine()),e.a.addDelegate(e)))},y.Gl=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=e.J.map((function(n){var i;return(i=n[t]).call.apply(i,[n,e].concat(r))})).filter((function(e){return e instanceof Promise}));return Promise.all(a)},vr=function(e){return y.v((0,v.Z)().mark((function t(){var n,r;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.H){t.next=2;break}return t.abrupt("return",(e.g.debug("The player is already released. No-op"),new Promise((function(e){return e()}))));case 2:if(e.off(y.be,e.B),e.A.off(e,y.be,e.B),e.A.off(document,me),e.trigger(new y.F(y.Rd)),e.L=!1,e.h&&e.h.release(),t.t0=e.j,!t.t0){t.next=13;break}return t.next=12,e.j.dispose();case 12:e.j=null;case 13:if(Zt((function(e){e.release()})),!e.a){t.next=18;break}return n=null,r=e.a.on(y.be,(function(e){n=e})),t.abrupt("return",y.Gl(e,y.wd).then((function(){return e.a.removeDelegate(e),Promise.all([e.a.release(),e.F.release()])})).then((function(){e.g.debug("Releasing player completed"),n&&(e.g.debug("Re-post state change event after release"),e.trigger(n))})).finally((function(){e.a.off(y.be,r),e.trigger(new y.F(fe))})));case 18:return e.trigger(new y.F(fe)),t.abrupt("return",new Promise((function(e){return e()})));case 20:case"end":return t.stop()}}),t)})))},gr=function(e,t,n){return new Promise((function(r,i){var a;if(t){for(var o=a=null,u=0;u<t.length;u++);u=Object.values(y.zf);for(var s=0;s<t.length;s++)for(var l=0;l<u.length;l++){var c={yb:u[l],confidence:u[l].canPlay(t[s],n)};(null===a||a.confidence<c.confidence)&&(a=c,o=s)}a&&typeof o===y.p&&0<a.confidence?(y.Af.debug("Player Factory '"+a.yb.a()+"' can play",t[o]),a=new li(a.yb,o)):(y.Af.error("No compatible Player Factory found for sources:",t),a=null)}else a=null;a?(i=a.yb.create(),r(new ci(i,a.a))):(r=new y.F(y.Oc,{detail:new y.H(y.G,7,7003)}),e.trigger(r),i(r))}))},y.Pl=function(e,t){return y.v((0,v.Z)().mark((function n(){var r,i;return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.D){n.next=2;break}throw Error("Player is already destroyed.");case 2:if(e.h){n.next=4;break}throw Error("No surface associated with this player!");case 4:return n.next=6,e.release();case 6:if(e.o=y.Fk(t),e.f=y.Yh(e.N,y.Zh(t)?t:{},{source:e.o}),0!==e.o.length){n.next=10;break}throw Error("Invalid request to load: could not find source to load");case 10:if(e.H=!1,i=0,!e.I&&2===e.canPlay(e.o[0],e.f)){n.next=19;break}return n.next=15,gr(e,e.o,e.f);case 15:i=n.sent,r=i.a,i=i.f,e.I=!1;case 19:return r?y.Il(e,r):e.a.addDelegate(e),mr(e),e.a&&e.a.setCdnErrorCallback(e.C),yr(e,e.f),e.setSourceIndex(i),e.f.pauseWhenInBackground&&e.A.on(document,me,(function(){document.hidden?(e.g.debug("Player is hidden: pausing..."),e.pause()):(e.g.debug("Player is visible: resuming..."),e.play())})),Zt((function(e){e.g()})),n.next=28,y.Gl(e,"onContentWillLoad",e.f.source[i]);case 28:case"end":return n.stop()}}),n)})))},y.Ql=function(e){return y.v((0,v.Z)().mark((function t(){return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.h.getMedia()||e.h.getCastElement(),e.A.on(e,y.be,e.B),e.trigger(new y.F(ue)),t.next=5,Promise.all([e.a.load(e.f),e.j.load()]);case 5:case"end":return t.stop()}}),t)})))},y.Sl=function(e){return y.v((0,v.Z)().mark((function t(){var n,r,i,a;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=[],e.f.remoteTextTracks){r=(0,g.Z)(e.f.remoteTextTracks);try{for(r.s();!(i=r.n()).done;)a=i.value,n.push(e.getTrackManager().addTextTrack(a))}catch(o){r.e(o)}finally{r.f()}}return t.next=4,Promise.all(n);case 4:return br(e),Zt((function(){})),t.next=8,y.Gl(e,y.td);case 8:if(t.t0=e.f.autoplay,!t.t0){t.next=12;break}return t.next=12,e.play();case 12:case"end":return t.stop()}}),t)})))},mr=function(e){e.a&&e.a.setDrmCustomDataModifier((function(t){return y.v((0,v.Z)().mark((function n(){return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=e.fc&&e.$c,!n.t0){n.next=5;break}return e.$c=!1,n.next=5,e.fc(t);case 5:case"end":return n.stop()}}),n)})))}))},yr=function(e,t){e.j=Gn(e,t).create(e)},br=function(e){var t=y.Jg(e.f.preferredTextLanguage).filter((function(e){return e})),n=e.getTrackManager().ea();t.some((function(t){var r=y.Gg(t);return!!(t=n.find((function(e){return e=y.Gg(e.language||""),y.Hg(e,r)})))&&(e.getTrackManager().ta(t),!0)}))},wr=function(e,t){return e.f=t,y.Df(e.a),t?(e.a.on(t,ne,(function(e){y.D("AppleEmeManager.cancelNativeMediaEncryptedEvent_",e),e instanceof MediaEncryptedEvent&&(y.tf("Cancel native MediaEncryptedEvent when using Apple-prefixed EME"),e.stopImmediatePropagation())})),e.a.on(t,Te,(function(t){if(y.D("AppleEmeManager.onWebkitNeedKey_",t),t=y.L(t.initData),y.dg(t).getUint32(0,!0)+4!==t.byteLength)throw new RangeError("Malformed FairPlay init data");t=y.ig(t.subarray(4),!0),t=y.kg(t);var n=new Event(ne);n.initDataType="skd",n.initData=Je(t),e.f.dispatchEvent(n)})),An(t,HTMLMediaElement.HAVE_METADATA,e.a,(function(){return t.webkitSetMediaKeys(e.g)})),Promise.resolve()):Promise.resolve()},kr=function(e,t){var n=e.keyStatuses;n.size=void 0===t?0:1,n.a=t,t=new y.F(ie),e.dispatchEvent(t)},Tr=function(e,t){e.a=t,y.Df(e.f),t&&(e.f.on(t,e.g+"needkey",(function(t){var n=new Event(ne);n.initDataType=y.jc,n.initData=Je(t.initData),e.a.dispatchEvent(n)})),e.f.on(t,e.g+"keymessage",(function(t){var n=Sr(e,t.sessionId);if(n){t=new y.F(se,{messageType:void 0===n.keyStatuses.a?oe:ae,message:t.message});var r=n;y.D("WebkitEmeManager.MediaKeySession.generated"),r.f&&(r.f.resolve(),r.f=null),n.dispatchEvent(t)}else y.uf("Session not found",t.sessionId)})),e.f.on(t,e.g+"keyadded",(function(t){(t=Sr(e,t.sessionId))&&(y.D("WebkitEmeManager.MediaKeySession.ready"),Er(t,"usable"),t.a&&t.a.resolve(),t.a=null)})),e.f.on(t,e.g+"keyerror",(function(t){var n=Sr(e,t.sessionId);if(n){var r=Error("EME v0.1b key error"),i=t.errorCode;i.systemCode=t.systemCode,r.errorCode=i,!t.sessionId&&n.f?(45===t.systemCode&&(r.message="Unsupported session type."),n.f.reject(r),n.f=null):t.sessionId&&n.a?(n.a.reject(r),n.a=null):(r=t.systemCode,t.errorCode.code===MediaKeyError.MEDIA_KEYERR_OUTPUT?Er(n,y.Cd):Er(n,1===r?"expired":y.Uc))}})))},Sr=function(e,t){var n=e.j.get(t);return n||((n=e.h.shift())?(n.sessionId=t,e.j.set(t,n),n):null)},Er=function(e,t){var n=e.keyStatuses;n.size=void 0===t?0:1,n.a=t,t=new y.F(ie),e.dispatchEvent(t)},xr=function(e,t){return e.o?e.o+t.charAt(0).toUpperCase()+t.slice(1):t},Ir=function(e,t,n){if(e.m)return Promise.reject(Error("The session is already initialized."));var r;e.m=!0;try{if(e.j===y.Hd)if(n)r=y.L(y.kg("LOAD_SESSION|"+n));else{var i=y.kg("PERSISTENT|"),a=new Uint8Array(i.byteLength+t.byteLength);a.set(i,0),a.set(y.L(t),i.byteLength),r=a}else r=y.L(t)}catch(u){return Promise.reject(u)}e.f=new y.Hj;var o=xr(e,"generateKeyRequest");try{e.h[o](e.g,r)}catch(u){if(u.name!==C)return e.f=null,Promise.reject(u);new y.rh((function(){try{e.h[o](e.g,r)}catch(m){e.f.reject(m),e.f=null}})).$(.01)}return e.f},Cr=function(e,t,n){if(e.a)e.a.then((function(){return Cr(e,t,n)})).catch((function(){return Cr(e,t,n)}));else{if(e.a=t,e.g===ye){var r=y.gg(n),i=JSON.parse(r);"oct"!==i.keys[0].kty&&(e.a.reject(Error("Response is not a valid JSON Web Key Set.")),e.a=null),r=y.ii(i.keys[0].k),i=y.ii(i.keys[0].kid)}else r=y.L(n),i=null;var a=xr(e,"addKey");try{e.h[a](e.g,r,i,e.sessionId)}catch(m){e.a.reject(m),e.a=null}}},Ar=function(e){var t,n=e.type.replace(/^(webkit|moz|MS)/,"").toLowerCase();typeof Event===y.Qc?t=new Event(n,e):(t=document.createEvent("Event")).initEvent(n,e.bubbles,e.cancelable),e.target.dispatchEvent(t)},Pr=function(e){if((e=e.target).webkitPresentationMode===ce){document.pictureInPictureElement=e;var t=new Event("enterpictureinpicture");e.dispatchEvent(t)}else document.pictureInPictureElement===e&&(document.pictureInPictureElement=null),t=new Event("leavepictureinpicture"),e.dispatchEvent(t)},Mr=function(){return this.webkitSupportsPresentationMode(ce)?(this.webkitSetPresentationMode(ce),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))},Nr=function(){var e=document.pictureInPictureElement;return e?(e.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))},Rr=function(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}},Dr=function(t,n,r){return new e.TextTrackCue(t,n,r)},_r=function(t,n,r){return new e.TextTrackCue(t+"-"+n+"-"+r,t,n,r)},Lr=function(e,t,n){if("input"===e&&"range"===this.type)e=W;po.call(this,e,t,n)},Or=function(){return e.performance&&e.performance.now?e.performance.now():Date.now()},Zr=function(e){return Or()-e.a},jr=function(e){var t=new mo;return t.a=e.a,t},y.nm=function(e,t){return t.lastIndex=e.a,t=null==(t=t.exec(e.f))?null:{position:t.index,length:t[0].length,results:t},e.a==e.f.length||null==t||t.position!=e.a?null:(e.a+=t.length,t.results)},y.om=function(e){var t,n=[],r=(0,g.Z)(e);try{for(r.s();!(t=r.n()).done;){var i,a=t.value,o=(0,g.Z)(a.variants);try{for(o.s();!(i=o.n()).done;){var u=i.value;n.push(u)}}catch(s){o.e(s)}finally{o.f()}}}catch(s){r.e(s)}finally{r.f()}return n},y.qm=function(e,t,n,r){return y.v((0,v.Z)().mark((function i(){return(0,v.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Ur(e,t,n,r);case 3:return i.t0=i.sent,i.abrupt("return",new i.t0);case 7:throw i.prev=7,i.t1=i.catch(0),i.t1.a(y.G),i.t1;case 10:case"end":return i.stop()}}),i,null,[[0,7]])})))},Ur=function(e,t,n,r){return y.v((0,v.Z)().mark((function i(){var a,o;return(0,v.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!r){i.next=5;break}if(!(a=y.rm[r.toLowerCase()])){i.next=4;break}return i.abrupt("return",a);case 4:y.z("Could not determine manifest type using MIME type ",r);case 5:if(!(a=y.sm(e))){i.next=12;break}if(!(o=y.tm[a])){i.next=9;break}return i.abrupt("return",o);case 9:y.z("Could not determine manifest type for extension ",a),i.next=13;break;case 12:y.z("Could not find extension for ",e);case 13:if(i.t0=!r,!i.t0){i.next=18;break}return i.next=17,Fr(e,t,n);case 17:i.t0=r=i.sent;case 18:if(!i.t0){i.next=22;break}if(!(a=y.rm[r])){i.next=21;break}return i.abrupt("return",a);case 21:y.z("Could not determine manifest type using MIME type",r);case 22:throw new y.H(y.G,4,4e3,{url:e});case 23:case"end":return i.stop()}}),i)})))},y.sm=function(e){return 1==(e=new y.dh(e).ma.split("/").pop().split(".")).length?"":e.pop().toLowerCase()},Fr=function(e,t,n){return y.v((0,v.Z)().mark((function r(){var i;return(0,v.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=y.wg(e),et(i,n),i.type=1,i.method="HEAD",r.next=6,t.fetch(i).O;case 6:if(!(i=r.sent.headers["content-type"])){r.next=10;break}r.t0=i.toLowerCase(),r.next=11;break;case 10:r.t0="";case 11:return r.abrupt("return",r.t0);case 12:case"end":return r.stop()}}),r)})))},Hr=function(e,t){var n=e.f+t.byteLength;if(e.a.byteLength<n){for(var r=e.a.byteLength;r<n;)r*=2;(n=new Uint8Array(r)).set(e.a),e.a=n}e.a.set(t,e.f),e.f+=t.byteLength},zr=function(e,t,n){return t.read().then((function(r){var i=r.done,a=r.value;return null!=a&&(Hr(e,a),nt(n,a.byteLength,Zr(e.g)),e.g.a=Or()),i?(i=e.a.buffer,e.a.byteLength!==e.f&&(i=i.slice(0,e.f)),Promise.resolve(i)):Promise.resolve().then((function(){return zr(e,t,n)}))}))},Gr=function(e){var t=e.uris[e.uriIndex],n=new ko,r=new mo,i=jr(r),a=0,o=new y.Hj;n.open(e.method,t,!0),n.responseType="arraybuffer",n.timeout=e.timeout,n.withCredentials=e.allowCrossSiteCredentials;var u=!1,s=!1;for(var c in n.onreadystatechange=function(t){(t=t.target).readyState>=XMLHttpRequest.HEADERS_RECEIVED&&!u&&(t=t.getResponseHeader(l),tt(e,t),u=!0)},n.onload=function(n){var r,a=((n=n.target).getAllResponseHeaders()||"").trim().split("\r\n"),u={},l=(0,g.Z)(a);try{for(l.s();!(r=l.n()).done;){u[(a=r.value.split(": "))[0].toLowerCase()]=a.slice(1).join(": ")}}catch(d){l.e(d)}finally{l.f()}try{var c=Zr(i);s||nt(e,n.response?n.response.length:0,c);var f=y.xg(u,n.response,n.status,t,n.responseURL,e,c);e.rateLimitBps?rt(e.rateLimitBps,Zr(i),e.bytesLoaded).then((function(){o.resolve(f)})):o.resolve(f)}catch(c){o.reject(c)}},n.onerror=function(n){if(0>=(n=n.target).status)o.reject(new y.H(1,1,1002,{url:t,request:e,status:n.status}));else{var r=n.getAllResponseHeaders(),a={};if(r){r=r.trim().split("\r\n");var u,s=(0,g.Z)(r);try{for(s.s();!(u=s.n()).done;){var l=u.value;a[(r=l.split(": "))[0].toLowerCase()]=r.slice(1).join(": ")}}catch(c){s.e(c)}finally{s.f()}}l=y.xg(a,n.response,n.status,t,n.responseURL,e,Zr(i)),o.resolve(l)}},n.ontimeout=function(){o.reject(new y.H(1,1,1003,{url:t,request:e}))},n.onprogress=function(t){var n=Zr(r);r.a=Or(),(100<n||t.lengthComputable&&t.loaded===t.total)&&(nt(e,t.loaded-a,n),a=t.loaded,s=!0)},e.headers)n.setRequestHeader(c.toLowerCase(),e.headers[c]);return n.send(e.body),{O:o,request:e,abort:function(){return n.abort(),o.reject(new y.H(1,1,7001,{url:t,request:e})),Promise.resolve()}}},Br=function(e){var t=null;return e.g!==e.f&&(t={start:e.g,end:e.f,length:e.f-e.g,data:new DataView(e.h.a.buffer,e.g,e.f-e.g),count:-1}),t},Vr=function(e,t){var n=e.h,r=n.f+t.byteLength;if(r>n.a.byteLength){var i=n.a;n.a=new Uint8Array(Math.max(Math.ceil(n.a.buffer.byteLength*n.g),r)),n.a.set(i)}n.a.set(t,n.f),n.f+=t.byteLength,e.a=e.g,e.f=e.h.f,e.j=new DataView(e.h.a.buffer,0,e.h.f)},Wr=function(e){if(0<=e.m&&e.f<e.m)return null;for(var t=qr(e);null!==t;){if(t.name===y.fd){var n={start:e.g,end:t.end,length:t.end-e.g,data:new DataView(e.h.a.buffer,e.g,t.end-e.g),count:1};return e.g=t.end,n}t=qr(e)}return null},Kr=function(e,t,n,r){return t.read().then((function(i){var a=i,o=a.done,u=a.value;if(r&&u&&(r(u.byteLength,Zr(e.o)),e.o.a=Or()),o)return i=Br(e),(i=n(!0,i))?i.then((function(){return e.h.a.buffer})):Promise.resolve(e.h.a.buffer);var s=Promise.resolve();if(null!=u){Vr(e,u);var l=Wr(e);for(i=[];l;)i.push(l),l=Wr(e);if(e.w){if(0<i.length){if(l=i[0],1<i.length){l=i[0];var c=i[i.length-1],f=c.end-l.start;l={start:l.start,end:c.end,length:f,data:new DataView(e.h.a.buffer,l.start,f),count:i.length}}(i=n(!1,l))&&(s=i)}}else i.forEach((function(e){s=s.then((function(){return n(!1,e)}))}))}return s.then((function(){return Kr(e,t,n,r)}))}))},qr=function(e){var t=e.a;if(e.a+4>=e.f)return e.a=e.f,null;var n=Yr(e);if(e.a+4>=e.f)return e.a=e.f,null;var r=Yr(e);switch(r=String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,255&r),n){case 0:n=e.f-t;break;case 1:if(e.a+8>=e.f)return e.a=e.f,null;var i,a;try{a=e.j.getUint32(e.a,!1),i=e.j.getUint32(e.a+4,!1)}catch(m){throw new y.H(y.G,3,3e3)}if(2097151<a)throw new y.H(y.G,3,3e3);e.a+=8,n=a*Math.pow(2,32)+i}return n=t+n,e.m=n,e.f>=n?(e.a=n,{name:r,start:t,end:n}):null},Yr=function(e){var t=e.j.getUint32(e.a,!1);return e.a+=4,t},Xr=function(e){e.g=e.A.then((function(t){if(e.h=t.request,t.request.uriIndex=t.request.currentAttempt%t.request.uris.length,0<t.request.currentAttempt){-1===e.f&&(e.f=Jr(t.request.baseDelay,1e3));var n=e.f*(1+(2*Math.random()-1)*Jr(t.request.fuzzFactor,.5));if(e.f*=Jr(t.request.backoffFactor,2),0<n)return new Promise((function(r,i){e.j=i,$r(e,(function(){r(t.plugin(t.request))}),n)})).catch((function(t){if(!e.a)throw t}))}if(e.a)throw new y.H(1,1,7001,{url:t.request.uris[t.request.uriIndex],request:t.request});return t.plugin(t.request)}));var t=0,n=0,r=0;return e.g.then((function(e){var i=e.request;return i.currentAttempt+=1,t=i.currentAttempt,n=i.maxAttempts,r=i.uris.length,e.O})).then((function(t){e.o.resolve(t)})).catch((function(i){if(i instanceof y.H){if((1===i.severity||t<r)&&7001!==i.code&&t<n)return Xr(e);7001!==i.code&&i.a(y.G),e.o.reject(i)}else e.o.reject(i)}))},$r=function(e,t,n){e.m=setTimeout(t,n)},Jr=function(e,t){return null===e||void 0===e?t:e},Qr=function(t){var n=new Io;for(var r in t.headers)n.append(r.toLowerCase(),t.headers[r]);var i=new xo,a={pc:!1,Be:!1};if(n={O:ei(t.uris[t.uriIndex],t,{body:t.body||void 0,headers:n,method:t.method,signal:i.signal,credentials:t.allowCrossSiteCredentials?"include":void 0},a),request:t,abort:function(){return a.pc||(a.pc=!0,i.abort()),Promise.resolve()}},t=t.timeout){var o=e.setTimeout((function(){a.Be=!0,i.abort()}),t);n.O=n.O.finally((function(){e.clearTimeout(o)}))}return n},ei=function(e,t,n,r){return y.v((0,v.Z)().mark((function i(){var a,o,u,s,c,f,d,h,p;return(0,v.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return u=new mo,s=jr(u),i.prev=1,i.next=4,Eo(e,n);case 4:if(a=i.sent,c=a.headers.get(l),tt(t,c),f=c?parseInt(c,10):0,!t.onFragment||t.disableFragmentSupport||2!==t.type){i.next=15;break}return d=a.body.getReader(),i.next=12,Kr(new To(f,!t.disableMergedFragments),d,(function(e,n){return r.pc?null:(n&&n.data&&(nt(t,n.data.byteLength,Zr(u)),u.a=Or()),t.onFragment&&n?t.rateLimitBps?rt(t.rateLimitBps,Zr(s),t.bytesLoaded).then((function(){return t.onFragment(n)})):t.onFragment(n):null)}),t.onProgress);case 12:o=i.sent,i.next=23;break;case 15:return h=a.body.getReader(),i.next=18,zr(new wo(f),h,t);case 18:if(o=i.sent,i.t0=t.rateLimitBps,!i.t0){i.next=23;break}return i.next=23,rt(t.rateLimitBps,Zr(s),o.byteLength);case 23:i.next=33;break;case 25:if(i.prev=25,i.t1=i.catch(1),!r.pc){i.next=29;break}throw new y.H(1,1,7001,{url:e,request:t});case 29:if(!r.Be){i.next=31;break}throw new y.H(1,1,1003,{url:e,request:t});case 31:throw y.uf("Error while fetching data:",i.t1),new y.H(1,1,1002,{url:e,error:i.t1,request:t,status:-1},i.t1);case 33:if(p={},a.headers.forEach((function(e,t){p[t.trim()]=e})),!r.pc){i.next=37;break}throw new y.H(1,1,7001,{url:e,request:t});case 37:return i.abrupt("return",y.xg(p,o,a.status,e,a.url,t,Zr(s)));case 38:case"end":return i.stop()}}),i,null,[[1,25]])})))},ti=function(e){try{var t=e.uris[e.uriIndex],n=y.Pm(t);return{O:Promise.resolve({uri:t,data:n.data,request:e,headers:{"content-type":n.contentType}}),request:e,abort:function(){return Promise.resolve()}}}catch(t){return{O:Promise.reject(t),request:e,abort:function(){return Promise.resolve()}}}},y.Pm=function(t){var n=t.split(":");if(2>n.length||"data"!==n[0])throw y.uf("Bad data URI, failed to parse scheme"),new y.H(y.G,1,1004,{uri:t});if(2>(n=n.slice(1).join(":").split(",")).length)throw y.uf("Bad data URI, failed to extract encoding and MIME type"),new y.H(y.G,1,1004,{uri:t});var r=n[0];t=e.decodeURIComponent(n.slice(1).join(",")),n=r.split(";"),r=n[0];var i=!1;return 1<n.length&&"base64"===n[n.length-1]&&(i=!0,n.pop()),{data:i?y.ii(t).buffer:y.kg(t).buffer,contentType:r}},y.Sm=function(e){delete y.Rm[e]},y.Xm=function(e){var t=y.qd,n=e.H;switch(e.C){case Co:t="-2px -2px 0 ".concat(n,", -1px -1px 0 ").concat(n);break;case Ao:t="2px 2px 0 ".concat(n,", 1px 1px 0 ").concat(n);break;case Mo:t="-1px 0 ".concat(n,", 0 1px ").concat(n,", 1px 0 ").concat(n,", ")+"0 -1px ".concat(n);break;case Po:t="2px 2px 3px ".concat(n,", 2px 2px 4px ").concat(n,", ")+"2px 2px 5px ".concat(n)}return t},ni="undefined"!=typeof e&&e===this?this:"undefined"!=typeof n.g&&null!=n.g?n.g:this,ri=typeof Object.defineProperties==y.Qc?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},Pe("Promise",(function(e){function t(e){this.f=0,this.j=void 0,this.a=[];var t=this.g();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.a=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.f=function(e){if(null==this.a){this.a=[];var t=this;this.g((function(){t.j()}))}this.a.push(e)};var i=ni.setTimeout;n.prototype.g=function(e){i(e,0)},n.prototype.j=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.h(r)}}}this.a=null},n.prototype.h=function(e){this.g((function(){throw e}))},t.prototype.g=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.B),reject:e(this.h)}},t.prototype.B=function(e){if(e===this)this.h(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.C(e);else{e:switch(typeof e){case y.rd:var n=null!=e;break e;case y.Qc:n=!0;break e;default:n=!1}n?this.A(e):this.m(e)}},t.prototype.A=function(e){var t=void 0;try{t=e.then}catch(n){return void this.h(n)}typeof t==y.Qc?this.D(t,e):this.m(e)},t.prototype.h=function(e){this.o(2,e)},t.prototype.m=function(e){this.o(1,e)},t.prototype.o=function(e,t){if(0!=this.f)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.f);this.f=e,this.j=t,this.w()},t.prototype.w=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)a.f(this.a[e]);this.a=null}};var a=new n;return t.prototype.C=function(e){var t=this.g();e.Bc(t.resolve,t.reject)},t.prototype.D=function(e,t){var n=this.g();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return typeof e==y.Qc?function(t){try{i(e(t))}catch(n){a(n)}}:t}var i,a,o=new t((function(e,t){i=e,a=t}));return this.Bc(r(e,i),r(n,a)),o},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Bc=function(e,t){function n(){switch(r.f){case 1:e(r.j);break;case 2:t(r.j);break;default:throw Error("Unexpected state: "+r.f)}}var r=this;null==this.a?a.f(n):this.a.push(n)},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=Ae(e),a=i.next();!a.done;a=i.next())r(a.value).Bc(t,n)}))},t.all=function(e){var n=Ae(e),i=n.next();return i.done?r([]):new t((function(e,t){function a(t){return function(n){o[t]=n,0==--u&&e(o)}}var o=[],u=0;do{o.push(void 0),u++,r(i.value).Bc(a(o.length-1),t),i=n.next()}while(!i.done)}))},t}));var ii=this||self;ii.a=!0,y.x("clpp.utils.obj.cloneItem",y.bf),y.x("clpp.utils.obj.merge",y.af);var ai={DEFAULT:-1,NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4};y.x("clpp.log.Level",ai);var oi=3,ui={},si=[];y.x("clpp.log.getLoggers",(function(){return y.bf(ui)})),y.x("clpp.log.addInterceptor",(function(e){e&&si.push(e)})),y.x("clpp.log.removeInterceptor",(function(e){e&&(0<=(e=si.indexOf(e))&&si.splice(e,1))})),y.x("clpp.log.getTagLevel",Le),y.x("clpp.log.hasTagLevel",(function(e){return void 0!==e&&0<=ui[e]})),y.x("clpp.log.setTagLevel",(function(e,t){e&&(y.ff(t)&&(t=Oe(t)),ui[e]=t)})),y.x("clpp.log.setLogLevel",(function(e){-1===e&&(e=3),y.ff(e)&&(e=Oe(e)),oi=e})),y.x("clpp.log.getLogLevel",(function(){return oi})),y.O=function(){function t(e){(0,d.Z)(this,t),(this.a=e)&&void 0===ui[e]&&(ui[e]=-1)}return(0,h.Z)(t,[{key:"log",value:function(t,n){if(e.console){if(1<arguments.length){var r=arguments[0];Array.prototype.shift.call(arguments)}else r=3;var i=Le(this.a);if(0<=i){if(i<r)return}else if(oi<r)return;this.a&&Array.prototype.unshift.call(arguments,"["+this.a+"]"),(i=new Date).toISOString&&(i=i.toISOString().substring(11).replace("Z",""),Array.prototype.unshift.call(arguments,i)),4===r?console.log.apply(console,arguments):3===r?console.info.apply(console,arguments):2===r?console.warn.apply(console,arguments):1===r?console.error.apply(console,arguments):console.log.apply(console,arguments);for(var a=0,o=si;a<o.length;a++){var u=o[a];u.call(u,r,arguments)}}}},{key:"info",value:function(e){Array.prototype.unshift.call(arguments,3),this.log.apply(this,arguments)}},{key:"debug",value:function(e){Array.prototype.unshift.call(arguments,4),this.log.apply(this,arguments)}},{key:"warn",value:function(e){Array.prototype.unshift.call(arguments,2),this.log.apply(this,arguments)}},{key:"error",value:function(e){Array.prototype.unshift.call(arguments,1),this.log.apply(this,arguments)}},{key:"Pe",value:function(e){return e?this.a?new y.O(this.a+"."+e):new y.O(e):this}}]),t}(),y.x("clpp.log.Logger",y.O),y.O.prototype.createChild=y.O.prototype.Pe,y.O.prototype.error=y.O.prototype.error,y.O.prototype.warn=y.O.prototype.warn,y.O.prototype.debug=y.O.prototype.debug,y.O.prototype.info=y.O.prototype.info,y.O.prototype.log=y.O.prototype.log;var li,ci,fi,di,hi,pi=new y.O("clpp");y.x("clpp.log.info",y.tf),y.x("clpp.log.debug",y.D),y.x("clpp.log.warn",y.z),y.x("clpp.log.error",y.uf),function(){var e=console.assert;e?e.bind||(console.assert=function(){e.apply(console,arguments)}):console.assert=function(){}}(),li=(0,h.Z)((function e(t,n){(0,d.Z)(this,e),this.yb=t,this.a=n})),ci=(0,h.Z)((function e(t,n){(0,d.Z)(this,e),this.a=t,this.f=n})),y.Af=new y.O("clpp.players"),y.zf={},y.Zm=function(){function e(){(0,d.Z)(this,e),this.a={}}return(0,h.Z)(e,[{key:"push",value:function(e,t){e in this.a?this.a[e].push(t):this.a[e]=[t]}},{key:"get",value:function(e){return(e=this.a[e])?e.slice():[]}},{key:"remove",value:function(e,t){if(!(e=this.a[e]))return!1;for(var n=!1,r=0;r<e.length;++r)e[r]==t&&(e.splice(r,1),--r,n=!0);return n}},{key:"clear",value:function(){this.a={}}},{key:"forEach",value:function(e){for(var t in this.a)e(t,this.a[t])}}]),e}(),fi=function(){function e(t,n,r,i){(0,d.Z)(this,e),this.f=t,this.cc=n,this.a=r,this.uf=!!i}return(0,h.Z)(e,[{key:"Ib",value:function(e){try{this.cc.handleEvent?this.cc.handleEvent(e):this.cc.call(this.a,e)}catch(va){y.uf("clpp","Uncaught exception in event handler for event '"+this.f+"'",va,va?va.message:null,va?va.stack:null)}}}]),e}(),y.F=function(){function t(n,r){if((0,d.Z)(this,t),r)for(var i in r)this[i]=r[i];this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=e.performance&&e.performance.now?e.performance.now():Date.now(),this.type=n,this.isTrusted=!1,this.target=this.currentTarget=null,this.f=this.a=!1}return(0,h.Z)(t,[{key:"preventDefault",value:function(){this.cancelable&&(this.defaultPrevented=!0)}},{key:"stopImmediatePropagation",value:function(){this.f=!0}},{key:"stopPropagation",value:function(){}}]),t}(),di=function(){function e(t){(0,d.Z)(this,e),this.a=new y.Zm,this.f=t}return(0,h.Z)(e,[{key:"trigger",value:function(e){var t=this.a.get(e.type);if(t)for(var n=0;n<t.length&&(e.target=this.f,e.currentTarget=this.f,t[n].Ib(e),t[n].uf&&this.a.remove(e.type,t[n]),!e||!e.f);n++);}},{key:"on",value:function(e,t,n){return this.a.push(e,new fi(e,t,n||this.f)),t}},{key:"one",value:function(e,t,n){return this.a.push(e,new fi(e,t,n||this.f,!0)),t}},{key:"off",value:function(e,t){var n=this.a.get(e),r=!1;if(n)for(var i=0;i<n.length;i++)n[i].cc===t&&(r=this.a.remove(e,n[i])||r);return r}},{key:"clear",value:function(){this.a.clear()}}]),e}(),y.x("clpp.EventBus",di),di.prototype.clear=di.prototype.clear,di.prototype.off=di.prototype.off,di.prototype.one=di.prototype.one,di.prototype.on=di.prototype.on,di.prototype.trigger=di.prototype.trigger,y.cn=function(){function e(){(0,d.Z)(this,e),this.a=new y.Zm}return(0,h.Z)(e,[{key:"release",value:function(){y.Df(this)}},{key:"on",value:function(e,t,n){e=new hi(e,t,n,arguments.length>3&&void 0!==arguments[3]&&arguments[3]),this.a.push(t,e)}},{key:"one",value:function(e,t,n){var r=this;this.on(e,t,(function i(a){return r.off(e,t,i),n(a)}))}},{key:"off",value:function(e,t,n){for(var r=this.a.get(t)||[],i=0;i<r.length;++i){var a=r[i];a.target!=e||n!=a.a&&n||(Ze(a),this.a.remove(t,a))}}}]),e}(),hi=(0,h.Z)((function e(t,n,r,i){(0,d.Z)(this,e),this.target=t,this.type=n,this.a=r,this.f=i,this.target.addEventListener(n,r,i)}));var vi=function(){function e(t){(0,d.Z)(this,e),this.l=t,this.m=t.getConfiguration().streaming.addMissingTimelineCues||!1,this.h=null,this.f=new y.cn,this.a=this.j=null,this.g=[],this.o=new y.O("clpp.native.Metadata")}return(0,h.Z)(e,[{key:"release",value:function(){this.f.release(),this.g=[],this.a=null}},{key:"destroy",value:function(){var e=this;return y.v((0,v.Z)().mark((function t(){return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.release(),e.j=null,e.h=null;case 3:case"end":return t.stop()}}),t)})))}},{key:"getTimelineCues",value:function(){return this.g}}]),e}();y.ln=function(){return(0,h.Z)((function e(t,n,r,i){(0,d.Z)(this,e),i=void 0===i?y.en:i,this.startTime=t,this.endTime=n,this.payload=r,this.payloadType=i,this.positionAlign=this.position=null,this.size=100,this.textAlign=y.fn,this.writingMode=y.gn,this.lineInterpretation=y.hn,this.line=null,this.lineAlign=y.jn,this.direction=gi,this.region=null,this.cssClassList=[],this.id=this.backgroundImage="",this.containerRows=null}))}(),y.x("clpp.text.Cue",y.ln),y.ln.positionAlign={LEFT:y.ad,RIGHT:y.bd,CENTER:y.kc,AUTO:"auto"},y.en=y.r,y.ln.payloadType={TEXT:y.en,VTT_XML:y.Ge,TTML_XML:y.oe},y.fn=y.kc,y.mn={LEFT:y.Yc,RIGHT:y.Vd,CENTER:y.fn,START:y.Yc,END:y.Vd},y.ln.textAlign=y.mn;var gi="ltr";y.ln.direction={HORIZONTAL_LEFT_TO_RIGHT:gi,HORIZONTAL_RIGHT_TO_LEFT:"rtl"},y.gn="horizontal-tb",y.ln.writingMode={HORIZONTAL_TOP_TO_BOTTOM:y.gn,VERTICAL_LEFT_TO_RIGHT:y.xe,VERTICAL_RIGHT_TO_LEFT:y.ze},y.hn=0,y.ln.lineInterpretation={LINE_NUMBER:y.hn,PERCENTAGE:1},y.jn=y.ae,y.nn={CENTER:y.kc,START:y.jn,END:y.Mc},y.ln.lineAlign=y.nn,y.qn=function(){return(0,h.Z)((function e(){(0,d.Z)(this,e),this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=y.on,this.scroll=mi,this.cssClassList=[],this.writingMode=this.displayAlign=null}))}(),y.x("clpp.text.CueRegion",y.qn),y.on=1,y.qn.units={PX:0,PERCENTAGE:y.on,LINES:2};var mi="";y.qn.scrollMode={NONE:mi,UP:"up"},y.qn.displayAlign={BEFORE:"flex-end",CENTER:y.kc,AFTER:"flex-start"},y.qn.writingMode={HORIZONTAL_TOP_TO_BOTTOM:y.uc,VERTICAL_LEFT_TO_RIGHT:"row-reverse",VERTICAL_RIGHT_TO_LEFT:"row"};var yi,bi=function(){function e(t){(0,d.Z)(this,e),this.l=t,this.j=t.getTextDisplayer(),this.f=this.g=null,this.a=new y.cn,this.h=!1,this.m=new y.O("clpp.native.CueHandler")}return(0,h.Z)(e,[{key:"destroy",value:function(){return this.a.release(),this.h=!1,this.j=this.a=this.g=this.f=null,Promise.resolve()}},{key:"start",value:function(e){var t=this;this.h?this.m.warn("Already started. Ignoring request..."):(this.h=!0,this.g=e,this.f=this.g.textTracks,this.a.on(this.f,y.Cb,(function(e){return ze(t,e)})),this.a.on(this.f,W,(function(){for(var e=t.f,n=0;n<e.length;n++){var r=e[n];r.mode===y.Yd&&(r.mode=y.Sc)}})))}},{key:"o",value:function(e){var t=new y.ln(e.startTime,e.endTime,e.text,y.Ge);if(y.ff(e.vertical))switch(e.vertical){case"lr":t.writingMode=y.xe;break;case"rl":t.writingMode=y.ze}if(y.gf(e.size)&&(t.size=e.size),y.ff(e.align))switch(e.align){case y.Yc:case y.ae:t.textAlign=y.Yc;break;case y.kc:t.textAlign=y.fn;break;case y.Vd:case y.Mc:t.textAlign=y.Vd}if(y.gf(e.position)&&(t.position=e.position),y.ff(e.positionAlign))switch(e.positionAlign){case y.ad:t.positionAlign=y.ad;break;case y.kc:t.positionAlign=y.kc;break;case y.bd:t.positionAlign=y.bd}if(y.gf(e.line)&&(t.line=e.line),y.ff(e.lineAlign))switch(e.lineAlign){case y.ae:t.lineAlign=y.jn;break;case y.kc:t.lineAlign=y.kc;break;case y.Mc:t.lineAlign=y.Mc}return typeof e.snapToLines===y.Zb&&(t.lineInterpretation=e.snapToLines?y.hn:1),t}}]),e}();y.H=function(e){(0,o.Z)(n,e);var t=(0,u.Z)(n);function n(e,r,i,o,u){var s;return(0,d.Z)(this,n),(s=t.call(this,Ge(e,r,i,o))).severity=e,s.category=r,s.code=i,s.data=!o||y.ff(o)?{}:o,s.cause=void 0===u?null:u,s.f=!1,Error.captureStackTrace&&Error.captureStackTrace((0,a.Z)(s),y.H),s}return(0,h.Z)(n,[{key:"a",value:function(e){this.severity!==e&&(this.severity=e,this.message=Ge(this.severity,this.category,this.code,this.data))}},{key:"toString",value:function(){var e=this.message;return this.cause&&(e+="\n Caused by ".concat(this.cause)),e}}]),n}(f(Error)),y.x("clpp.Error",y.H),y.G=2,y.H.Severity={RECOVERABLE:1,FATAL:y.G},y.H.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,PLUGIN:9,ADS:10},y.H.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,UNKNOWN_DATA_URI_ENCODING:1005,REQUEST_MODIFIER_ERROR:1006,RESPONSE_MODIFIER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,FETCH_OR_APPEND_ERROR:2010,INVALID_MP4:2011,TEXT_PARSER_MISSING:2012,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,MP4_PARSER_ERROR:3019,MEDIA_LOAD_ERROR:3100,INVALID_TRACK_TYPE:3101,UNKNOWN_TRACK:3102,MEDIA_DECRYPTION_ERROR:3103,PLAY_NOT_ALLOWED:3200,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,UNPLAYABLE_PERIOD:4011,RESTRICTIONS_CANNOT_BE_MET:4012,NO_PERIODS:4014,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_COULD_NOT_PARSE_SEGMENT_START_TIME:4030,CONTENT_UNSUPPORTED_BY_BROWSER:4032,SMOOTH_INVALID_MANIFEST_XML:4033,SMOOTH_EMPTY_PRESENTATION:4034,SMOOTH_MEDIA_PROCESSING_ERROR:4035,SMOOTH_INVALID_VERSION:4036,SMOOTH_INVALID_FRAGMENT_METADATA:4037,SMOOTH_REQUIRED_ATTRIBUTE_MISSING:4038,SMOOTH_TRUNCATED_MEDIA_FILE:4039,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4040,HLS_MSE_ENCRYPTED_TS_NOT_SUPPORTED:4041,INVALID_STREAMS_CHOSEN:5005,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,REQUESTED_DRM_ENVIRONMENT_UNAVAILABLE:6015,INIT_DATA_TRANSFORM_ERROR:6016,CERTIFICATE_REQUEST_FAILED:6100,NO_CONTENT_ID:6101,SERVER_CERTIFICATE_REQUIRED:6102,EXTRACT_CONTENT_ID_MODIFIER_ERROR:6103,FAILED_TO_PERSIST_SESSION:6200,FAILED_TO_REMOVE_SESSION:6201,INVALID_SESSION_STORAGE_IMPLEMENTATION:6202,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,CANNOT_LOAD_SOURCE:7003,INVALID_CONFIGURATION:7100,INVALID_LICENSE:7101,NO_ELEMENT:7102,USER_ID_NOT_PROVIDED:7103,KEY_LOAD_ERROR:7104,TIZEN_INTERNAL_ERROR:7200,CAF_INTERNAL_ERROR:7300,INTERNAL_CAST_ERROR:8e3,CAST_API_NOT_READY:8001,NO_RECEIVERS_AVAILABLE:8002,ALREADY_CASTING:8003,NO_CAST_SESSION:8004,CONVIVA_SDK_NOT_LOADED:9e3,CONVIVA_INVALID_CONFIGURATION:9001,CONVIVA_RUNTIME_ERROR:9002,GL_CONTEXT_ERROR:9003,GL_SHADER_ERROR:9004,YOUBORA_SDK_MISSING:9100,YOUBORA_INVALID_CONFIGURATION:9101,VIMOND_INVALID_CONFIGURATION:9200,VIMOND_SESSION_ERROR:9201,MUXDATA_INVALID_CONFIGURATION:9300,MUX_SDK_MISSING:9301,MUXDATA_INIT_ERROR:9302,IMA_SDK_MISSING:1e4,IMA_INVALID_CONFIGURATION:10001,IMA_UNSUPPORTED_PLATFORM:10002,AD_ERROR:10003,BROADPEAK_SDK_MISSING:11e3,BROADPEAK_SESSION_ERROR:11001,FREEWHEEL_SDK_MISSING:12e3,FREEWHEEL_INVALID_CONFIGURATION:12001,CONTENT_TRANSFORMATION_FAILED:14e3},y.Uf=function(){function e(t,n){(0,d.Z)(this,e),this.id=t,this.type=n,this.roles=[],this.channelsCount=this.src=this.mimeType=this.frameRate=this.label=this.language=this.kind=null,this.renditions=[]}return(0,h.Z)(e,[{key:"toString",value:function(){return"Track type: ".concat(this.type," id: ").concat(this.id,"\n        renditions size: ").concat(this.renditions.length)}}]),e}(),y.x("clpp.Track",y.Uf),y.Uf.prototype.toString=y.Uf.prototype.toString,y.sn=function(){return(0,h.Z)((function e(t,n){(0,d.Z)(this,e),this.track=n,this.id=t,this.originalId=this.drmInfo=this.codec=this.bandwidth=this.height=this.width=null}))}(),y.x("clpp.Rendition",y.sn),y.Tf=1,y.K=y.u,y.J=y.Rb,y.I=y.r,yi=y.id,y.tn={VIDEO:y.K,AUDIO:y.J,TEXT:y.I,Kf:yi},y.Uf.Type=y.tn,y.P=function(){function e(){(0,d.Z)(this,e)}return(0,h.Z)(e,[{key:"Xe",value:function(e){return this.getVideoTracks().find((function(t){return y.hf(t,e,e&&Object.keys(e))}))}},{key:"Te",value:function(e){return this.getAudioTracks().find((function(t){return y.hf(t,e,e&&Object.keys(e))}))}},{key:"Ve",value:function(e){return this.ea().find((function(t){return y.hf(t,e,e&&Object.keys(e))}))}},{key:"We",value:function(e){return this.getVideoTracks().flatMap((function(e){return e.renditions})).find((function(t){return y.hf(t,e,e&&Object.keys(e))}))}},{key:"Se",value:function(e){return this.getAudioTracks().flatMap((function(e){return e.renditions})).find((function(t){return y.hf(t,e,e&&Object.keys(e))}))}},{key:"Ue",value:function(e){return this.ea().flatMap((function(e){return e.renditions})).find((function(t){return y.hf(t,e,e&&Object.keys(e))}))}}]),e}(),y.x("clpp.TrackManager",y.P),y.P.prototype.isAbrEnabled=y.P.prototype.ja,y.P.prototype.addTextTrack=y.P.prototype.addTextTrack,y.P.prototype.findTextRendition=y.P.prototype.Ue,y.P.prototype.findAudioRendition=y.P.prototype.Se,y.P.prototype.findVideoRendition=y.P.prototype.We,y.P.prototype.findTextTrack=y.P.prototype.Ve,y.P.prototype.findAudioTrack=y.P.prototype.Te,y.P.prototype.findVideoTrack=y.P.prototype.Xe,y.P.prototype.setTextRendition=y.P.prototype.cb,y.P.prototype.setAudioRendition=y.P.prototype.bb,y.P.prototype.setVideoRendition=y.P.prototype.Ma,y.P.prototype.setTextTrack=y.P.prototype.ta,y.P.prototype.setAudioTrack=y.P.prototype.la,y.P.prototype.setVideoTrack=y.P.prototype.Na,y.P.prototype.getTextTrack=y.P.prototype.ia,y.P.prototype.getAudioTrack=y.P.prototype.ha,y.P.prototype.getVideoTrack=y.P.prototype.Aa,y.P.prototype.getLoadingTextRendition=y.P.prototype.Va,y.P.prototype.getLoadingAudioRendition=y.P.prototype.Ua,y.P.prototype.getLoadingVideoRendition=y.P.prototype.Ia,y.P.prototype.getTextRendition=y.P.prototype.za,y.P.prototype.getAudioRendition=y.P.prototype.xa,y.P.prototype.getVideoRendition=y.P.prototype.fa,y.P.prototype.getTextTracks=y.P.prototype.ea,y.P.prototype.getAudioTracks=y.P.prototype.getAudioTracks,y.P.prototype.getVideoTracks=y.P.prototype.getVideoTracks;var wi=(0,h.Z)((function e(){(0,d.Z)(this,e)}));y.x("clpp.utils.BufferUtils",wi),wi.toArrayBuffer=Je,wi.toDataView=y.dg,wi.toInt32Array=y.cg,wi.toUint32Array=$e,wi.toUint16Array=Xe,wi.toUint8Array=y.L,wi.equal=Ke;var ki=new y.O("clpp.utils.strings");y.x("clpp.utils.strings.fromUtf8",y.gg),y.x("clpp.utils.strings.fromBytesAutoDetect",y.jg),y.x("clpp.utils.strings.toUtf8",y.kg),y.x("clpp.utils.strings.toUtf16",y.lg),y.x("clpp.utils.strings.toByteArray",y.mg),y.x("clpp.utils.strings.startsWith",y.ng),y.x("clpp.utils.strings.endsWith",y.og),y.x("clpp.utils.strings.bitrateToString",(function(e){if(void 0===e||null===e||""===e)return"";try{var t=Number(e);return De(t)?"":(e="bps",1e3<=Math.abs(t)&&(e="Kbps",t/=1e3),1e3<=Math.abs(t)&&(e="Mbps",t/=1e3),"".concat(t.toFixed(2).replace(/[.,]00$/,"")).concat(e))}catch(t){return""}})),y.x("clpp.utils.strings.durationToString",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"%h:%mm:%ss";null!==e&&void 0!==e||(e=0),null!==t&&void 0!==t||(t="%h:%mm:%ss");var n=Math.floor(e/3600),r=Math.floor((e-3600*n)/60);e=Math.floor(e-3600*n-60*r);var i=function e(t,n){return t.length<n?e("0"+t,n):t},a=function(e){return function(t,n){return i(e,n.length-1)}};return t.replace(/(%h+)/,a(String(n))).replace(/(%m+)/,a(String(r))).replace(/(%s+)/,a(String(e)))})),y.x("clpp.utils.strings.hashCode",(function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t}));var Ti=document.createElement("span");y.x("clpp.net.makeRequest",y.wg),y.vg=6,y.x("clpp.net.RequestType",{MANIFEST:1,SEGMENT:2,LICENSE:3,APP:4,TIMING:5,OTHER:y.vg}),y.vn=function(){function e(t){(0,d.Z)(this,e),this.f=t,this.a=null}return(0,h.Z)(e,[{key:"$",value:function(e){return it(this,e,!1)}},{key:"Pa",value:function(e){return it(this,e,!0)}},{key:"stop",value:function(){this.a&&(this.a(),this.a=null)}}]),e}(),y.rh=function(){function e(t){(0,d.Z)(this,e),this.f=t,this.a=null}return(0,h.Z)(e,[{key:"Od",value:function(){return this.stop(),this.f(),this}},{key:"$",value:function(e){var t=this;return this.stop(),this.a=new y.vn((function(){t.f()})).$(e),this}},{key:"Pa",value:function(e){var t=this;return this.stop(),this.a=new y.vn((function(){t.f()})).Pa(e),this}},{key:"stop",value:function(){this.a&&(this.a.stop(),this.a=null)}}]),e}(),y.x("clpp.utils.Timer",y.rh),y.rh.prototype.stop=y.rh.prototype.stop,y.rh.prototype.tickEvery=y.rh.prototype.Pa,y.rh.prototype.tickAfter=y.rh.prototype.$,y.rh.prototype.tickNow=y.rh.prototype.Od,y.Cg=[];var Si=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],[y.Ec,"dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);y.wn=(new Map).set(y.tc,y.tc).set("frameRate","framerate").set("bandwidth","bitrate").set(y.Oe,y.Oe).set(y.Rc,y.Rc).set("channelsCount","channels");var Ei=function(e){(0,o.Z)(n,e);var t=(0,u.Z)(n);function n(){var e;return(0,d.Z)(this,n),(e=t.call(this)).a=new y.O("clpp.native.TrackManager"),e.l=null,e.g=new y.cn,e.h=[],e.D=0,e.o={},e.H=[],e.f=new Map,e.m=new Map,e.w=!0,e.L=e.A.bind((0,a.Z)(e),y.I),e.R=e.C.bind((0,a.Z)(e),y.I),e.N=e.B.bind((0,a.Z)(e),y.I),e.S=e.A.bind((0,a.Z)(e),y.K),e.V=e.C.bind((0,a.Z)(e),y.K),e.T=e.B.bind((0,a.Z)(e),y.K),e.I=e.A.bind((0,a.Z)(e),y.J),e.K=e.C.bind((0,a.Z)(e),y.J),e.J=e.B.bind((0,a.Z)(e),y.J),e}return(0,h.Z)(n,[{key:"A",value:function(e,t){if(t){var n=t.track;if(n){var r=this.h.find((function(t){return at(t,n,e)}));if(r)this.a.warn("Track from event already exists",n,r);else{var i=Ve(e,n);if(t=ot(n),e===y.I){if(n.kind===y.id)return;var a;a=void 0!==n.id?this.o[n.id]:Object.values(this.o).find((function(t){return at(i,t,e)})),i.kind&&"captions"===i.kind&&(i.mimeType=y.Hb),a&&(i.src=a.url,i.mimeType=a.mimeType)}else if(r=this.h.find((function(t){return t.type===e&&y.hf(t,i,["kind","label","language"])})))return r.id=n.id,t&&(this.a.debug("Setting native ".concat(e," track active")),this.f.set(e,r)),void this.a.debug("Track from event seems to already exists, flipped native track to",n);try{i.renditions.push(new y.sn(i.id,i)),this.h.push(i),this.a.debug(e+" Track added",i),this.l.trigger(new y.F(y.xn));var o=ut(this,e).length;a=e===y.K||e===y.J,(t||1===o&&a)&&(this.a.debug("Setting native ".concat(e," track active. ")+"Native track active: ".concat(t,". ")+"Number of tracks: ".concat(o),n),this.f.set(e,i))}catch(m){this.a.error("Error while converting track data",m)}}}else this.a.warn(R)}else this.a.warn(N)}},{key:"C",value:function(e,t){if(t){var n=t.track;n?e===y.I&&n.kind!==y.id&&(t=this.h.find((function(t){return at(t,n,e)})))&&(this.h.splice(this.h.indexOf(t),1),(this.f.get(e)||null)===t&&(this.f.set(e,null),st(this)),this.a.debug(e+" Track removed, id: ",t.id)):this.a.warn(R)}else this.a.warn(N)}},{key:"B",value:function(e,t){var n=this;this.a.debug(e+" Track changed",t),e===y.I&&st(this);var r=lt(this,e);if(r)for(var i=function(i){if(ot(r[i]))return(t=n.h.find((function(t){return at(t,r[i],e)})))&&(n.f.set(e,t),n.a.debug("Track change detected, id:",t.id),t===n.m.get(e)&&n.m.set(e,null),e===y.J?n.l.trigger(new y.F(y.Vg)):e===y.I&&n.l.trigger(new y.F(y.Wg))),"break"},a=0;a<r.length;++a){if("break"===i(a))break}}},{key:"j",value:function(e){this.l=e}},{key:"load",value:function(){this.w=!1;var e=ct(this,y.I);e&&(this.g.on(e,y.Cb,this.L),this.g.on(e,de,this.R),this.g.on(e,W,this.N)),(e=ct(this,y.J))&&(this.g.on(e,y.Cb,this.I),this.g.on(e,de,this.K),this.g.on(e,W,this.J)),(e=ct(this,y.K))&&(this.g.on(e,y.Cb,this.S),this.g.on(e,de,this.V),this.g.on(e,W,this.T)),this.g.one(this.l,V,this.F.bind(this))}},{key:"release",value:function(){this.w=!0,this.h=[],this.o={},this.f.clear(),this.m.clear(),this.g.release()}},{key:"destroy",value:function(){this.release(),this.l=null}},{key:"getVideoTracks",value:function(){return ut(this,y.K)}},{key:"getAudioTracks",value:function(){return ut(this,y.J)}},{key:"ea",value:function(){return ut(this,y.I)}},{key:"fa",value:function(){return ft(this,y.K)}},{key:"xa",value:function(){return ft(this,y.J)}},{key:"za",value:function(){return ft(this,y.I)}},{key:"Ia",value:function(){return dt(this,y.K)}},{key:"Ua",value:function(){return dt(this,y.J)}},{key:"Va",value:function(){return dt(this,y.I)}},{key:"Aa",value:function(){return this.f.get(y.K)||null}},{key:"ha",value:function(){return this.f.get(y.J)||null}},{key:"ia",value:function(){return this.f.get(y.I)||null}},{key:"Na",value:function(e){ht(this,y.K,e)}},{key:"la",value:function(e){ht(this,y.J,e)}},{key:"ta",value:function(e){ht(this,y.I,e)}},{key:"Ma",value:function(e){ht(this,y.K,e&&e.track)}},{key:"bb",value:function(e){ht(this,y.J,e&&e.track)}},{key:"cb",value:function(e){ht(this,y.I,e&&e.track)}},{key:"addTextTrack",value:function(e){var t=this;return y.v((0,v.Z)().mark((function n(){var r;return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.mimeType.match(/text\/vtt/)){n.next=6;break}r="External_"+"".concat(t.D++),t.o[r]=e,pt(t,e,r),n.next=8;break;case 6:return n.next=8,vt(t,e);case 8:case"end":return n.stop()}}),n)})))}},{key:"F",value:function(){var e=this;return y.v((0,v.Z)().mark((function t(){var n,r;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.l.getConfiguration(),gt(e,y.J,n.preferredAudioLanguage),lt(e,y.I).some((function(e){return ot(e)}))){t.next=6;break}return r=ct(e,y.I),t.next=6,new Promise((function(t){e.g.one(r,W,t),new y.rh(t).$(1)}));case 6:e.w||gt(e,y.I,n.preferredTextLanguage);case 7:case"end":return t.stop()}}),t)})))}},{key:"ja",value:function(){return 1>=this.getVideoTracks().flatMap((function(e){return e.renditions})).length}}]),n}(y.P);Ei.prototype.isAbrEnabled=Ei.prototype.ja,Ei.prototype.addTextTrack=Ei.prototype.addTextTrack,Ei.prototype.setTextRendition=Ei.prototype.cb,Ei.prototype.setAudioRendition=Ei.prototype.bb,Ei.prototype.setVideoRendition=Ei.prototype.Ma,Ei.prototype.setTextTrack=Ei.prototype.ta,Ei.prototype.setAudioTrack=Ei.prototype.la,Ei.prototype.setVideoTrack=Ei.prototype.Na,Ei.prototype.getTextTrack=Ei.prototype.ia,Ei.prototype.getAudioTrack=Ei.prototype.ha,Ei.prototype.getVideoTrack=Ei.prototype.Aa,Ei.prototype.getLoadingTextRendition=Ei.prototype.Va,Ei.prototype.getLoadingAudioRendition=Ei.prototype.Ua,Ei.prototype.getLoadingVideoRendition=Ei.prototype.Ia,Ei.prototype.getTextRendition=Ei.prototype.za,Ei.prototype.getAudioRendition=Ei.prototype.xa,Ei.prototype.getVideoRendition=Ei.prototype.fa,Ei.prototype.getTextTracks=Ei.prototype.ea,Ei.prototype.getAudioTracks=Ei.prototype.getAudioTracks,Ei.prototype.getVideoTracks=Ei.prototype.getVideoTracks,y.yn=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"total";(0,d.Z)(this,e),this.length=(this.f=t)?t.length:0,this.a=[],this.type=n}return(0,h.Z)(e,[{key:"start",value:function(e){if(this.f)return this.f.start(e);if(e<this.a.length)return this.a[e].start;throw Error(Z)}},{key:"end",value:function(e){if(this.f)return this.f.end(e);if(e<this.a.length)return this.a[e].end;throw Error(Z)}},{key:"fb",value:function(){return!this.length||1===this.length&&1e-6>this.end(0)-this.start(0)?null:1===this.length&&0>this.start(0)?0:this.start(0)}},{key:"qa",value:function(){return!this.length||1===this.length&&1e-6>this.end(0)-this.start(0)?null:this.end(this.length-1)}},{key:"Sb",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!this.length||1===this.length&&1e-6>this.end(0)-this.start(0)||e>this.end(this.length-1))return!1;if(t)return n+e>=this.start(0)&&e<=this.end(this.length-1);for(t=0;t<this.length;t++)if(n+e>=this.start(t)&&e<=this.end(t))return!0;return!1}},{key:"va",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.length||1===this.length&&1e-6>this.end(0)-this.start(0))return 0;var n=0;if(t)null!=(t=this.qa())&&(n=Math.max(0,t-e));else for(t=this.length-1;0<=t&&this.end(t)>e;--t)n+=this.end(t)-Math.max(this.start(t),e);return n}}]),e}(),y.x("clpp.BufferInfo",y.yn),y.yn.prototype.bufferedAheadOf=y.yn.prototype.va,y.yn.prototype.isBuffered=y.yn.prototype.Sb,y.yn.prototype.bufferEnd=y.yn.prototype.qa,y.yn.prototype.bufferStart=y.yn.prototype.fb,y.yn.prototype.end=y.yn.prototype.end,y.yn.prototype.start=y.yn.prototype.start,y.zn=function(){function e(){(0,d.Z)(this,e),this.rc=new di(this),this.qc=[]}return(0,h.Z)(e,[{key:"trigger",value:function(e){this.rc.trigger(e);var t,n=(0,g.Z)(this.qc);try{for(n.s();!(t=n.n()).done;){t.value.dispatchEvent(e)}}catch(r){n.e(r)}finally{n.f()}}},{key:"addEventListener",value:function(e,t){this.on(e,t)}},{key:"removeEventListener",value:function(e,t){this.off(e,t)}},{key:"dispatchEvent",value:function(e){return this.trigger(e),e.defaultPrevented}},{key:"on",value:function(e,t,n){return this.rc.on(e,t,n)}},{key:"one",value:function(e,t,n){return this.rc.one(e,t,n)}},{key:"off",value:function(e,t){return this.rc.off(e,t)}},{key:"addDelegate",value:function(e){e&&(0<=this.qc.indexOf(e)||this.qc.push(e))}},{key:"removeDelegate",value:function(e){e&&(0<=(e=this.qc.indexOf(e))&&this.qc.splice(e,1))}}]),e}(),y.zn.prototype.off=y.zn.prototype.off,y.zn.prototype.one=y.zn.prototype.one,y.zn.prototype.on=y.zn.prototype.on,y.zn.prototype.removeEventListener=y.zn.prototype.removeEventListener,y.zn.prototype.addEventListener=y.zn.prototype.addEventListener,y.x("clpp.events.ERROR",y.Oc),y.x("clpp.events.LOADEDMETADATA",y.dd),y.x("clpp.events.BUFFERING_ENDED",y.$b),y.x("clpp.events.BUFFERING_STARTED",y.ac),y.x("clpp.events.STATE_CHANGED",y.be),y.Vg="audiotrackchanged",y.x("clpp.events.AUDIO_TRACK_CHANGED",y.Vg),y.Wg="texttrackchanged",y.x("clpp.events.TEXT_TRACK_CHANGED",y.Wg),y.x("clpp.events.VIDEO_TRACK_CHANGED",y.De),y.x("clpp.events.BITRATE_CHANGED",y.Yb),y.xn="tracksadded",y.x("clpp.events.TRACKS_ADDED",y.xn),y.x("clpp.events.LOAD_START",ue),y.x("clpp.events.RELEASING",y.Rd),y.x("clpp.events.RELEASED",fe),y.x("clpp.events.DESTROYING","destroying"),y.x("clpp.events.DESTROYED","destroyed"),y.x("clpp.events.VIDEO_BUFFER_CHANGED",y.Ce),y.x("clpp.events.AUDIO_BUFFER_CHANGED",y.Wb),y.x("clpp.events.DOWNLOAD_TRACE","downloadtrace"),y.x("clpp.events.DRM_SESSION_UPDATE",y.Ic),y.x("clpp.events.DRM_SESSION_PERSISTED",y.Hc),y.x("clpp.events.DRM_RENEWAL_STARTED",Q),y.x("clpp.events.DRM_EXPIRATION_UPDATE",y.Fc),y.x("clpp.events.AUTOPLAY_NOT_ALLOWED",y.Xb),y.x("clpp.events.PLAY",y.Jd),y.x("clpp.events.SEEKING",y.Xd),y.x("clpp.events.SEEKED",y.Wd),y.x("clpp.events.USER_SEEKING",y.ue),y.x("clpp.events.USER_SEEKED",y.te),y.wk={SEEKING:1,NO_DATA:2},y.x("clpp.events.BufferingReasons",y.wk),y.x("clpp.events.ADS_TIMELINE_CHANGED",y.Db),y.x("clpp.events.AD_LOADED",y.tb),y.x("clpp.events.AD_BREAK_STARTED",y.mb),y.x("clpp.events.AD_STARTED",y.zb),y.x("clpp.events.AD_BUFFERING",y.ob),y.x("clpp.events.AD_PROGRESS",y.wb),y.x("clpp.events.AD_FIRST_QUARTILE",y.rb),y.x("clpp.events.AD_MIDPOINT",y.ub),y.x("clpp.events.AD_THIRD_QUARTILE",y.Bb),y.x("clpp.events.AD_PAUSED",y.vb),y.x("clpp.events.AD_RESUMED",y.xb),y.x("clpp.events.AD_SKIPPED",y.yb),y.x("clpp.events.AD_CLICKED",y.pb),y.x("clpp.events.AD_IMPRESSION",y.sb),y.x("clpp.events.AD_COMPLETED",y.qb),y.x("clpp.events.AD_STOPPED",y.Ab),y.x("clpp.events.AD_BREAK_STOPPED",y.nb),y.x("clpp.events.CASTING_STARTED",y.gc),y.x("clpp.events.CASTING_ENDED","castingended"),y.x("clpp.events.CAST_STATUS_CHANGED",y.hc),y.x("clpp.events.AIRPLAY_STATUS_CHANGED",y.Gb),y.x("clpp.events.AIRPLAY_CASTING_STARTED",y.Fb),y.x("clpp.events.AIRPLAY_CASTING_ENDED",y.Eb),y.If="timeline-cue-added",y.x("clpp.events.TIMELINE_CUE_ADDED",y.If),y.Kf="timeline-cue-enter",y.x("clpp.events.TIMELINE_CUE_ENTER",y.Kf),y.Lf="timeline-cue-exit",y.x("clpp.events.TIMELINE_CUE_EXIT",y.Lf),y.x("clpp.events.MPD_TYPE_CHANGED",y.nd),y.x("clpp.events.VIMOND_RESPONSE",y.Ee),y.x("clpp.events.PLAYLIST_ITEM_CHANGED",y.Ld),y.x("clpp.events.PLAYLIST_MODIFIED",y.Md),y.x("clpp.events.CDN_SWITCH_SUCCESS",y.ic),y.x("clpp.events.ONLINE_STATUS_CHANGED",le),y.Hj=function(){function e(){var t,n;(0,d.Z)(this,e);var r=new Promise((function(e,r){t=e,n=r}));return r.resolve=t,r.reject=n,r}return(0,h.Z)(e,[{key:"resolve",value:function(){}},{key:"reject",value:function(){}}]),e}(),y.Ok=function(){function e(t,n){(0,d.Z)(this,e),this.O=t,this.w=n,this.a=!1}return(0,h.Z)(e,[{key:"abort",value:function(){return this.a=!0,this.w()}},{key:"Cc",value:function(e,t){var n=this,r=new y.Hj,i=function(){return r.reject(new y.H(y.G,7,7001)),n.abort()};return this.O.then((function(t){n.a?r.reject(new y.H(y.G,7,7001)):e?i=mt(e,t,r):r.resolve(t)}),(function(e){t?i=mt(t,e,r):r.reject(e)})),new y.Ok(r,(function(){return i()}))}}]),e}(),y.Ok.aborted=function(){var e=Promise.reject(new y.H(y.G,7,7001));return e.catch((function(){})),new y.Ok(e,(function(){return Promise.resolve()}))},y.Ok.prototype.chain=y.Ok.prototype.Cc,y.An=function(){function e(){(0,d.Z)(this,e),this.a=[]}return(0,h.Z)(e,[{key:"destroy",value:function(){var e,t=[],n=(0,g.Z)(this.a);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.O.catch((function(){})),t.push(r.abort())}}catch(i){n.e(i)}finally{n.f()}return this.a=[],Promise.all(t)}}]),e}();var xi=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;(Ie=y.dh.prototype).La="",Ie.$b="",Ie.Da="",Ie.mc=null,Ie.ma="",Ie.Ob="",Ie.toString=function(){var e=[],t=this.La;if(t&&e.push(St(t,Ii,!0),":"),t=this.Da){e.push("//");var n=this.$b;n&&e.push(St(n,Ii,!0),"@"),e.push(encodeURIComponent(t).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.mc)&&e.push(":",String(t))}return(t=this.ma)&&(this.Da&&"/"!=t.charAt(0)&&e.push("/"),e.push(St(t,"/"==t.charAt(0)?Ai:Ci,!0))),(t=this.a.toString())&&e.push("?",t),(t=this.Ob)&&e.push("#",St(t,Mi)),e.join("")},Ie.resolve=function(e){var t=new y.dh(this);"data"===t.La&&(t=new y.dh);var n=!!e.La;n?bt(t,e.La):n=!!e.$b,n?t.$b=e.$b:n=!!e.Da,n?t.Da=e.Da:n=null!=e.mc;var r=e.ma;if(n)wt(t,e.mc);else if(n=!!e.ma){if("/"!=r.charAt(0))if(this.Da&&!this.ma)r="/"+r;else{var i=t.ma.lastIndexOf("/");-1!=i&&(r=t.ma.substr(0,i+1)+r)}if(".."==r||"."==r)r="";else if(-1!=r.indexOf("./")||-1!=r.indexOf("/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var a=[],o=0;o<r.length;){var u=r[o++];"."==u?i&&o==r.length&&a.push(""):".."==u?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),i&&o==r.length&&a.push("")):(a.push(u),i=!0)}r=a.join("/")}}return n?t.ma=r:n=""!==e.a.toString(),n?kt(t,It(e.a)):n=!!e.Ob,n&&(t.Ob=e.Ob),t};var Ii=/[#\/\?@]/g,Ci=/[#\?:]/g,Ai=/[#\?]/g,Pi=/[#\?@]/g,Mi=/#/g;xt.prototype.a=null,xt.prototype.g=null,xt.prototype.add=function(e,t){if(!this.a&&(this.a={},this.g=0,this.f))for(var n=this.f.split("&"),r=0;r<n.length;r++){var i=n[r].indexOf("="),a=null;if(0<=i){var o=n[r].substring(0,i);a=n[r].substring(i+1)}else o=n[r];o=decodeURIComponent(o.replace(/\+/g," ")),a=a||"",this.add(o,decodeURIComponent(a.replace(/\+/g," ")))}return this.f=null,(n=this.a.hasOwnProperty(e)&&this.a[e])||(this.a[e]=n=[]),n.push(t),null!==this.g&&this.g++,this},xt.prototype.toString=function(){if(this.f)return this.f;if(!this.a)return"";var e,t=[];for(e in this.a)for(var n=encodeURIComponent(e),r=this.a[e],i=0;i<r.length;i++){var a=n;""!==r[i]&&(a+="="+encodeURIComponent(r[i])),t.push(a)}return this.f=t.join("&")},y.zl=function(){function t(){(0,d.Z)(this,t),this.f=[],this.g=[],this.m=!1,this.j=new y.An,this.a={},this.h=0,this.a.data=ti,!e.fetch||!e.AbortController||y.vh(6)||y.yh()&&68<y.Th().browserVersion.major?(this.a.http=Gr,this.a.https=Gr):(this.a.http=Qr,this.a.https=Qr)}return(0,h.Z)(t,[{key:"zf",value:function(e){0<e?y.z("Rate limit set to "+e+"bps"):y.z("Rate limit disabled"),this.h=e}},{key:"release",value:function(){return this.j.destroy()}},{key:"destroy",value:function(){return this.m=!0,this.f=[],this.g=[],this.j.destroy()}},{key:"Me",value:function(e){this.f.push(e)}},{key:"Vc",value:function(e){this.g.push(e)}},{key:"vf",value:function(e){this.f=this.f.filter((function(t){return t!==e}))}},{key:"Gd",value:function(e){this.g=this.g.filter((function(t){return t!==e}))}},{key:"fetch",value:function(e){var t=this;if(this.m)return new So(Promise.reject(new y.H(1,1,7001,{url:e.uris[e.uriIndex],request:e})));this.h&&0<this.h&&(e.rateLimitBps=this.h);var n,r=[],i=(0,g.Z)(this.f);try{for(i.s();!(n=i.n()).done;){var a=n.value;r.push(a)}}catch(E){i.e(E)}finally{i.f()}if(e.requestModifiers){var o,u=(0,g.Z)(e.requestModifiers);try{for(u.s();!(o=u.n()).done;){var s=o.value;r.push(s)}}catch(E){u.e(E)}finally{u.f()}}e.requestModifiers=r,r=[];var l,c,f=(0,g.Z)(this.g);try{for(f.s();!(l=f.n()).done;){var d=l.value;r.push(d)}}catch(E){f.e(E)}finally{f.f()}if(e.responseModifiers){var h,p=(0,g.Z)(e.responseModifiers);try{for(p.s();!(h=p.n()).done;){var v=h.value;r.push(v)}}catch(E){p.e(E)}finally{p.f()}}e.responseModifiers=r,v=d=new y.Hj;try{var m,b=(0,g.Z)(e.requestModifiers);try{var w=function(){var e=m.value;v=v.then((function(t){if(c.a)throw new y.H(y.G,1,7001,t?{url:t.uris[t.uriIndex],request:t}:null);return e(t)||t})).catch((function(e){if(e instanceof y.H)throw e;throw new y.H(y.G,1,1006,null,e)}))};for(b.s();!(m=b.n()).done;)w()}catch(E){b.e(E)}finally{b.f()}v=v.then((function(e){var n=new y.dh(e.uris[e.uriIndex]),r=n.La;if(r||(r=(r=location.protocol).slice(0,-1),bt(n,r),e.uris[e.uriIndex]=n.toString()),!(r=t.a[r]))throw new y.H(y.G,1,1e3,{url:n.toString()});return{request:e,plugin:n=r}})),c=new So(v);var k,T=(0,g.Z)(e.responseModifiers);try{var S=function(){var e=k.value;c.then((function(t){var n=function(){if(c.a)throw new y.H(y.G,1,7001,t?{url:t.request.uris[t.request.uriIndex],request:t.request}:null)};n();var r=e(t)||t;return n(),r})).catch((function(t){if(t instanceof y.H&&t.data&&t.data.response){var n=e(t.data.response);if(n)return n.then((function(){return Promise.reject(t)}))}return Promise.reject(t)})).catch((function(e){if(e instanceof y.H)throw e;throw new y.H(y.G,1,1007,null,e)}))};for(T.s();!(k=T.n()).done;)S()}catch(E){T.e(E)}finally{T.f()}return y.ch(this.j,c),d.resolve(e),c}catch(s){return new So(Promise.reject(s))}}}]),t}(),y.zl.prototype.fetch=y.zl.prototype.fetch,y.zl.prototype.removeResponseModifier=y.zl.prototype.Gd,y.zl.prototype.removeRequestModifier=y.zl.prototype.vf,y.zl.prototype.addResponseModifier=y.zl.prototype.Vc,y.zl.prototype.addRequestModifier=y.zl.prototype.Me,y.zl.prototype.setRateLimit=y.zl.prototype.zf;var Ni=(0,h.Z)((function e(){(0,d.Z)(this,e)}));y.x($,Ni),Ni.getInfo=y.Th;var Ri=null,Di=null,_i=new y.O($),Li="android",Oi="ios",Zi="linux",ji="osx",Ui="windows",Fi="tizen",Hi="webos",zi=ge,Gi=ge,Bi={windows:{os_version:/windows\s+?nt\s([\d.]+)/i,ie:/windows\s+?nt.+?trident\/[\d.]+.*rv:([\d.]+)/i,edge:/windows\s+?nt.+?edge?\/([\d.]+)/i,chrome:/windows\s+?nt.+?chrome\/([\d.]+)/i,firefox:/windows\s+?nt.+?firefox\/([\d.]+)/i,opera:/windows\s+?nt.+?opr\/([\d.]+)/i},osx:{os_version:/macintosh.+?([\d._]+)/i,safari:/macintosh.+?version\/([\d._]+).+?safari/i,edge:/macintosh.+?edge?\/([\d._]+)/i,chrome:/macintosh.+?chrome\/([\d._]+)/i,firefox:/macintosh.+?firefox\/([\d._]+)/i,opera:/macintosh.+?opr\/([\d._]+)/i},unknown:{ie:/.+?trident\/([\d.]+)/i,edge:/.+?edge?\/([\d.]+)/i,safari:/.+?version\/([\d._]+).+?safari/i,chrome:/.+?chrome\/([\d._]+)/i,firefox:/.+?firefox\/([\d._]+)/i,opera:/.+?opr\/([\d._]+)/i},android:{os_version:/android.+?([\d._]+)/i,chrome:/android.+?chrome\/([\d._]+)/i,firefox:/android.+?firefox\/([\d._]+)/i,opera:/android.+?opr\/([\d._]+)/i},ios:{os_version:/(?:iPad|iPhone).+?([\d._]+)/i,chrome:/.+?CriOS\/([\d._]+)/i,firefox:/.+?FxiOS\/([\d._]+)/i,safari:/.+?version\/([\d._]+).+?safari/i,opera:/.+?opr\/([\d._]+)/i},linux:{os_version:/linux.+?([\d._]+)/i,safari:/linux.+?version\/([\d._]+).+?safari/i,chrome:/linux.+?chrome\/([\d._]+)/i,firefox:/linux.+?firefox\/([\d._]+)/i,opera:/linux.+?opr\/([\d._]+)/i},tizen:{os_version:/tizen.+?([\d._]+)/i,safari:/linux.+?version\/([\d._]+).+?safari/i,chrome:/linux.+?chrome\/([\d._]+)/i,firefox:/linux.+?firefox\/([\d._]+)/i,opera:/linux.+?opr\/([\d._]+)/i},webos:{os_version:/linux.+?([\d._]+)/i,safari:/linux.+?version\/([\d._]+).+?safari/i,chrome:/linux.+?chrome\/([\d._]+)/i,firefox:/linux.+?firefox\/([\d._]+)/i,opera:/linux.+?opr\/([\d._]+)/i}},Vi=(0,h.Z)((function e(){(0,d.Z)(this,e)}));y.x("clpp.utils.PlayerConfiguration",Vi),Vi.create=y.Yh;var Wi,Ki=["abort",B,V,te,"emptied",ne,y.Nc,y.Oc,"interruptbegin","interruptend",y.cd,y.dd,ue,"mozaudioavailable",y.Dd,y.Jd,y.Kd,y.Nd,y.Pd,y.Wd,y.Xd,he,"suspend",y.me,"volumechange",y.He,y.Ie,y.Ud,Te,ke,be,we];y.Jn=function(e){(0,o.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,d.Z)(this,n),(r=t.call(this)).log=new y.O(e),r.configuration=r.ec=y.Wh(),r.o=r.A=null,r.Mc=r.od=!1,r.Ee=new y.O("clpp.video.events"),r.Hc=null,r.hc=-1,r.Ke=r.Ie.bind((0,a.Z)(r)),r.le=new y.zl,r.K=new y.cn,r.na=r.fc=r.J=null,r}return(0,h.Z)(n,[{key:"init",value:function(e,t){this.configuration=this.ec=t,this.A=e,this.log.info("Initializing Player surface"),e=this.A.getMedia(),this.log.info("Attaching media element listeners");for(var n=0,r=Ki;n<r.length;n++){var i=r[n];this.K.on(e,i,this.Ke,i!==y.Oc)}this.Hc||(this.Hc=this.te()),this.Hc.j(this),this.A.showMediaElement()}},{key:"release",value:function(){return this.J&&(this.J.destroy(),this.J=null),Promise.resolve()}},{key:"destroy",value:function(){return this.K.release(),Promise.resolve()}},{key:"canPlay",value:function(e,t){return y.zf[this.namespace()].canPlay(e,t)}},{key:"play",value:function(){var e=this;if(!this.o)return Promise.reject("No sources specified yet. You need to load content before calling play.");var t=this.A.getMedia().play();return Promise.resolve(t).catch((function(t){e.log.info("Caught play promise exception",t);var n=t.message||"",r=t.stack||"";throw"NotAllowedError"===(t.name||"")&&(0===r.indexOf(y.Jd)||0<=n.indexOf(y.Jd))&&(e.trigger(new y.F(y.Xb)),e.log.warn(y.ia)),t}))}},{key:"pause",value:function(){var e=this;return this.o?new Promise((function(t,n){var r=e.getState();r!==y.uk&&r!==y.rk&&r!==y.Ck&&r!==y.Bk?n():(e.A.getMedia().pause(),e.getState()===y.Ck?e.K.one(e,y.be,(function(){t()})):t())})):Promise.reject("No sources specified yet. You need to load content before calling pause.")}},{key:"isPaused",value:function(){return this.A.getMedia().paused}},{key:"isEnded",value:function(){return this.A.getMedia().ended}},{key:"getConfiguration",value:function(){return this.configuration}},{key:"setDrmCustomDataModifier",value:function(e){this.fc=e}},{key:"setCdnErrorCallback",value:function(e){this.na=e}},{key:"jc",value:function(){return this.fc}},{key:"getSurface",value:function(){return this.A}},{key:"getBufferInfo",value:function(e){var t=this.getSurface().getMedia();return new y.yn(t?t.buffered:void 0,e)}},{key:"getPosition",value:function(){var e=this.A.getMedia();return e?e.currentTime:(this.log.warn("No media element available, can not report current time!"),0)}},{key:"seek",value:function(e){var t=this,n=this.getPosition();if(void 0===e||null===e||typeof e!==y.p||e===n)return Promise.resolve();var r=this.A.getMedia();if(!r)return this.log.warn("No media element available, can not set current time!"),Promise.reject();var i=e-n;return.1>=Math.abs(i)?(this.log.info("Skip seek. Delta "+Math.abs(i)+" < 0.1"),Promise.resolve()):new Promise((function(a,o){var u=function(){t.trigger(new y.F(y.ue)),t.K.on(r,y.Wd,s),t.K.on(r,y.me,s),t.K.on(r,y.Nd,s),t.log.info("Seeking to "+e+". Delta "+i),t.Mc=t.od=!0,r.currentTime=e},s=function i(o){var u=t.getPosition(),s=.1>=Math.abs(e-u),l=.25<u-e,c=r.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA,f=o.type===y.Wd,d=o.type===y.Nd,h=o.type===y.me,p=d&&c;l=f||s&&p||h&&l,t.log.debug("Checking seeking state after "+o.type+" event. Seek completed:",l,"Current Time:",u,"Target Time:",e,"Native Event:",f,"Time reached",s,"Timeupdate:",h,"Progress:",d,"ReadyState:",c,"Progress Ready:",p),l?(t.Mc=t.od=!1,t.K.off(r,y.Wd,i),t.K.off(r,y.me,i),t.K.off(r,y.Nd,i),t.De(),t.trigger(new y.F(y.te)),a()):d&&n===u&&(t.log.debug("Seek seemed to have been ignored. Trying again"),r.currentTime=e)},l=function(){r.readyState>HTMLMediaElement.HAVE_NOTHING?u():t.K.one(r,y.dd,u)};t.getState()===y.zk?(t.log.debug("Player is in IDLE state. Postpone seek."),t.K.one(t,y.be,(function(){switch(t.getState()){case y.uk:case y.Ck:case y.Bk:t.log.debug("Valid seek state reached."),l();break;default:t.log.warn("Invalid seek target state. Aborting seek"),o()}}))):l()}))}},{key:"getVolume",value:function(){var e=this.A.getMedia();return e?e.volume:(this.log.warn("No media element available, can not report volume!"),null)}},{key:"setVolume",value:function(e){var t=this.A.getMedia();t?y.gf(e)?0>e||1<e?this.log.warn("Can not set volume to ".concat(e,".\n          Value must be between 0 and 1.")):t.volume=e:this.log.warn("Can not set volume to "+e+". Volume must be a number"):this.log.warn("No media element available, can not set volume !")}},{key:"isMuted",value:function(){return this.A.getMedia().muted}},{key:"setMuted",value:function(e){var t=this.A.getMedia();typeof e===y.Zb&&(t.muted=e)}},{key:"getDuration",value:function(){return this.o?this.A.getMedia().duration:-1}},{key:"getTrackManager",value:function(){return this.Hc}},{key:"getPlaybackRate",value:function(){var e=this.A.getMedia();return e&&e.playbackRate||1}},{key:"setPlaybackRate",value:function(e){var t=this.A.getMedia();void 0!==e&&t&&(t.playbackRate=e)}},{key:"setSourceIndex",value:function(e){this.hc=e}},{key:"getSourceIndex",value:function(){return this.hc}},{key:"getLoadedSource",value:function(){return this.o&&-1!==this.hc?this.o[this.hc]:null}},{key:"getPeriods",value:function(){return[]}},{key:"getNetworkEngine",value:function(){return this.le}},{key:"setNetworkEngine",value:function(e){this.le=e}},{key:"getTextDisplayer",value:function(){return this.J}},{key:"getTimelineCues",value:function(){return[]}},{key:"resetAbr",value:function(){}},{key:"Ie",value:function(e){var t=this.getSurface().getMedia(),n=this.getPosition(),r="Received Video Element Event: '"+e.type+"' with playhead at: "+n;if(e.type===y.me||e.type===y.Nd)this.Ee.debug(r);else{var i="";switch(e.type){case y.Pd:i="Rate: ".concat(this.getPlaybackRate());break;case te:i="Duration: ".concat(this.getDuration());break;case"volumechange":i="Volume: ".concat(this.getVolume()," Muted: ").concat(this.isMuted());break;case y.Jd:case y.Kd:case"suspend":case y.He:case he:case y.Xd:case y.Wd:case y.me:case y.Nd:case B:case V:t=this.getBufferInfo().va(n),i="State ".concat(this.getSurface().getMedia().readyState," ")+"Buffer: ".concat(t);break;case y.Ud:null!=t&&(i="Size: ".concat(t.videoWidth,"x").concat(t.videoHeight))}i&&(r+=". "+i),this.Ee.info(r)}e.type!==y.Oc&&this.trigger(new y.F(e.type,{detail:e}))}},{key:"De",value:function(){}}]),n}(y.zn),y.Jn.prototype.getTextDisplayer=y.Jn.prototype.getTextDisplayer,y.Jn.prototype.setNetworkEngine=y.Jn.prototype.setNetworkEngine,y.Jn.prototype.getNetworkEngine=y.Jn.prototype.getNetworkEngine,Wi=new y.O("clpp.Components"),y.$h=new Map;var qi=(0,h.Z)((function e(){(0,d.Z)(this,e)}));y.x("clpp.utils.Uint8ArrayUtils",qi),qi.toStandardBase64=y.ei,qi.concat=y.mi,qi.equal=y.li,qi.toHex=y.ki,qi.fromHex=y.ji,qi.fromBase64=y.ii,qi.toBase64Url=y.fi;var Yi=function(){function e(){(0,d.Z)(this,e),this.a=this.f=null,this.g=new y.O("clpp.drm.csl")}return(0,h.Z)(e,[{key:"release",value:function(){this.a=this.f=null}}]),e}(),Xi={SW_SECURE_CRYPTO:y.Xa,SW_SECURE_DECODE:y.Ya,HW_SECURE_CRYPTO:S,HW_SECURE_DECODE:E,HW_SECURE_ALL:"HW_SECURE_ALL"};y.x("clpp.drm.WidevineRobustnessLevel",Xi),y.x("clpp.drm.RobustnessLevel",Xi),y.x("clpp.drm.PlayreadyRobustnessLevel",{SL150:"150",SL2000:"2000",SL3000:"3000"}),y.x("clpp.drm.KeySystem",{NONE:y.qd,CLEAR_KEY:y.Bd,WIDEVINE:y.yc,PLAYREADY:y.xc,FAIRPLAY:y.wc,PRIMETIME:y.vc}),y.qi={},y.x("clpp.drm.registerDrmEnvironment",y.ri);var $i={V1_STAGING:[10,191,2,8,3,18,16,40,112,52,84,192,8,246,54,24,173,231,68,61,182,196,200,24,139,231,249,144,5,34,142,2,48,130,1,10,2,130,1,1,0,181,33,18,184,208,93,2,63,204,93,149,226,194,81,193,198,73,180,23,124,216,210,190,239,53,91,176,103,67,222,102,30,61,42,188,49,130,183,153,70,213,95,220,8,223,233,84,7,129,94,154,98,116,179,34,162,199,245,224,103,187,95,10,192,122,137,212,90,234,148,178,81,111,7,91,102,239,129,29,13,38,225,185,166,184,148,242,185,133,121,98,170,23,28,79,102,99,13,62,76,96,39,24,137,127,94,30,249,182,170,245,173,77,186,42,126,20,23,109,241,52,161,211,24,91,90,33,138,192,90,76,65,240,129,239,255,128,163,160,64,197,11,9,187,199,64,238,220,216,241,77,103,90,145,152,15,146,202,125,220,100,106,6,173,173,81,1,247,74,14,73,140,192,31,0,83,43,172,33,120,80,189,144,94,144,146,54,86,183,223,239,239,66,72,103,103,243,62,246,40,61,79,66,84,171,114,88,147,144,190,229,88,8,241,214,104,8,13,69,216,147,194,188,162,247,77,96,160,192,208,160,153,60,239,1,96,71,3,51,76,54,56,19,148,134,188,157,175,36,253,103,160,127,154,217,67,2,3,1,0,1,58,18,115,116,97,103,105,110,103,46,103,111,111,103,108,101,46,99,111,109,18,128,3,152,62,48,53,38,117,244,11,167,21,252,36,155,218,229,212,172,114,73,162,102,101,33,228,54,85,115,149,41,114,31,248,128,224,170,239,197,226,123,201,128,218,234,218,191,63,195,134,208,132,160,44,130,83,120,72,204,117,63,244,151,176,17,167,218,151,120,138,0,226,170,107,132,205,125,113,192,122,72,235,246,22,2,204,165,163,243,32,48,167,41,92,48,218,145,91,145,220,24,185,188,149,147,184,222,139,181,15,13,237,193,41,56,184,233,224,57,205,222,24,250,130,232,27,176,50,99,15,233,85,216,90,86,108,225,84,48,11,246,212,193,189,18,105,102,53,107,40,125,101,123,24,206,99,208,239,212,95,197,38,158,151,234,177,28,181,99,229,86,67,178,111,244,159,16,156,33,1,175,202,243,91,131,47,40,143,13,157,69,150,14,37,158,133,251,93,36,219,210,207,130,118,76,93,217,191,114,126,251,233,200,97,248,105,50,31,106,222,24,144,95,77,146,249,166,218,101,54,219,132,117,135,29,22,142,135,11,178,48,60,247,12,110,151,132,201,61,45,232,69,173,130,98,190,126,13,78,46,74,7,89,206,248,45,16,157,37,146,199,36,41,248,192,23,66,186,226,179,222,202,219,195,60,62,95,75,175,94,22,236,183,78,173,186,252,183,198,112,95,122,158,59,111,57,64,56,63,156,81,22,210,2,162,12,146,41,238,150,156,37,25,113,131,3,181,13,1,48,195,53,46,6,176,20,216,56,84,15,138,12,34,124,0,17,224,245,179,142,78,41,142,210,203,48,30,180,86,73,101,245,92,93,121,117,122,37,10,78,185,200,74,179,230,83,159,107,111,223,86,137,158,162,153,20],V1_PROD:[10,193,2,8,3,18,16,23,5,185,23,204,18,4,134,139,6,51,58,47,119,42,140,24,130,180,130,146,5,34,142,2,48,130,1,10,2,130,1,1,0,153,237,91,59,50,125,171,94,36,239,195,182,42,149,181,152,82,10,213,188,203,55,80,62,6,69,184,20,216,118,184,223,64,81,4,65,173,140,227,173,177,27,184,140,78,114,90,94,74,158,7,149,41,29,88,88,64,35,167,225,175,14,56,169,18,121,57,48,8,97,11,111,21,140,135,140,126,33,191,251,254,234,119,225,1,158,30,87,129,232,164,95,70,38,61,20,230,14,128,88,168,96,122,220,224,79,172,132,87,177,55,168,214,124,205,235,51,112,93,152,58,33,251,78,236,189,74,16,202,71,73,12,164,126,170,93,67,130,24,221,186,241,202,222,51,146,241,61,111,251,100,66,253,49,225,191,64,176,198,4,209,196,186,76,149,32,164,191,151,238,189,96,146,154,252,238,245,91,186,245,100,226,208,231,108,215,197,92,115,160,130,185,150,18,11,131,89,237,206,36,112,112,130,104,13,111,103,198,216,44,74,197,243,19,68,144,167,78,236,55,175,75,47,1,12,89,232,40,67,226,88,47,11,107,159,93,176,252,94,110,223,100,251,211,8,180,113,27,207,18,80,1,156,159,90,9,2,3,1,0,1,58,20,108,105,99,101,110,115,101,46,119,105,100,101,118,105,110,101,46,99,111,109,18,128,3,174,52,115,20,181,168,53,41,127,39,19,136,251,123,184,203,82,119,210,73,130,60,221,209,218,48,185,51,57,81,30,179,204,189,234,4,185,68,185,39,193,33,52,110,253,189,234,201,212,19,145,126,110,193,118,161,4,56,70,10,80,59,193,149,43,155,164,228,206,15,196,191,194,10,152,8,170,175,75,252,209,156,29,207,205,245,116,204,172,40,209,180,16,65,108,249,222,136,4,48,28,189,179,52,202,252,208,212,9,120,66,58,100,46,84,97,61,240,175,207,150,202,74,146,73,216,85,228,43,58,112,62,241,118,127,106,155,211,109,107,248,43,231,107,191,12,186,79,222,89,210,171,204,118,254,182,66,71,184,92,67,31,188,165,34,102,182,25,252,54,151,149,67,252,169,203,189,187,250,250,14,26,85,231,85,163,199,188,230,85,249,100,111,88,42,185,207,112,170,8,185,121,248,103,246,58,11,43,127,219,54,44,91,196,236,213,85,216,91,202,169,197,147,195,131,200,87,212,157,170,183,126,64,183,133,29,223,210,73,152,128,142,53,178,88,231,93,120,234,192,202,22,247,4,115,4,194,13,147,237,228,232,255,28,111,23,230,36,62,63,61,168,252,23,9,135,14,196,95,186,130,58,38,63,12,239,161,247,9,59,25,9,146,131,38,51,55,5,4,58,41,189,166,249,180,52,44,200,223,84,60,177,161,24,47,124,95,255,51,241,4,144,250,202,91,37,54,11,118,1,94,156,90,6,171,142,224,47,0,210,232,213,152,97,4,170,204,77,212,117,253,150,238,156,228,227,38,242,27,131,199,5,133,119,179,135,50,205,218,188,106,107,237,19,251,13,73,211,138,69,235,135,165,244],V2:[10,187,2,8,3,18,16,160,220,209,96,48,44,4,19,213,32,118,162,12,129,36,76,24,191,132,241,238,5,34,142,2,48,130,1,10,2,130,1,1,0,188,93,207,198,77,28,25,14,217,103,5,56,106,241,93,252,216,61,104,36,3,52,23,246,32,9,11,77,12,188,251,189,53,137,249,11,36,52,104,185,13,221,170,204,238,44,227,192,167,199,144,75,188,190,7,211,16,145,75,13,132,119,167,164,29,39,107,69,76,50,161,131,132,248,207,237,214,130,27,113,204,37,77,14,232,248,26,85,213,126,147,7,183,241,23,44,117,142,192,109,70,192,86,166,21,58,231,13,118,215,58,166,74,44,51,103,50,120,198,197,213,64,34,105,66,115,72,235,88,51,28,238,54,93,147,140,187,28,173,50,109,5,234,155,141,29,52,234,135,38,55,103,111,116,98,171,210,13,211,129,249,70,57,64,155,151,38,8,225,188,229,3,247,234,26,46,91,211,250,252,38,87,111,205,37,108,74,168,112,74,116,191,73,170,243,167,54,36,20,23,72,67,35,181,159,241,102,250,221,22,18,92,161,54,236,172,183,214,18,160,199,92,46,171,180,211,90,64,62,144,121,201,77,74,211,17,244,49,124,244,120,116,148,234,184,79,136,12,176,34,231,39,149,87,28,219,2,3,1,0,1,58,12,99,97,115,116,108,97,98,115,46,99,111,109,64,1,18,128,3,50,97,151,165,120,63,210,172,84,187,10,36,166,202,149,32,118,107,37,251,186,217,170,254,4,95,20,85,66,157,43,154,24,66,136,147,101,223,78,204,173,228,175,111,100,168,97,164,222,84,160,51,79,233,227,223,105,252,85,11,242,129,199,206,11,9,236,118,163,118,204,179,159,69,108,223,229,114,176,8,26,36,9,23,103,233,62,55,162,154,209,96,98,102,80,173,114,233,213,36,56,135,65,188,245,176,95,70,189,199,143,81,72,182,124,207,225,238,28,172,144,110,89,44,12,137,51,52,239,130,117,119,15,207,200,229,142,166,8,80,79,111,255,191,70,47,189,108,75,234,184,241,119,21,255,98,167,124,132,30,239,102,113,7,132,96,39,134,123,220,209,255,110,222,35,147,0,77,125,253,129,139,66,158,126,221,13,117,113,163,143,235,9,130,180,3,133,94,152,45,199,69,168,182,95,122,82,25,203,10,99,191,186,193,238,225,224,140,156,142,171,110,26,214,32,240,6,218,138,10,47,114,133,17,1,151,43,213,223,198,210,186,81,18,50,221,84,177,180,26,58,164,235,113,177,235,207,22,230,8,119,76,167,166,176,173,209,214,53,116,116,231,227,221,238,174,87,249,19,166,195,81,47,210,172,15,75,251,202,192,80,85,213,23,17,178,104,181,193,115,239,91,72,230,167,55,143,10,250,26,54,8,60,13,213,206,235,3,215,179,205,232,1,144,158,35,48,196,149,117,219,63,196,130,117,40,165,193,65,215,122,44,201,218,67,216,6,131,178,5,168,229,21,137,112,215,254,127,48,160,181,68,49,255,64,46,247,236,85,155,146,208,5,219,252,37,174,31,218,136,135,55,119,112]};y.Nn=function(){function e(t){(0,d.Z)(this,e),this.I=t,this.g={}}return(0,h.Z)(e,[{key:"Ba",value:function(e,t){this.g[e]=t}}]),e}(),y.x("clpp.drm.DrmEnvironment",y.Nn),y.Nn.prototype.setDrmSystem=y.Nn.prototype.Ba,y.Li=function(){function e(t,n){(0,d.Z)(this,e),this.f=y.gf(t)?new DataView(new ArrayBuffer(t),0,t):t,this.a=0,this.g=!!n,this.buffer=this.f.buffer}return(0,h.Z)(e,[{key:"getPosition",value:function(){return this.a}},{key:"ya",value:function(){return this.f.byteLength}},{key:"seek",value:function(e){(0>e||e>this.f.byteLength)&&y.xi(),this.a=e}}]),e}(),y.Li.prototype.seek=y.Li.prototype.seek,y.On=function(){function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,d.Z)(this,e),this.f=t,this.g=n,this.a=0}return(0,h.Z)(e,[{key:"getPosition",value:function(){return this.a}},{key:"ya",value:function(){return this.f.byteLength}},{key:"skip",value:function(e){this.a+e>this.f.byteLength&&y.Ai(),this.a+=e}},{key:"seek",value:function(e){if(0>e||e>this.f.byteLength)throw y.Ai();this.a=e}}]),e}(),y.Ji=function(){return(0,h.Z)((function t(n){(0,d.Z)(this,t),this.scheme=null;var r=document.createElement("a"),i=n.match(/^(.*:)(\/\/(.*))$/),a=!1;i?(this.scheme=i[1],r.href=i[2],(":"===r.protocol||""===r.host&&""===r.pathname)&&(r.href="//dummy.com/"+i[3],a=!0)):(r.href=n,(":"===r.protocol||""===r.host&&""===r.pathname)&&(r.href="//dummy.com/"+n.match(/\/?\/?(.*)/)[1],a=!0),this.scheme=r.protocol),""===this.scheme&&(this.scheme=e.location.protocol),this.f=a?"":r.hostname,this.port=r.port,this.path=r.pathname,y.ng(this.path,"/")||(this.path="/"+this.path),this.a=r.search,this.g=r.hash}))}(),y.x("clpp.utils.url.queryString",y.Gi);var Ji=(0,h.Z)((function e(){(0,d.Z)(this,e)}));y.x("clpp.utils.FairplayUtils",Ji),Ji.parseFairPlayResponse=y.Oi,Ji.formatFairPlayRequest=y.Ni,Ji.createFairplayPayload=Vt,Ji.extractContentId=y.Ki,Ji.extractExtXKeyUri=Bt;var Qi=new y.O("clpp.drm.DrmToday"),ea="PRODUCTION",ta="STAGING",na="TEST",ra={PRODUCTION:ea,STAGING:ta,TEST:na};y.x("clpp.drm.DrmToday.Environment",ra),y.x("clpp.drm.DrmToday.WidevineCertificates",{V1_PROD:"V1_PROD",V1_STAGING:"V1_STAGING",V2:"V2"});for(var ia="/license-proxy-widevine/cenc/",aa="/license-proxy-headerauth/drmtoday/RightsManager.asmx",oa="/license-server-fairplay/",ua={"00000":"Success","01000":"General Internal Error","02000":"General Request Error","03000":"General Request Authentication Error",3e4:"General DRM error",4e4:"General Widevine Modular error",40001:"Widevine Device Certificate Revocation (wv 127)",40002:"Widevine Device Certificate Revocation - Permanently (wv 175)",41e3:"General Widevine Classic error",42e3:"General Playready error",43e3:"General Fairplay error",44e3:"General OMA error",44001:"OMA Device registration failed",45e3:"General CDRM error",45001:"CDRM Device registration failed",6e4:"CSL",60001:"CSL - INVALID",60100:"CSL - Denied by Stream Limiting",7e4:"General Output Protection",70001:"All keys filtered by EOP settings",8e4:"TAKE DOWN",80001:"TAKE DOWN - Denied by Take Down",9e4:"General GBL error",90001:"License delivery prohibited in your region"},sa=[y.Ya,void 0],la=[y.Xa,void 0],ca=["3000"],fa=["2000"],da=0,ha=Object.keys(ra);da<ha.length;da++){var pa=ha[da],va=w;pa!==ea&&(va+="_".concat(pa));var ga=new y.Nn(va),ma=null;switch(pa){case ea:ma=Ht("V1_PROD");break;case ta:ma=Ht("V2");break;case na:ma=null}ga.Ba(y.yc,{licenseUrl:Wt(y.yc,pa),videoRobustness:sa,audioRobustness:la,persistentStateRequired:!1,distinctiveIdentifierRequired:!1,serverCertificate:ma,modifiers:{licenseRequest:y.Vi,licenseResponse:y.Wi}}),ga.Ba(y.wc,{licenseUrl:Wt(y.wc,pa),certificateUrl:qt(pa)+"/license-server-fairplay/cert/",modifiers:{licenseRequest:y.Yi,licenseResponse:y.Zi,extractContentId:y.$i,certificateRequest:y.aj}}),ga.Ba(y.xc,{licenseUrl:Wt(y.xc,pa),videoRobustness:ca,audioRobustness:fa,modifiers:{licenseRequest:Kt}}),y.ri(ga)}var ya=(0,h.Z)((function e(){(0,d.Z)(this,e)}));y.x("clpp.drm.eme.EmeFactory",ya);var ba=[];ya.Apis={STANDARD:L,APPLE:"APPLE",WEBKIT:"WEBKIT",NOP:"NOP"},y.Yn=function(){function e(){(0,d.Z)(this,e),this.g=[],this.f=[],this.a=!1,this.h=new y.O("clpp.mp4")}return(0,h.Z)(e,[{key:"M",value:function(e,t){return e=Qt(e),this.g[e]=Ta,this.f[e]=t,this}},{key:"X",value:function(e,t){return e=Qt(e),this.g[e]=Sa,this.f[e]=t,this}},{key:"stop",value:function(){this.a=!0}},{key:"parse",value:function(e,t){for(e=y.L(e),e=new y.On(new DataView(e.buffer,e.byteOffset,e.byteLength),!1),this.a=!1;y.zi(e)&&!this.a;)this.Qc(0,e,t)}},{key:"Qc",value:function(e,t,n){var r=t.getPosition(),i=y.N(t),a=y.N(t),o=!1;switch(this.h.debug("Parsing MP4 box",y.lj(a)),i){case 0:i=t.ya()-r;break;case 1:i=y.Di(t),o=!0}var u=this.f[a];if(u){var s=null,l=null;this.g[a]==Sa&&(s=(l=y.N(t))>>>24,l&=16777215),a=t.getPosition()-r;var c=r+i;n&&c>t.ya()&&(c=t.ya()),c-=t.getPosition(),t=0<c?y.Ei(t,c):new Uint8Array(0),u({Za:this,se:n||!1,version:s,flags:l,G:t=new y.On(new DataView(t.buffer,t.byteOffset,t.byteLength),!1),size:i,start:r+e,kd:a,hf:o})}else e=Math.min(r+i-t.getPosition(),t.ya()-t.getPosition()),t.skip(e)}}]),e}(),y.x("clpp.utils.Mp4Parser",y.Yn),y.Yn.typeToString=y.lj,y.Yn.allData=y.oj,y.Yn.sampleDescription=y.nj,y.Yn.children=y.mj,y.Yn.prototype.parseNext=y.Yn.prototype.Qc,y.Yn.prototype.parse=y.Yn.prototype.parse,y.Yn.prototype.stop=y.Yn.prototype.stop,y.Yn.prototype.fullBox=y.Yn.prototype.X,y.Yn.prototype.box=y.Yn.prototype.M,y.Yn.headerSize=y.pj;var wa,ka,Ta=0,Sa=1,Ea=function(){function e(t){(0,d.Z)(this,e),this.f=[],this.g=[],this.a=[],8<=t.byteLength&&(new y.Yn).X("pssh",this.h.bind(this)).parse(t.buffer),0==this.a.length&&y.z("No pssh box found!")}return(0,h.Z)(e,[{key:"h",value:function(e){if(1<e.version)y.z("Unrecognized PSSH version found!");else{var t=y.ki(y.Ei(e.G,16)),n=[];if(0<e.version)for(var r=y.N(e.G),i=0;i<r;++i){var a=y.ki(y.Ei(e.G,16));n.push(a)}r=y.N(e.G),e.G.skip(r),this.g.push.apply(this.g,n),this.f.push(t),this.a.push({start:e.start,end:e.start+e.size-1}),e.G.getPosition()!=e.G.ya()&&y.z("Mismatch between box size and data size!")}}}]),e}();y.Lk=function(){function e(t){var n=this;(0,d.Z)(this,e),this.j=t,this.J=new Set,this.A=this.F=this.o=null,this.R=!1,this.f=null,this.I=ka,this.w=new y.cn,this.K=new Yi,this.g=new Map,this.H=[],this.D=new y.Hj,this.h=null,this.U=function(e){n.m=!0,n.B=!1,n.D.reject(e),t.onError(e)},this.ga=new Map,this.V=new Map,this.S=new y.rh((function(){return sn(n)})),this.ka=!1,this.aa=new y.Hj,this.C=!1,this.T=[],this.ca=!1,this.N=0,this.a=new y.O("clpp.drm.DrmEngine"),this.W=new y.rh((function(){ln(n)})).Pa(1),this.D.catch((function(){})),this.m=this.B=!1,this.L=null}return(0,h.Z)(e,[{key:"destroy",value:function(){var e=this;return y.v((0,v.Z)().mark((function t(){return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.ka){t.next=5;break}return t.next=3,e.aa;case 3:t.next=9;break;case 5:return e.ka=!0,t.next=8,cn(e);case 8:e.aa.resolve();case 9:case"end":return t.stop()}}),t)})))}},{key:"keySystem",value:function(){return this.f?y.sj(this.f.keySystem):""}},{key:"getDrmInfo",value:function(){return this.f}},{key:"ua",value:function(e){var t=this;return y.v((0,v.Z)().mark((function n(){return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=t.C&&t.I===wa,n.t0){n.next=8;break}if(t.h.delayLicenseRequestUntilPlayed&&(!t.A||t.A.paused)&&!t.ca){n.next=7;break}return n.next=5,Tn(t,e);case 5:n.next=8;break;case 7:t.T.push(e);case 8:case"end":return n.stop()}}),n)})))}},{key:"na",value:function(e){var t=this,n=e.target;this.a.debug("Key status changed for session",n.sessionId);var r=this.g.get(n),i=!1;n.keyStatuses.forEach((function(e,a){if(typeof a==y.ee){var o=a;a=e,e=o}if(on(t.f.keySystem)&&16===a.byteLength&&y.th()){var u=(o=y.dg(a)).getUint32(0,!0),s=o.getUint16(4,!0),l=o.getUint16(6,!0);o.setUint32(0,u,!1),o.setUint16(4,s,!1),o.setUint16(6,l,!1)}e!=pe&&(r.loaded=!0),"expired"==e&&(i=!0);var c=y.ki(y.L(a));t.a.debug("Key status for",c,e),t.ga.set(c,e),r&&!r.keyId&&t.g.forEach((function(e,t){t===n||e.keyId!==c||e.loaded||(e.loaded=!0)}))})),(0>(e=n.expiration-Date.now())||i&&1e3>e)&&r&&!r.eb&&(this.a.debug("Session has expired",n.sessionId),(e=this.g.get(n))&&e.dc&&e.dc.stop(),this.g.delete(n),n.close().catch((function(){}))),kn(this)&&(this.D.resolve(),1!==this.g.size||i?this.S.$(.5):sn(this))}}]),e}(),wa=0,ka=3;var xa=function(){function e(){(0,d.Z)(this,e)}return(0,h.Z)(e,[{key:"Y",value:function(){}},{key:"create",value:function(){}}]),e}();y.x("clpp.text.TextDisplayerFactory",xa),xa.prototype.create=xa.prototype.create,xa.prototype.isSupported=xa.prototype.Y;var Ia=new Map,Ca=new y.O("clpp.text");xa.Type={HTML:"html",NATIVE:y.pd,SINGLE_NATIVE:y.Zd},y.ao=1/15;var Aa=(0,h.Z)((function e(){(0,d.Z)(this,e),this.a=null,this.f=[]})),Pa=(0,h.Z)((function e(){(0,d.Z)(this,e),this.g=this.f=this.h=null,this.a=[]}));y.eo=function(){function e(){(0,d.Z)(this,e),this.m=this.A=this.o=this.B=this.g=this.h=this.f=this.j=NaN,this.a=new Aa,this.w=new Pa}return(0,h.Z)(e,[{key:"getStats",value:function(){return{width:this.j,height:this.f,streamBandwidth:this.A,decodedFrames:this.g,droppedFrames:this.h,corruptedFrames:this.B,estimatedBandwidth:this.m,loadLatency:this.o,playTime:xn(this.a,y.Ck),pauseTime:xn(this.a,y.Bk),bufferingTime:xn(this.a,y.uk),stateHistory:In(this.a),switchHistory:Cn(this.w)}}}]),e}(),y.fo=function(){function e(t){(0,d.Z)(this,e),this.f=t,this.a=void 0}return(0,h.Z)(e,[{key:"value",value:function(){return void 0==this.a&&(this.a=this.f()),this.a}}]),e}();var Ma=new y.fo((function(){return new Map([[HTMLMediaElement.HAVE_METADATA,y.dd],[HTMLMediaElement.HAVE_CURRENT_DATA,y.cd],[HTMLMediaElement.HAVE_FUTURE_DATA,B],[HTMLMediaElement.HAVE_ENOUGH_DATA,V]])})),Na=function(){function e(t){(0,d.Z)(this,e),this.g=new y.O("clpp.StateManager"),this.l=t,this.a=new y.cn,this.f=y.zk,this.A=y.go,this.H=0,this.w=-1,this.K=this.o=this.I=this.B=0,this.j=this.m=this.D=!1,this.F=0,this.h=null,this.J=0,this.L=y.Fh(),this.C=!1,this.I=Date.now(),Pn(this)}return(0,h.Z)(e,[{key:"Ib",value:function(e,t){this.l&&this.l.trigger(new y.F(e,{detail:t}))}},{key:"getState",value:function(){return Nn(this,"")}},{key:"U",value:function(e){(e=e&&e.detail)&&e.severity&&e.severity===y.G&&Rn(this,y.yk)}},{key:"destroy",value:function(){this.g.debug("Stop watching for video events for "+this.l.namespace()),this.a.release()}}]),e}();y.x("clpp.version",y.da),y.x("clpp.name",y.la),y.x("clpp.Type",{DASH:y.Ib,HLS:y.Pb,SMOOTH_STREAMING:y.Ob,MP4:y.Be}),y.Hf="scte35",y.Ff=ge,y.x("clpp.TimelineCueType",{SCTE35:y.Hf,DASH_CALLBACK:y.od,UNKNOWN:y.Ff}),y.x("clpp.utils.media.detectType",_n);var Ra=new y.O("clpp.sources"),Da=function(e){(0,o.Z)(n,e);var t=(0,u.Z)(n);function n(){var e;return(0,d.Z)(this,n),(e=t.call(this,X)).w=e.F=!1,e.j=e.B=e.m=e.a=e.h=null,e.g=new y.cn,e.D=e.C=e.f=e.H=null,e}return(0,h.Z)(n,[{key:"init",value:function(e,t){(0,r.Z)((0,i.Z)(n.prototype),"init",this).call(this,e,t),this.h=new Na(this),Rn(this.h,y.zk)}},{key:"namespace",value:function(){return X}},{key:"unload",value:function(){var e=this;return y.v((0,v.Z)().mark((function t(){var n;return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.o){t.next=17;break}return e.log.debug(y.Ua,e.o),e.C&&(e.C.stop(),e.C=null),(n=e.getTrackManager())&&n.release(),e.B&&(e.B.destroy(),e.B=null),e.J&&(e.J.destroy(),e.J=null),e.j&&e.j.release(),e.m&&(e.m.destroy(),e.m=null),y.Df(e.g),e.f&&(e.f=new y.eo),e.D=null,e.o=null,e.F=!1,e.a&&(e.a.removeAttribute("src"),e.a.load()),t.next=17,On(e);case 17:case"end":return t.stop()}}),t)})))}},{key:"release",value:function(){var e=this;return(0,r.Z)((0,i.Z)(n.prototype),"release",this).call(this).then((function(){return e.unload()})).then((function(){e.h&&Rn(e.h,y.zk)}))}},{key:"destroy",value:function(){var e=this;return this.w?(this.log.warn("Player is already destroyed!"),Promise.resolve()):(this.w=!0,(0,r.Z)((0,i.Z)(n.prototype),"destroy",this).call(this).then((function(){return e.release()})).then((function(){e.log.debug(k);var t=e.getTrackManager();t&&t.destroy(),e.j&&(e.j.destroy().catch((function(t){e.log.warn("Error while disposing metadata handler",t)})),e.j=null),e.h&&(e.h.destroy(),e.h=null),e.f=null})))}},{key:"getDrmInfo",value:function(){return this.m?this.m.getDrmInfo():null}},{key:"load",value:function(e){var t=this;return y.v((0,v.Z)().mark((function n(){var r,i;return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.w){n.next=2;break}return n.abrupt("return",Zn());case 2:if(t.getSurface()&&t.getSurface().getMedia()){n.next=4;break}return n.abrupt("return",Promise.reject("No surface or no media element in surface"));case 4:return r=t.A.getMedia(),t.H=Date.now()/1e3,t.f=new y.eo,t.g.on(t,y.be,(function(){t.f&&y.fk(t.f.a,t.getState())})),Rn(t.h,y.Ak),t.o=y.Fk(e),y.Zh(e)&&(t.configuration=y.Yh(t.ec,e)),t.log.debug(y.Fa,t.configuration),t.log.debug(y.Ra,t.o),i=y.dk(t.configuration,["html",y.pd]),t.J=i.create(t),t.J.setTextVisibility(!0),t.configuration.enableHtmlCue&&y.ai(y.he)&&!y.Hh()&&(t.B=new bi(t),t.B.start(r)),t.j?t.j.release():t.j=new vi(t),Ue(t.j,r),t.getTrackManager().load(),r.loop=!!t.configuration.loop,y.y(t.configuration.volume)||t.setVolume(t.configuration.volume),y.y(t.configuration.muted)||t.setMuted(t.configuration.muted),t.g.one(r,B,(function(){t.trigger(new y.F(y.xn))})),n.prev=24,n.next=27,jn(t,r);case 27:return n.next=29,Un(t);case 29:return n.next=31,zn(t).O;case 31:n.next=36;break;case 33:n.prev=33,n.t0=n.catch(24),t.F=!1,t.onError(n.t0);case 36:case"end":return n.stop()}}),n,null,[[24,33]])})))}},{key:"onError",value:function(e){this.F||(e.severity===y.G&&null!==this.h&&Rn(this.h,y.yk),this.trigger(new y.F(y.Oc,{detail:e})))}},{key:"te",value:function(){return new Ei}},{key:"getState",value:function(){return null!==this.h?this.h.getState().currentState:y.go}},{key:"getPresentationStartTime",value:function(){if(this.a&&this.a.getStartDate&&this.isLive()){var e=this.a.getStartDate();return isNaN(e.getTime())?(this.log.warn("EXT-X-PROGRAM-DATETIME required to get presentation start time as Date!"),0):e.getTime()/1e3}return 0}},{key:"getSeekRange",value:function(){var e=this.getSurface().getMedia();if(e&&e.src){if((e=e.seekable).length)return this.D={start:e.start(0),end:e.end(e.length-1)};if(this.D)return this.D}return{start:0,end:0}}},{key:"isLive",value:function(){return!(!this.a||!this.a.src)&&1/0===this.a.duration}},{key:"getStats",value:function(){if(!this.f||!this.a)return y.jk();this.f&&y.fk(this.f.a,this.getState());var e=this.a,t=this.f,n=e.videoHeight;return t.j=e.videoWidth,t.f=n,e.getVideoPlaybackQuality&&(n=e.getVideoPlaybackQuality(),e=this.f,t=Number(n.totalVideoFrames),e.h=Number(n.droppedVideoFrames),e.g=t,this.f.B=Number(n.corruptedVideoFrames)),this.f.getStats()}},{key:"getTimelineCues",value:function(){return this.j?this.j.getTimelineCues():[]}}]),n}(y.Jn);y.Bf(new(function(){function t(){(0,d.Z)(this,t)}return(0,h.Z)(t,[{key:"a",value:function(){return X}},{key:"canPlay",value:function(t,n){var r=(t=t.type||"")===y.Ib,i=t===y.Ob,a=t===y.Pb;return y.Eh()||r||i||a&&!y.Fh()?0:""!==At().canPlayType(t)?a&&y.Fh()&&e.MediaSource&&MediaSource.isTypeSupported&&!n.streaming.preferNativeHlsOnSafari?1:2:0}},{key:"create",value:function(){return new Da}}]),t}())),y.x("clpp.ads.PodType",{PREROLL:0,MIDROLL:1,POSTROLL:2}),y.x("clpp.ads.Technology",{CLIENT_SIDE:0,SERVER_SIDE:1}),y.x("clpp.ads.ErrorType",{LOAD:0,PLAY:1,OTHER:2});var _a=new y.O("clpp.ads"),La=[];y.x("clpp.utils.dom.createHTMLElement",y.Yk);var Oa=function(){function e(t,n){(0,d.Z)(this,e),this.h=new y.O("clpp.PlayerSurface");var r=y.af({},Za,n);r.containerEl=n?n.containerEl:null,this.g=typeof t===y.ee?document.getElementById(t):t,this.f=this.j=this.a=null,this.m=new y.cn,Bn(this,r)}return(0,h.Z)(e,[{key:"getMedia",value:function(){return this.a}},{key:"getContainer",value:function(){return this.f}},{key:"getCastElement",value:function(){return this.j}},{key:"isFullscreen",value:function(){return!!document.fullscreenElement}},{key:"hideMediaElement",value:function(){var e=this.getMedia();e?y.Wk(e,q):this.h.debug("No media element available that could be hidden")}},{key:"showMediaElement",value:function(){var e=this.getMedia();e?e.classList.remove(q):this.h.debug("No media element available that could be shown")}},{key:"addElementToContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.getContainer();if(!r)throw Error("No container is available. Unable to add element");t&&y.Wk(e,y.nc),n?r.insertBefore(e,r.firstElementChild):r.appendChild(e)}},{key:"removeElementFromContainer",value:function(e){var t=this.getContainer();if(!t)throw Error("No container is available. Unable to remove element");t.removeChild(e)}},{key:"hide",value:function(e){y.Wk(e,q)}},{key:"show",value:function(e){e.classList.remove(q)}},{key:"release",value:function(){this.m.release()}}]),e}();Oa.prototype.removeElementFromContainer=Oa.prototype.removeElementFromContainer,Oa.prototype.addElementToContainer=Oa.prototype.addElementToContainer,Oa.prototype.getCastElement=Oa.prototype.getCastElement,Oa.prototype.getContainer=Oa.prototype.getContainer,Oa.prototype.getMedia=Oa.prototype.getMedia;var Za={disableContainer:!1,crossorigin:"anonymous",containerEl:null},ja=function(){function e(t){(0,d.Z)(this,e),this.l=t,this.h=this.l.getNetworkEngine(),this.a=new y.cn,this.g=null,this.f=!0,Kn(this)}return(0,h.Z)(e,[{key:"release",value:function(){this.a.release(),qn(this),this.l=null}}]),e}();y.x("clpp.polyfill.installAll",Qn);var Ua=[];y.x("clpp.polyfill.register",y.kl);var Fa=function(){function t(e,n,r){(0,d.Z)(this,t),this.g=e,this.f=n,JSON.parse(y.gg(y.ii(e))),this.a=JSON.parse(y.gg(y.ii(n))),this.h=r}return(0,h.Z)(t,[{key:"verify",value:function(t,n){var r={kty:"RSA",n:t.n,e:t.e},i=this.g+"."+this.f,a=this.h;return new Promise((function(t,o){var u;try{u=e&&e.crypto&&e.crypto.subtle}catch(l){}if(u){var s={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};u.importKey("jwk",r,s,!1,["verify"]).then((function(e){var t=y.kg(i),n=y.ii(a);return u.verify(s,e,n.buffer,t.buffer)})).then((function(e){e?t():o(O)})).catch(o)}else n?o("Web Crypto API is not supported"):t()}))}}]),t}(),Ha={n:"vXdoJIQCz6sZ9pbduNukEHOR0H2dHlwuuBUAR5Ot7WLEYvav5mn63yxr6F6TIl8RHTFw2siXQhHblZH2Y89o8vhcZRFkYXo6h0igEVafu-n0w52UEcH8Cqzlb8Q7x03Qb8OcKLngSzDkwe5Y2Aix6I66RRVNLLssqyjp2n5tXs4JQmYdqY6hhpGhmBN84naeCTdcPpAYhCw8jqbTSNrJp5hjU4GVvOiUtoYCvdESV9xrOR7fPCFXhWfLtC3i1k1zVoIM7YW5qD0F676jhqkF-GmDuCHpRY2I2Cxui-ytYEVIM6_pylSIlmYLjARmv2jXz9aV_WvHLh6B8Yx0slNGCQ",e:"AQAB"},za="eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJ1cmxzIjpbIjovL2Nhc3RsYWJzLmNvbSJdLCJ0eXBlIjoiV2ViIiwia2lkIjoxOTUwLCJpbHYiOmZhbHNlfQ.jzGGRcbFr_2QET-4tbMcpR5pSaj7eV7X2d1HWw_VKQpPg3zCwSZSDuqw225dIYyAYwLSiElbozbZPSArkBXOsoUm-KZRUPF4m7WG0T7Uza5G-QaQw57BbbfcSsooSpatC997kHKLMTjO71By9Olcu5ykN164nZpGQtZNzQjYag-bnUaMVI5vvhzjlvDihORQ9V_qRlEh0-mpoz6W0-36HGAbWIXWq0kxPh6inbovby-ZmFpqGrVjWOEFa55EARZXPNW9ERupW5xrrYHZdwwTpdRTY5IwEnobS85yTrLhK8Y2MV4jlQLTtQp372fKDsuU6q6_4XvmNq1SgAoKoaf41g",Ga=function(){function t(e){(0,d.Z)(this,t),this.license=e,this.a=null,this.f=new y.O("clpp.utils.LicenseKey")}return(0,h.Z)(t,[{key:"verify",value:function(){var t=this;return new Promise((function(e,n){try{e(tr(t))}catch(ga){n()}})).then((function(e){return e.verify(Ha)})).catch((function(t){if(t&&t!==O){var n=e.location.href,r=new y.dh(n);if(n=r.La||r.Da?r:new y.dh("//"+n),/(^127\.)|(^10\.)|(^172\.1[6-9]\.)|(^172\.2[0-9]\.)|(^172\.3[0-1]\.)|(^192\.168\.)|(^localhost)/.test(n.Da))return Promise.resolve()}throw t}))}}]),t}(),Ba="vod",Va="live",Wa=function(e){(0,o.Z)(n,e);var t=(0,u.Z)(n);function n(e,r,i){var o;if((0,d.Z)(this,n),o=t.call(this),Qn(),o.g=new y.O("clpp.Player"),!e)throw new y.H(y.G,7,7102);if(o.A=new y.cn,o.f=o.N=r||y.Wh(),o.m=null,void 0===o.f.license&&(o.f.license=za,o.g.warn("You are using the embedded demo license!")),!o.f.license)throw o.g.error("You provided null or empty string as your license. Please check your license configuration."),new y.H(y.G,7,7101,"No license provided in configuration!");o.h=new Oa(e,i),o.a=o.w=null,o.F=new y.zl,o.j=null,o.J=[],o.K={},o.o=null,o.H=!0,o.I=o.D=!1,o.C=o.fc=null,o.$c=!1,o.S=new ja((0,a.Z)(o)),o.L=!1,o.B=function(e){(e=e.detail)&&e.currentState===y.Ck&&(o.off(y.be,o.B),dr((0,a.Z)(o)))},o.on(y.be,(function(){o.getState()===y.yk&&o.unload()})),o.on(y.Fb,o.R.bind((0,a.Z)(o))),o.on(y.Eb,o.R.bind((0,a.Z)(o))),hr((0,a.Z)(o),o.f.license),o.h.getMedia()&&((e=o.h.getMedia()).hasAttribute("autoplay")&&(e.removeAttribute("autoplay"),o.g.debug("Removed autoplay attribute from video element. Auto play will be handled by configuration."),void 0===o.f.autoplay&&(o.f.autoplay=!0,o.g.debug("Setting autoplay in configuration since it was specified in the video element")))),e=[];var u,s=(0,g.Z)(Ka);try{for(s.s();!(u=s.n()).done;){var l=u.value;try{var c=l.create(o.f);c&&e.push(c)}catch(c){o.g.error("Error while creating player plugin",c)}}}catch(f){s.e(f)}finally{s.f()}return pr((0,a.Z)(o),e),y.$h.clear(),o}return(0,h.Z)(n,[{key:"init",value:function(){}},{key:"onError",value:function(e){null!==this.a?this.a.onError(e):(e=new y.F(y.Oc,{detail:e}),this.trigger(e))}},{key:"Pb",value:function(e){return void 0===(e=this.K[e])&&(e=null),e}},{key:"getSurface",value:function(){return this.h}},{key:"getConfiguration",value:function(){return y.bf(this.f)}},{key:"getDrmInfo",value:function(){return this.a?this.a.getDrmInfo():null}},{key:"unload",value:function(){return this.a?this.a.unload():Promise.resolve()}},{key:"release",value:function(){var e=this;return null!=this.m?(this.g.info("Player release already in progress"),this.m):(this.g.debug("Releasing player"),this.m=vr(this),this.m.finally((function(){e.g.debug("Player released"),e.m=null})))}},{key:"destroy",value:function(){var e=this;return this.D?(this.g.debug("The player is already destroyed. No-op"),new Promise((function(e){return e()}))):(this.D=!0,this.release().then((function(){return e.g.debug(k),e.trigger(new y.F("destroying")),y.Gl(e,y.vd)})).then((function(){if(e.a&&e.a.removeDelegate(e),e.rc.clear(),e.S.release(),e.a)return e.a.destroy()})).then((function(){Zt((function(e){e.a()})),y.$h.clear(),e.a=null,e.trigger(new y.F("destroyed"))})))}},{key:"load",value:function(e){var t=this;return y.v((0,v.Z)().mark((function n(){return(0,v.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,y.Pl(t,e);case 3:return n.next=5,y.Ql(t);case 5:return n.next=7,y.Sl(t);case 7:n.next=14;break;case 9:if(n.prev=9,n.t0=n.catch(0),!t.m){n.next=13;break}throw t.g.info("Load interrupted while a player release is pending"),new y.H(y.G,7,7e3);case 13:throw n.t0;case 14:case"end":return n.stop()}}),n,null,[[0,9]])})))}},{key:"use",value:function(e){(e=new e).f(this),y.ci(e)}},{key:"remove",value:function(e){if(this.getState()<=y.zk||this.H){var t="";if(Zt((function(n){n instanceof e&&(t=n.id(),n.a())})),t)return y.$h.delete(t),this.I=!0}return!1}},{key:"play",value:function(){return this.a?this.j&&this.a.namespace()!==y.pc?this.j.start(this.a):this.a.play():Promise.reject("No player initialized. You need to load content before calling play.")}},{key:"pause",value:function(){return this.a?this.a.pause():Promise.reject("No player initialized. You need to load content before calling pause.")}},{key:"getTrackManager",value:function(){return this.a&&this.a.getTrackManager()}},{key:"getBufferInfo",value:function(e){return this.a?this.a.getBufferInfo(e):new y.yn}},{key:"getState",value:function(){return this.a?this.a.getState():y.zk}},{key:"getPeriods",value:function(){return this.a?this.a.getPeriods():[]}},{key:"isEnded",value:function(){return this.a&&this.a.isEnded()||!1}},{key:"isPaused",value:function(){return this.a&&this.a.isPaused()||!1}},{key:"getPosition",value:function(){return this.a?this.a.getPosition():0}},{key:"seek",value:function(e){return this.getState()===y.yk?Promise.reject("Cannot seek in current state."):this.a?this.a.seek(e):Promise.reject("delegate does not exist")}},{key:"getPresentationStartTime",value:function(){return this.a?this.a.getPresentationStartTime():0}},{key:"getSeekRange",value:function(){return this.a?this.a.getSeekRange():{start:0,end:0}}},{key:"getVolume",value:function(){return this.a?this.a.getVolume():null}},{key:"setVolume",value:function(e){this.a&&this.a.setVolume(e)}},{key:"getDuration",value:function(){return this.a?this.a.getDuration():-1}},{key:"getAdsManager",value:function(){return this.j}},{key:"namespace",value:function(){return this.a&&this.a.namespace()||"Undefined"}},{key:"canPlay",value:function(e,t){return this.a?this.a.canPlay(e,t):0}},{key:"getPlaybackRate",value:function(){return this.a?this.a.getPlaybackRate():1}},{key:"setPlaybackRate",value:function(e){this.a&&this.a.setPlaybackRate(e)}},{key:"isMuted",value:function(){return this.a&&this.a.isMuted()||!1}},{key:"setMuted",value:function(e){this.a&&this.a.setMuted(e)}},{key:"getNetworkEngine",value:function(){return this.F}},{key:"setNetworkEngine",value:function(e){this.F=e}},{key:"getTextDisplayer",value:function(){return this.a&&this.a.getTextDisplayer()}},{key:"isLive",value:function(){return!!this.a&&this.a.isLive()}},{key:"getStats",value:function(){return this.a?this.a.getStats():null}},{key:"Jc",value:function(){return Object.freeze(this.o)}},{key:"setSourceIndex",value:function(e){this.a&&this.a.setSourceIndex(e)}},{key:"getSourceIndex",value:function(){return this.a?this.a.getSourceIndex():-1}},{key:"getLoadedSource",value:function(){return this.a&&this.a.getLoadedSource()}},{key:"getTimelineCues",value:function(){return this.a?this.a.getTimelineCues():[]}},{key:"resetAbr",value:function(){this.a&&this.a.resetAbr()}},{key:"setDrmCustomDataModifier",value:function(e){this.fc=e,mr(this)}},{key:"setCdnErrorCallback",value:function(e){this.C=e,this.a&&this.a.setCdnErrorCallback(this.C)}},{key:"R",value:function(){this.$c=!0}}]),n}(y.zn);y.x("clpp.Player",Wa),Wa.registerPlugin=y.Cl,Wa.prototype.setCdnErrorCallback=Wa.prototype.setCdnErrorCallback,Wa.prototype.setDrmCustomDataModifier=Wa.prototype.setDrmCustomDataModifier,Wa.prototype.resetAbr=Wa.prototype.resetAbr,Wa.prototype.getTimelineCues=Wa.prototype.getTimelineCues,Wa.prototype.getLoadedSource=Wa.prototype.getLoadedSource,Wa.prototype.getSources=Wa.prototype.Jc,Wa.prototype.getStats=Wa.prototype.getStats,Wa.prototype.isLive=Wa.prototype.isLive,Wa.prototype.getTextDisplayer=Wa.prototype.getTextDisplayer,Wa.prototype.setNetworkEngine=Wa.prototype.setNetworkEngine,Wa.prototype.getNetworkEngine=Wa.prototype.getNetworkEngine,Wa.prototype.setMuted=Wa.prototype.setMuted,Wa.prototype.isMuted=Wa.prototype.isMuted,Wa.prototype.setPlaybackRate=Wa.prototype.setPlaybackRate,Wa.prototype.getPlaybackRate=Wa.prototype.getPlaybackRate,Wa.prototype.namespace=Wa.prototype.namespace,Wa.prototype.getAdsManager=Wa.prototype.getAdsManager,Wa.prototype.getDuration=Wa.prototype.getDuration,Wa.prototype.setVolume=Wa.prototype.setVolume,Wa.prototype.getVolume=Wa.prototype.getVolume,Wa.prototype.getSeekRange=Wa.prototype.getSeekRange,Wa.prototype.getPresentationStartTime=Wa.prototype.getPresentationStartTime,Wa.prototype.seek=Wa.prototype.seek,Wa.prototype.getPosition=Wa.prototype.getPosition,Wa.prototype.isPaused=Wa.prototype.isPaused,Wa.prototype.isEnded=Wa.prototype.isEnded,Wa.prototype.getState=Wa.prototype.getState,Wa.prototype.getBufferInfo=Wa.prototype.getBufferInfo,Wa.prototype.getTrackManager=Wa.prototype.getTrackManager,Wa.prototype.pause=Wa.prototype.pause,Wa.prototype.play=Wa.prototype.play,Wa.prototype.remove=Wa.prototype.remove,Wa.prototype.use=Wa.prototype.use,Wa.prototype.load=Wa.prototype.load,Wa.prototype.destroy=Wa.prototype.destroy,Wa.prototype.release=Wa.prototype.release,Wa.prototype.getDrmInfo=Wa.prototype.getDrmInfo,Wa.prototype.getConfiguration=Wa.prototype.getConfiguration,Wa.prototype.getSurface=Wa.prototype.getSurface,Wa.prototype.getPlugin=Wa.prototype.Pb,y.zk=0,y.Ak=1,y.uk=2,y.Ck=3,y.Bk=4,y.rk=5,y.yk=6,y.go=7,y.xk={IDLE:y.zk,PREPARING:y.Ak,BUFFERING:y.uk,PLAYING:y.Ck,PAUSED:y.Bk,ENDED:y.rk,ERROR:y.yk,UNSET:y.go},Wa.State=y.xk;var Ka=[],qa=function(){function e(){(0,d.Z)(this,e)}return(0,h.Z)(e,[{key:"gb",value:function(){}},{key:"hb",value:function(){}},{key:"mb",value:function(){}},{key:"ba",value:function(){}},{key:"getCreativeId",value:function(){}},{key:"getApiFramework",value:function(){}},{key:"getAdSystem",value:function(){}},{key:"getAdvertiserName",value:function(){}},{key:"getTitle",value:function(){}},{key:"getDuration",value:function(){}},{key:"getSkipTimeOffset",value:function(){}},{key:"Tb",value:function(){}},{key:"zb",value:function(){}},{key:"getMediaUrl",value:function(){}},{key:"jb",value:function(){}},{key:"ib",value:function(){}},{key:"Wa",value:function(){}},{key:"Ja",value:function(){}},{key:"getPodIndex",value:function(){}},{key:"Ab",value:function(){}},{key:"Bb",value:function(){}},{key:"lb",value:function(){}},{key:"getWrapperAdIds",value:function(){}},{key:"getWrapperAdSystems",value:function(){}},{key:"getWrapperCreativeIds",value:function(){}}]),e}();y.x("clpp.ads.IAd",qa),qa.prototype.getWrapperCreativeIds=qa.prototype.getWrapperCreativeIds,qa.prototype.getWrapperAdSystems=qa.prototype.getWrapperAdSystems,qa.prototype.getWrapperAdIds=qa.prototype.getWrapperAdIds,qa.prototype.getSequenceLength=qa.prototype.lb,qa.prototype.getPositionInSequence=qa.prototype.Bb,qa.prototype.getPodTimeOffset=qa.prototype.Ab,qa.prototype.getPodIndex=qa.prototype.getPodIndex,qa.prototype.getPodType=qa.prototype.Ja,qa.prototype.getMediaBitrate=qa.prototype.Wa,qa.prototype.getMediaHeight=qa.prototype.ib,qa.prototype.getMediaWidth=qa.prototype.jb,qa.prototype.getMediaUrl=qa.prototype.getMediaUrl,qa.prototype.getClickThroughUrl=qa.prototype.zb,qa.prototype.isBumper=qa.prototype.Tb,qa.prototype.getSkipTimeOffset=qa.prototype.getSkipTimeOffset,qa.prototype.getDuration=qa.prototype.getDuration,qa.prototype.getTitle=qa.prototype.getTitle,qa.prototype.getAdvertiserName=qa.prototype.getAdvertiserName,qa.prototype.getAdSystem=qa.prototype.getAdSystem,qa.prototype.getApiFramework=qa.prototype.getApiFramework,qa.prototype.getCreativeId=qa.prototype.getCreativeId,qa.prototype.getId=qa.prototype.ba,qa.prototype.getTechnology=qa.prototype.mb,qa.prototype.getAdManagerVersion=qa.prototype.hb,qa.prototype.getAdManagerName=qa.prototype.gb;var Ya=function(){function e(){(0,d.Z)(this,e)}return(0,h.Z)(e,[{key:"name",value:function(){}},{key:"Y",value:function(){}},{key:"create",value:function(){}}]),e}();y.x("clpp.ads.IAdsManagerFactory",Ya),Ya.prototype.create=Ya.prototype.create,Ya.prototype.isSupported=Ya.prototype.Y,Ya.prototype.name=Ya.prototype.name;var Xa=function(){function e(){(0,d.Z)(this,e)}return(0,h.Z)(e,[{key:"load",value:function(){}},{key:"start",value:function(){}},{key:"resume",value:function(){}},{key:"pause",value:function(){}},{key:"skip",value:function(){}},{key:"getVolume",value:function(){}},{key:"setVolume",value:function(){}},{key:"getPosition",value:function(){}},{key:"dispose",value:function(){}}]),e}();y.x("clpp.ads.IAdsManager",Xa),Xa.prototype.getPosition=Xa.prototype.getPosition,Xa.prototype.setVolume=Xa.prototype.setVolume,Xa.prototype.getVolume=Xa.prototype.getVolume,Xa.prototype.skip=Xa.prototype.skip,Xa.prototype.pause=Xa.prototype.pause,Xa.prototype.resume=Xa.prototype.resume;var $a=function(){function e(){(0,d.Z)(this,e)}return(0,h.Z)(e,[{key:"load",value:function(){return Promise.resolve()}},{key:"start",value:function(e){return e.play()}},{key:"resume",value:function(){}},{key:"pause",value:function(){}},{key:"skip",value:function(){}},{key:"getVolume",value:function(){return 1}},{key:"setVolume",value:function(){}},{key:"getPosition",value:function(){return-1}},{key:"dispose",value:function(){return y.v((0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))}}]),e}();$a.prototype.dispose=$a.prototype.dispose,$a.prototype.getPosition=$a.prototype.getPosition,$a.prototype.setVolume=$a.prototype.setVolume,$a.prototype.getVolume=$a.prototype.getVolume,$a.prototype.skip=$a.prototype.skip,$a.prototype.pause=$a.prototype.pause,$a.prototype.resume=$a.prototype.resume,$a.prototype.start=$a.prototype.start,$a.prototype.load=$a.prototype.load;var Ja=function(){function e(){(0,d.Z)(this,e)}return(0,h.Z)(e,[{key:"name",value:function(){return"clpp.ads.NopAdsManagerFactory"}},{key:"Y",value:function(){return!0}},{key:"create",value:function(){return new $a}}]),e}();Ja.prototype.create=Ja.prototype.create,Ja.prototype.isSupported=Ja.prototype.Y,Ja.prototype.name=Ja.prototype.name;var Qa=function(){function e(){(0,d.Z)(this,e)}return(0,h.Z)(e,[{key:"getCuePoints",value:function(){}},{key:"Cb",value:function(){}},{key:"Xa",value:function(){}}]),e}();y.x("clpp.ads.IAdsTimeline",Qa),Qa.prototype.hasPostroll=Qa.prototype.Xa,Qa.prototype.hasPreroll=Qa.prototype.Cb,Qa.prototype.getCuePoints=Qa.prototype.getCuePoints,y.ro=function(){function e(){(0,d.Z)(this,e)}return(0,h.Z)(e,[{key:"g",value:function(){}},{key:"release",value:function(){}}]),e}();var eo=function(){function e(){(0,d.Z)(this,e),this.h=null}return(0,h.Z)(e,[{key:"j",value:function(e){this.h=e}},{key:"g",value:function(e){return this.h?this.h.setMediaKeys(e):Promise.reject(P)}},{key:"m",value:function(){return this.h&&this.h.mediaKeys}},{key:"a",value:function(e,t){return navigator.requestMediaKeySystemAccess(e,t)}},{key:"f",value:function(){return L}}]),e}();$t(new(function(){function t(){(0,d.Z)(this,t)}return(0,h.Z)(t,[{key:"a",value:function(){return L}},{key:"Y",value:function(){return!!(e.MediaKeys&&navigator.requestMediaKeySystemAccess&&e.MediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)}},{key:"create",value:function(){return new eo}}]),t}()),1e3);var to=function(){function e(){(0,d.Z)(this,e),this.size=0,this.a=void 0}return(0,h.Z)(e,[{key:"forEach",value:function(e){this.a&&e(this.a,no.value())}},{key:"get",value:function(e){if(this.has(e))return this.a}},{key:"has",value:function(e){var t=no.value();return!(!this.a||!Ke(e,t))}},{key:"entries",value:function(){}},{key:"keys",value:function(){}},{key:"values",value:function(){}}]),e}(),no=new y.fo((function(){return Je(new Uint8Array([0]))})),ro=function(){function e(){(0,d.Z)(this,e)}return(0,h.Z)(e,[{key:"j",value:function(){}},{key:"g",value:function(e){return y.D("NopEmeManager.setMediaKeys"),null===e?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))}},{key:"m",value:function(){return null}},{key:"a",value:function(){return y.D("NopEmeManager.requestMediaKeySystemAccess"),Promise.reject(Error("The key system specified is not supported."))}},{key:"f",value:function(){return"NOP"}}]),e}();$t(new(function(){function e(){(0,d.Z)(this,e)}return(0,h.Z)(e,[{key:"a",value:function(){return"NOP"}},{key:"Y",value:function(){return!0}},{key:"create",value:function(){return new ro}}]),e}()),-1);var io=function(){function e(){(0,d.Z)(this,e),this.h=this.o=null}return(0,h.Z)(e,[{key:"j",value:function(e){this.o=e}},{key:"g",value:function(e){var t=this.h;return t&&t!==e&&wr(t,null),(this.h=e)?wr(e,this.o):Promise.resolve()}},{key:"m",value:function(){return this.h}},{key:"a",value:function(e,t){y.D("AppleEmeManager.requestMediaKeySystemAccess");try{var n=new ao(e,t);return Promise.resolve(n)}catch(ga){return Promise.reject(ga)}}},{key:"f",value:function(){return"APPLE"}}]),e}(),ao=function(){function e(t,n){if((0,d.Z)(this,e),this.keySystem=t,t.startsWith(y.wc)){var r,i=(0,g.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;if((t=a).persistentState!==y.Td){n={audioCapabilities:[],videoCapabilities:[],persistentState:y.zd,distinctiveIdentifier:y.zd,initDataTypes:t.initDataTypes,sessionTypes:[ve],label:t.label};var o=!1,u=!1;if(t.audioCapabilities){var s,l=(0,g.Z)(t.audioCapabilities);try{for(l.s();!(s=l.n()).done;){var c=s.value;c.contentType&&(o=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,c.contentType.split(";")[0])&&(n.audioCapabilities.push(c),u=!0))}}catch(v){l.e(v)}finally{l.f()}}if(t.videoCapabilities){var f,h=(0,g.Z)(t.videoCapabilities);try{for(h.s();!(f=h.n()).done;){var p=f.value;p.contentType&&(o=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,p.contentType.split(";")[0])&&(n.videoCapabilities.push(p),u=!0))}}catch(v){h.e(v)}finally{h.f()}}o||(u=WebKitMediaKeys.isTypeSupported(this.keySystem,y.Be)),t=u?n:null}else t=null;if(t)return void(this.a=t)}}catch(v){i.e(v)}finally{i.f()}}throw(a=Error(U)).name=_,a.code=DOMException.NOT_SUPPORTED_ERR,a}return(0,h.Z)(e,[{key:"createMediaKeys",value:function(){var e=new oo(this.keySystem);return Promise.resolve(e)}},{key:"getConfiguration",value:function(){return y.D("AppleEmeManager.MediaKeySystemAccess.getConfiguration"),this.a}}]),e}(),oo=function(){function e(t){(0,d.Z)(this,e),y.D("AppleEmeManager.MediaKeys"),this.f=null,this.g=new WebKitMediaKeys(t),this.a=new y.cn}return(0,h.Z)(e,[{key:"createSession",value:function(e){if(e=void 0===e?ve:e,y.D("AppleEmeManager.MediaKeys.createSession"),e!==ve)throw new TypeError("Session type "+e+t);return new uo(this.g)}},{key:"setServerCertificate",value:function(){return y.D("AppleEmeManager.MediaKeys.setServerCertificate"),Promise.resolve(!1)}}]),e}(),uo=function(e){(0,o.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,d.Z)(this,n),y.D("AppleEmeManager.MediaKeySession"),(r=t.call(this)).g=null,r.j=e,r.a=r.f=null,r.h=new y.cn,r.sessionId="",r.expiration=NaN,r.closed=new y.Hj,r.keyStatuses=new to,r}return(0,h.Z)(n,[{key:"generateRequest",value:function(e,t){var n=this;y.D("AppleEmeManager.MediaKeySession.generateRequest"),this.f=new y.Hj;try{var r=this.j.createSession(y.Be,y.L(t));this.g=r,this.sessionId=r.sessionId||"",this.h.on(r,ke,(function(e){y.D("AppleEmeManager.onWebkitKeyMessage_",e),n.f&&(n.f.resolve(),n.f=null),e=new y.F(se,{messageType:void 0===n.keyStatuses.a?oe:ae,message:Je(e.message.buffer)}),n.dispatchEvent(e)})),this.h.on(r,be,(function(e){y.D("AppleEmeManager.onWebkitKeyAdded_",e),n.a&&(kr(n,"usable"),n.a.resolve(),n.a=null)})),this.h.on(r,we,(function(e){if(y.D("AppleEmeManager.onWebkitKeyError_",e),(e=Error("EME AppleEmeManager key error")).errorCode=n.g.error,null!==n.f)n.f.reject(e),n.f=null;else if(null!==n.a)n.a.reject(e),n.a=null;else switch(n.g.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:kr(n,"output-not-allowed");break;default:kr(n,y.Uc)}})),kr(this,pe)}catch(ga){this.f.reject(ga)}return this.f}},{key:"load",value:function(){return y.D("AppleEmeManager.MediaKeySession.load"),Promise.reject(Error("MediaKeySession.load not yet supported"))}},{key:"update",value:function(e){y.D("AppleEmeManager.MediaKeySession.update"),this.a=new y.Hj;try{this.g.update(y.L(e))}catch(va){this.a.reject(va)}return this.a}},{key:"close",value:function(){y.D("AppleEmeManager.MediaKeySession.close");try{this.g.close(),this.closed.resolve(),y.Df(this.h)}catch(pa){this.closed.reject(pa)}return this.closed}},{key:"remove",value:function(){return y.D("AppleEmeManager.MediaKeySession.remove"),Promise.reject(Error("MediaKeySession is only applicable for persistent licenses, which are not supported on this platform"))}}]),n}(y.zn);$t(new(function(){function t(){(0,d.Z)(this,t)}return(0,h.Z)(t,[{key:"a",value:function(){return"APPLE"}},{key:"Y",value:function(){return!!e.WebKitMediaKeys}},{key:"create",value:function(){return new io}}]),t}()),1100);var so=function(){function e(){(0,d.Z)(this,e),this.o=this.h=null,this.w="",HTMLMediaElement.prototype.webkitGenerateKeyRequest&&(this.w="webkit")}return(0,h.Z)(e,[{key:"j",value:function(e){this.h=e}},{key:"g",value:function(e){if(y.D("WebkitEmeManager.setMediaKeys"),!this.h)return Promise.reject(P);var t=this.o;return t&&t!==e&&Tr(t,null),(this.o=e)&&Tr(e,this.h),Promise.resolve()}},{key:"m",value:function(){return this.o}},{key:"a",value:function(e,t){y.D("WebkitEmeManager.requestMediaKeySystemAccess");try{if(this.h)var n=this.h;else{var r=document.getElementsByTagName(y.u);n=r.length?r[0]:document.createElement(y.u)}var i=new lo(this.w,n,e,t);return Promise.resolve(i)}catch(i){return Promise.reject(i)}}},{key:"f",value:function(){return"WEBKIT"}}]),e}(),lo=function(){function e(t,n,r,i){(0,d.Z)(this,e),this.g=t,this.a=this.keySystem=r,t=!1,r===y.Bd&&(this.a=ye,t=!1);var a,o=!1,u=(0,g.Z)(i);try{for(u.s();!(a=u.n()).done;){var s=a.value;i=[];var l=[],c=!1;if(s.audioCapabilities){var f,h=(0,g.Z)(s.audioCapabilities);try{for(h.s();!(f=h.n()).done;){var p=f.value;p.contentType&&(c=!0,n.canPlayType(p.contentType.split(";")[0],this.a)&&(i.push(p),o=!0))}}catch(w){h.e(w)}finally{h.f()}}if(s.videoCapabilities){var v,m=(0,g.Z)(s.videoCapabilities);try{for(m.s();!(v=m.n()).done;){var b=v.value;b.contentType&&(c=!0,n.canPlayType(b.contentType,this.a)&&(l.push(b),o=!0))}}catch(w){m.e(w)}finally{m.f()}}if(c||(o=n.canPlayType(y.Be,this.a)||n.canPlayType("video/webm",this.a)),s.persistentState!==y.Td||t||(o=!1),o)return void(this.f=s)}}catch(w){u.e(w)}finally{u.f()}throw n=U,r!==y.Bd&&r!==y.yc||(n="None of the requested configurations were supported."),(r=Error(n)).name=_,r.code=DOMException.NOT_SUPPORTED_ERR,r}return(0,h.Z)(e,[{key:"createMediaKeys",value:function(){return Promise.resolve(new co(this.g,this.a))}},{key:"getConfiguration",value:function(){return this.f}}]),e}(),co=function(){function e(t,n){(0,d.Z)(this,e),this.g=t,this.m=n,this.a=null,this.f=new y.cn,this.h=[],this.j=new Map}return(0,h.Z)(e,[{key:"createSession",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve;if(e!==ve&&e!==y.Hd)throw new TypeError("Session type "+e+t);if(!this.a)throw(e=Error("Media element is missing.")).name=C,e.code=DOMException.INVALID_STATE_ERR,e;return this.a.src||(this.a.src="about:blank"),e=new fo(this.g,this.a,this.m,e),this.h.push(e),e}},{key:"setServerCertificate",value:function(){return Promise.resolve(!1)}}]),e}(),fo=function(e){(0,o.Z)(n,e);var t=(0,u.Z)(n);function n(e,r,i,a){var o;return(0,d.Z)(this,n),(o=t.call(this)).o=e,o.h=r,o.m=!1,o.a=o.f=null,o.g=i,o.j=a,o.sessionId="",o.expiration=NaN,o.closed=new y.Hj,o.keyStatuses=new to,o}return(0,h.Z)(n,[{key:"generateRequest",value:function(e,t){return y.D("WebkitEmeManager.MediaKeySession.generateRequest"),Ir(this,t,null)}},{key:"load",value:function(e){return y.D(H),this.j===y.Hd?Ir(this,null,e):Promise.reject(Error(D))}},{key:"update",value:function(e){y.D(H);var t=new y.Hj;return Cr(this,t,e),t}},{key:"close",value:function(){if(y.D("WebkitEmeManager.MediaKeySession.close"),this.j!==y.Hd){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var e=xr(this,"cancelKeyRequest");try{this.h[e](this.g,this.sessionId)}catch(va){}}return this.closed.resolve(),this.closed}},{key:"remove",value:function(){return y.D("WebkitEmeManager.MediaKeySession.remove"),this.j!==y.Hd?Promise.reject(Error(D)):this.close()}}]),n}(y.zn);$t(new(function(){function e(){(0,d.Z)(this,e)}return(0,h.Z)(e,[{key:"a",value:function(){return"WEBKIT"}},{key:"Y",value:function(){return!(!HTMLMediaElement.prototype.webkitGenerateKeyRequest&&!HTMLMediaElement.prototype.generateKeyRequest)}},{key:"create",value:function(){return new so}}]),e}()));var ho=function(e){(0,o.Z)(n,e);var t=(0,u.Z)(n);function n(e,r,i,o,u){var s;return(0,d.Z)(this,n),(s=t.call(this,x)).m=e,s.j=r,s.h=i,s.f=o,s.o=u,s.a=new y.O(Y),y.qg(s.m)?s.a.warn(y.kb):s.Ba(y.yc,{licenseUrl:s.m,videoRobustness:[y.Ya,void 0],audioRobustness:[y.Xa,void 0],persistentStateRequired:!1,distinctiveIdentifierRequired:!1,serverCertificate:null,modifiers:{licenseRequest:s.xc.bind((0,a.Z)(s))}}),y.qg(s.j)?s.a.warn(y.Qa):s.Ba(y.xc,{licenseUrl:s.j,videoRobustness:["3000"],audioRobustness:["2000"],modifiers:{licenseRequest:s.xc.bind((0,a.Z)(s))}}),y.qg(s.h)?s.a.warn(y.ya):y.qg(s.f)?s.a.warn(y.xa):s.Ba(y.wc,{licenseUrl:s.h,certificateUrl:s.f,modifiers:{licenseRequest:s.oe.bind((0,a.Z)(s)),licenseResponse:s.pe.bind((0,a.Z)(s)),certificateRequest:s.xc.bind((0,a.Z)(s)),extractContentId:s.ce.bind((0,a.Z)(s))}}),s}return(0,h.Z)(n,[{key:"xc",value:function(e,t){e=e.drm.customData.headers||{};for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];t.headers[i]=e[i]}}},{key:"ce",value:function(e,t){switch(e=Bt(t),this.o){case go:return e;case vo:return new y.Ji(e).f;default:throw Error("Unknown content ID strategy")}}},{key:"oe",value:function(e,t){t.headers[c]=G,this.xc(e,t),e={spc:y.ei(t.body)},t.body=y.mg(y.Gi(e,!0))}},{key:"pe",value:function(e,t){var n="</ckc>"===(e=y.gg(t.data).trim()).substr(-6);"<ckc>"===e.substr(0,5)&&n&&(e=e.slice(5,-6)),t.data=y.ii(e).buffer}}]),n}(y.Nn);y.x(Y,ho),ho.prototype.onFairPlayLicenseResponse=ho.prototype.pe,ho.prototype.onFairPlayLicenseRequest=ho.prototype.oe,ho.prototype.extractFairPlayContentId=ho.prototype.ce,ho.prototype.onLicenseRequest=ho.prototype.xc,ho.prototype.constructor=ho.prototype.constructor,ho.NAME=x;var po,vo="hostname",go="full-skd";ho.FairPlayContentIdStrategy={HOSTNAME:vo,FULL_SKD:go},y.x("clpp.drm.HeaderDrmComponent",function(e){(0,o.Z)(n,e);var t=(0,u.Z)(n);function n(){var e;return(0,d.Z)(this,n),(e=t.call(this)).l=null,e}return(0,h.Z)(n,[{key:"f",value:function(e){this.l=e}},{key:"a",value:function(){this.l=null}},{key:"g",value:function(){var e=this.l.getConfiguration();if(e.drm&&e.drm&&e.drm.env===x){if(!(e=e.drm.customData))throw new y.H(y.G,7,7100,y.zc);e=new ho(e.widevineLicenseUrl,e.playReadyLicenseUrl,e.fairPlayLicenseUrl,e.fairPlayCertificateUrl,e.fairPlayContentIdStrategy||go),y.ri(e)}}},{key:"release",value:function(){}},{key:"id",value:function(){return"headerdrm"}}]),n}(y.ro)),y.kl((function(){ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(e,t){if(t=void 0!==t?t:this.byteLength,e=Math.floor(e),t=Math.floor(t),0>e&&(e+=this.byteLength),0>t&&(t+=this.byteLength),e=Math.min(Math.max(0,e),this.byteLength),0>=(t=Math.min(Math.max(0,t),this.byteLength))-e)return new ArrayBuffer(0);var n=new ArrayBuffer(t-e),r=y.L(n);return e=new Uint8Array(this,e,t-e),r.set(e),n})})),y.kl((function(){y.D("mathRound.install")})),y.kl((function(){if(e.Document){var t=Element.prototype;t.requestFullscreen=t.requestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen||t.webkitRequestFullscreen,(t=Document.prototype).exitFullscreen=t.exitFullscreen||t.mozCancelFullScreen||t.msExitFullscreen||t.webkitExitFullscreen,re in document||(Object.defineProperty(document,re,{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitSupportsFullscreen||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",Ar),document.addEventListener("webkitfullscreenerror",Ar),document.addEventListener("mozfullscreenchange",Ar),document.addEventListener("mozfullscreenerror",Ar),document.addEventListener("MSFullscreenChange",Ar),document.addEventListener("MSFullscreenError",Ar)}})),y.kl((function(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;t.requestPictureInPicture&&document.exitPictureInPicture||!t.webkitSupportsPresentationMode||(y.D("PiPWebkit.install"),document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,t.requestPictureInPicture=Mr,document.exitPictureInPicture=Nr,document.addEventListener("webkitpresentationmodechanged",Pr,!0))}})),y.kl((function(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;!t.getVideoPlaybackQuality&&"webkitDroppedFrameCount"in t&&(t.getVideoPlaybackQuality=Rr)}})),y.kl((function(){if(e.VTTCue)y.tf("Using native VTTCue.");else if(e.TextTrackCue){var t=TextTrackCue.length;if(3===t)y.tf(F),e.VTTCue=Dr;else if(6===t)y.tf("Using VTTCue polyfill from 6 argument TextTrackCue."),e.VTTCue=_r;else{try{var n=!!Dr(1,2,"")}catch(ga){n=!1}n&&(y.tf(F),e.VTTCue=Dr)}}else y.uf("VTTCue not available.")})),y.kl((function(){y.D("InputEvent.install"),y.uh("Trident/")&&HTMLInputElement.prototype.addEventListener!==Lr&&(y.tf("Patching input event support on IE."),po=HTMLInputElement.prototype.addEventListener,HTMLInputElement.prototype.addEventListener=Lr)})),y.kl((function(){navigator.languages||Object.defineProperty(navigator,"languages",{get:function(){return navigator.language?[navigator.language]:["en"]}})})),y.kl((function(){if(y.D("VideoPlayPromise.install"),e.HTMLMediaElement){var t=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var e=t.apply(this);return e&&e.catch((function(){})),e}}}));var mo=(0,h.Z)((function e(){(0,d.Z)(this,e),this.a=Or()}));y.Ho=function(){return(0,h.Z)((function e(t){(0,d.Z)(this,e),this.f=t,this.a=0}))}();var yo,bo=(0,h.Z)((function e(t,n){(0,d.Z)(this,e),n=void 0===n?2:n,this.a=new Uint8Array(t),this.g=n,this.f=0}));y.Jo=function(){function e(t,n,r){(0,d.Z)(this,e),this.f=t,this.g=n,this.h=r||this.f.getMedia(),this.a=null}return(0,h.Z)(e,[{key:"start",value:function(){var e=this;this.a=new ResizeObserver((function(t){t=t[0],e.g(t.contentRect.width,t.contentRect.height,e.f.isFullscreen())})),this.a.observe(this.h)}},{key:"stop",value:function(){this.a&&(this.a.disconnect(),this.a=null)}}]),e}(),y.Lo=function(){function e(){(0,d.Z)(this,e),this.a=new Blob([yo],{type:y.Be})}return(0,h.Z)(e,[{key:"canPlay",value:function(e){var t=document.createElement(y.u);t.setAttribute("playsinline","playsinline"),e&&(t.muted=!0,t.setAttribute("muted","muted")),t.src=URL.createObjectURL(this.a);var n=new y.Hj;t=t.play();var r=new y.rh((function(){r.stop(),n.resolve(e)})).$(.25);return void 0!==t?t.then((function(){r.stop(),n.resolve(!0)})).catch((function(e){e&&e.message&&e.message===_?(r.stop(),n.resolve(!0)):(r.stop(),n.resolve(!1))})):(r.stop(),n.resolve(!0)),n}}]),e}(),yo=new Uint8Array([0,0,0,28,102,116,121,112,105,115,111,109,0,0,2,0,105,115,111,109,105,115,111,50,109,112,52,49,0,0,0,8,102,114,101,101,0,0,2,239,109,100,97,116,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,0,0,2,194,109,111,111,118,0,0,0,108,109,118,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,47,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1,236,116,114,97,107,0,0,0,92,116,107,104,100,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,101,100,116,115,0,0,0,28,101,108,115,116,0,0,0,0,0,0,0,1,0,0,0,47,0,0,0,0,0,1,0,0,0,0,1,100,109,100,105,97,0,0,0,32,109,100,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172,68,0,0,8,0,85,196,0,0,0,0,0,45,104,100,108,114,0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0,0,0,1,15,109,105,110,102,0,0,0,16,115,109,104,100,0,0,0,0,0,0,0,0,0,0,0,36,100,105,110,102,0,0,0,28,100,114,101,102,0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1,0,0,0,211,115,116,98,108,0,0,0,103,115,116,115,100,0,0,0,0,0,0,0,1,0,0,0,87,109,112,52,97,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0,172,68,0,0,0,0,0,51,101,115,100,115,0,0,0,0,3,128,128,128,34,0,2,0,4,128,128,128,20,64,21,0,0,0,0,1,244,0,0,1,243,249,5,128,128,128,2,18,16,6,128,128,128,1,2,0,0,0,24,115,116,116,115,0,0,0,0,0,0,0,1,0,0,0,2,0,0,4,0,0,0,0,28,115,116,115,99,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,28,115,116,115,122,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1,115,0,0,1,116,0,0,0,20,115,116,99,111,0,0,0,0,0,0,0,1,0,0,0,44,0,0,0,98,117,100,116,97,0,0,0,90,109,101,116,97,0,0,0,0,0,0,0,33,104,100,108,114,0,0,0,0,0,0,0,0,109,100,105,114,97,112,112,108,0,0,0,0,0,0,0,0,0,0,0,0,45,105,108,115,116,0,0,0,37,169,116,111,111,0,0,0,29,100,97,116,97,0,0,0,1,0,0,0,0,76,97,118,102,53,54,46,52,48,46,49,48,49]),y.rm={},y.tm={};var wo=(0,h.Z)((function e(t){(0,d.Z)(this,e),this.a=new Uint8Array(t||65536),this.f=0,this.g=new mo})),ko=e.XMLHttpRequest,To=(0,h.Z)((function e(t,n){(0,d.Z)(this,e),t=void 0===t?1e6:t,n=void 0===n||n,this.h=new bo(t),this.length=t,this.w=n,this.f=this.a=this.g=0,this.j=null,this.m=-1,this.o=new mo})),So=function(e){(0,o.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,d.Z)(this,n),(r=t.call(this,new y.Hj,(function(){return Promise.resolve()}))).A=e,r.g=null,r.o=r.O,r.f=-1,r.h=r.j=r.m=null,Xr((0,a.Z)(r)),r}return(0,h.Z)(n,[{key:"then",value:function(e,t){return this.O=this.O.then(e,t),this}},{key:"catch",value:function(e){return this.O=this.O.catch(e),this}},{key:"abort",value:function(){var e=this;return this.a?Promise.resolve():(this.a=!0,this.g.then((function(t){return e.m&&clearTimeout(e.m),e.j&&e.j(),t.abort()})).catch((function(){})))}}]),n}(y.Ok),Eo=e.fetch,xo=e.AbortController,Io=e.Headers;y.Rm={},y.Oo=function(){function e(t){(0,d.Z)(this,e),t=t.getConfiguration(),t=y.bf(t.textStyle||t.textstyle||{}),this.K=typeof t.backgroundColor===y.ee?t.backgroundColor:null,this.T=typeof t.windowColor===y.ee?t.windowColor:null,this.R=typeof t.fontColor===y.ee?t.fontColor:null,this.S=typeof t.fontFamily===y.ee?t.fontFamily:null,this.I=typeof t.fontSize===y.ee?t.fontSize:null,this.F=typeof t.fontSizePercent===y.p?t.fontSizePercent:null,this.H=typeof t.edgeColor===y.ee?t.edgeColor:"rgba(0, 0, 0, 1)",this.C=y.Mo,typeof t.edgeType===y.ee&&(this.C=t.edgeType)}return(0,h.Z)(e,[{key:"getBackgroundColor",value:function(){return this.K}},{key:"setBackgroundColor",value:function(e){this.K=e,this.g()}},{key:"getWindowColor",value:function(){return this.T}},{key:"setWindowColor",value:function(e){this.T=e,this.g()}},{key:"getFontFamily",value:function(){return this.S}},{key:"setFontFamily",value:function(e){this.S=e,this.g()}},{key:"getFontColor",value:function(){return this.R}},{key:"setFontColor",value:function(e){this.R=e,this.g()}},{key:"getFontSize",value:function(){return this.I}},{key:"setFontSize",value:function(e){this.I=e,this.g()}},{key:"getFontSizePercent",value:function(){return null===this.F?Ro:this.F}},{key:"setFontSizePercent",value:function(e){this.F=e,this.g()}},{key:"getEdgeColor",value:function(){return this.H}},{key:"setEdgeColor",value:function(e){this.H=e,this.g()}},{key:"getEdgeType",value:function(){return this.C}},{key:"setEdgeType",value:function(e){this.C=e,this.g()}}]),e}(),y.Oo.prototype.setEdgeType=y.Oo.prototype.setEdgeType,y.Oo.prototype.getEdgeType=y.Oo.prototype.getEdgeType,y.Oo.prototype.setEdgeColor=y.Oo.prototype.setEdgeColor,y.Oo.prototype.getEdgeColor=y.Oo.prototype.getEdgeColor,y.Oo.prototype.setFontSizePercent=y.Oo.prototype.setFontSizePercent,y.Oo.prototype.getFontSizePercent=y.Oo.prototype.getFontSizePercent,y.Oo.prototype.setFontSize=y.Oo.prototype.setFontSize,y.Oo.prototype.getFontSize=y.Oo.prototype.getFontSize,y.Oo.prototype.setFontColor=y.Oo.prototype.setFontColor,y.Oo.prototype.getFontColor=y.Oo.prototype.getFontColor,y.Oo.prototype.setFontFamily=y.Oo.prototype.setFontFamily,y.Oo.prototype.getFontFamily=y.Oo.prototype.getFontFamily,y.Oo.prototype.setWindowColor=y.Oo.prototype.setWindowColor,y.Oo.prototype.getWindowColor=y.Oo.prototype.getWindowColor,y.Oo.prototype.setBackgroundColor=y.Oo.prototype.setBackgroundColor,y.Oo.prototype.getBackgroundColor=y.Oo.prototype.getBackgroundColor;var Co,Ao,Po,Mo,No,Ro=1/15;y.Mo=y.qd,Co="raised",Ao="depressed",Po="dropshadow",Mo="uniform",y.x("clpp.text.EdgeType",{NONE:y.Mo,RAISED:Co,DEPRESSED:Ao,DROP_SHADOW:Po,UNIFORM:Mo}),y.Rm[y.Kb]=function(){function e(t){(0,d.Z)(this,e),this.g=t,this.a=null,this.f=new y.O("clpp.text.Mp4TextParser")}return(0,h.Z)(e,[{key:"parseInit",value:function(e){var t;try{var n=y.Rm[y.Lb]||null;n?(t=new n(this.g)).parseInit(e):this.f.warn("The clpp.ttml.Mp4TtmlParser class is not available. Please register the ttml component first.")}catch(ga){t=null}if(t)this.a=t;else{try{var r=y.Rm[y.Mb]||null;r?(t=new r(this.g)).parseInit(e):this.f.warn("The clpp.vtt.Mp4VttParser class is not available. Please register the vtt component first.")}catch(ga){t=null}if(!t)throw new y.H(y.G,2,2011);this.a=t}}},{key:"parseMedia",value:function(e,t){if(!this.a)throw new y.H(y.G,2,2011);return this.a.parseMedia(e,t)}}]),e}(),y.Qo=function(e){(0,o.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,d.Z)(this,n),(r=t.call(this,e)).m=e.getSurface().getMedia(),r.f="clpp-video-".concat(No++),r.h=document.createElement(y.ge),r.j=r.o=!1,y.Wk(r.m,r.f),document.head.appendChild(r.h),r.g(),r}return(0,h.Z)(n,[{key:"append",value:function(){}},{key:"remove",value:function(){return!0}},{key:"isTextVisible",value:function(){return this.o}},{key:"setTextVisibility",value:function(e){this.o=e}},{key:"g",value:function(){if(!this.j){var e={"background-color":this.getBackgroundColor(),color:this.getFontColor(),"font-family":this.getFontFamily(),"font-size":this.getFontSize(),"text-shadow":y.Xm(this)},t=Object.keys(e).map((function(t){return null!==e[t]?"".concat(t,":").concat(e[t],";"):""})).join("");this.h.textContent=".".concat(this.f,"::cue {").concat(t,"}")}}},{key:"destroy",value:function(){return this.m.classList.remove(this.f),document.head.removeChild(this.h),this.j=!0,Promise.resolve()}}]),n}(y.Oo),No=0;var Do=function(){function e(){(0,d.Z)(this,e)}return(0,h.Z)(e,[{key:"Y",value:function(){return!0}},{key:"create",value:function(e){return new y.Qo(e)}}]),e}();Do.prototype.create=Do.prototype.create,Do.prototype.isSupported=Do.prototype.Y,y.ck(y.pd,new Do),y.So=function(){function e(){(0,d.Z)(this,e)}return(0,h.Z)(e,[{key:"onContentWillLoad",value:function(){return Promise.resolve()}},{key:"onContentLoaded",value:function(){return Promise.resolve()}},{key:"onPlayerWillDestroy",value:function(){}},{key:"onPlayerWillRelease",value:function(){}}]),e}()}).call(m,window),m.clpp._=y,delete window.clpp;var b=m.clpp,w=b},381:function(e,t,n){n.r(t);var r=n(752),i=n(120),a=n(136),o=n(277),u=n(671),s=n(466),l=n(762),c=n(374).clpp._;(function(e){var t="No thumbnail duration or URL specified",n="No thumbnail found for position ",f="Position is out of range: ",d="Thumbnail URL is mandatory",h="Wrong gridSize format",p="clpp.thumbnails",v=function(e,t){return g(e,t).then((function(e){return new k(e,t.time,t.duration)}))},g=function(e,t){return t.load().then((function(){var n=c.L(e.f,t.offset,t.length);return"data:image/jpeg;base64,"+c.ei(n)}))},m=function e(t,n,r,i){if(t.w||n>=t.a.length)return Promise.resolve();var a=n+r;return y(t,i).then((function(){return t.a[n].load()})).then((function(){return e(t,a,r,i)}))},y=function(e,t){return new Promise((function(n){t||e.g.getState()!==c.uk?n():e.g.one(c.$b,(function(){n()}))}))},b=function(e){var t,n=0,r={3:.001,2:1,1:60,0:3600};for(t=(e=e.split(/\.|:/).map(parseFloat)).length-1;0<=t;t--)n+=e[t]*r[t];return n},w=function(e,t){var n=e.horizontalTiles||t.horizontalTiles||1,r=e.verticalTiles||t.verticalTiles||1,i=n*r;return{sc:n,Td:r,ge:i,durationPerTile:e.durationPerTile||t.durationPerTile||(e.endTime-e.startTime)/i}},k=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,h=arguments.length>11&&void 0!==arguments[11]?arguments[11]:new Image;(0,u.Z)(this,e),this.time=n,this.a=h,this.src=t,this.duration=r,this.x=i,this.y=a,this.width=o,this.height=s,this.g=l,this.m=c,this.h=f,this.j=d,this.f=null}return(0,s.Z)(e,[{key:"raw",value:function(){return this.a.cloneNode(!1)}},{key:"element",value:function(e,t){var n=this.width,r=this.height,i=this.width/this.height;return void 0!==e&&void 0===t&&(t=0),null!==e&&void 0!==e&&(n=e),null!==t&&void 0!==t&&(r=t),n||(n=Math.ceil(r*i)),r||(r=Math.ceil(n/i)),(e=document.createElement(c.Ec)).style.width=n+c.Od,e.style.height=r+c.Od,e.style.backgroundColor="#000",e.style.backgroundRepeat="no-repeat",e.style.backgroundImage="url("+this.src+")",e.style.backgroundSize="".concat(Math.ceil(n/this.width*(this.a.naturalWidth||this.a.width)),"px ").concat(Math.ceil(r/this.height*(this.a.naturalHeight||this.a.height)),"px"),t=this.y/this.height,e.style.backgroundPositionX="-"+this.x/this.width*n+c.Od,e.style.backgroundPositionY="-"+t*r+c.Od,e}},{key:"load",value:function(){var e=this;return this.f||(this.f=new Promise((function(t,n){var r=function(){e.width||(e.width=(e.a.naturalWidth||e.a.width)/e.g),e.height||(e.height=(e.a.naturalHeight||e.a.height)/e.m),e.x||(e.x=e.width*e.h),e.y||(e.y=e.height*e.j)};if(e.a.src&&e.a.complete)r(),t(e);else{var i=null,a=function n(){r(),e.a.removeEventListener("load",n),e.a.removeEventListener(c.Oc,i),t(e)};i=function(){e.a.removeEventListener("load",a),e.a.removeEventListener(c.Oc,i),n()},e.a.addEventListener("load",a),e.a.addEventListener(c.Oc,i),e.a.src=e.src}}))),this.f}}]),e}();c.x("clpp.thumbnails.Thumbnail",k),k.prototype.load=k.prototype.load,k.prototype.element=k.prototype.element,k.prototype.raw=k.prototype.raw;var T=function(){function e(t,n){(0,u.Z)(this,e),this.time=t,this.duration=0,this.offset=n,this.length=0,this.a=new c.Hj}return(0,s.Z)(e,[{key:"load",value:function(){return this.a}}]),e}(),S=function(){function e(){(0,u.Z)(this,e),this.g=new c.O(p),this.f=new ArrayBuffer(0),this.a=[],this.h=new c.Hj}return(0,s.Z)(e,[{key:"init",value:function(e,t){var n=this;if(!t||!t.url)throw new c.H(c.G,7,7100,d);(t=c.wg(t.url)).type=c.vg,e.getNetworkEngine().fetch(t).O.then((function(e){var t=e.data;e=c.L(n.f),t=c.L(t);for(var r=e.byteLength+t.byteLength,i=new ArrayBuffer(r),a=new DataView(i),o=0,u=0,s=e.byteLength;u<s;u++)a.setUint8(o,e[u]),o+=1;for(var l=0,f=t.byteLength;l<f;l++)a.setUint8(o,t[l]),o+=1;n.f=i,n.g.info("Appended ".concat(t.byteLength," bytes.")+"Total data now ".concat(r," bytes."))})).then((function(){var e=n.f,t=c.L(e),r=String.fromCharCode.apply(null,E),i=Array.prototype.slice.call(t,0,8);t=64;var a=0,o=!1;if(r!==String.fromCharCode.apply(null,i))throw Error("The file is not a valid BIF format");for(0===(e=(e=new DataView(e,16,20)).getUint32(0,!0))&&(e=1e3);!o;)if(a+=1,i=e,i=(o=(r=new DataView(n.f,t)).getUint32(0,!0))*i/1e3,r=r.getUint32(4,!0),r=new T(i,r),(i=n.a.length)&&((i=n.a[i-1]).length=r.offset-i.offset,i.duration=r.time-i.time),n.a.push(r),t+=8,(o=4294967295===o)&&n.h.resolve(),1e5<a)throw Error("There was a problem during reading BIF entries")})).then((function(){!function(e){var t=e.f.byteLength;e.a.forEach((function(e){e.offset+e.length<t&&e.a.resolve()}))}(n)})).catch((function(e){n.g.error("Error while loading thumbnail index",e)}))}},{key:"get",value:function(e){var t=this;return 0>e?Promise.reject(f+e):this.h.then((function(){for(var r=0;r<t.a.length;r++){var i=t.a[r];if(i.time>=e&&e<i.time+i.duration)return v(t,i).then((function(e){return e.load().then((function(){return e}))}))}return Promise.reject(n+e)}))}}]),e}(),E=[137,66,73,70,13,10,26,10],x=function(){function e(){(0,u.Z)(this,e),this.log=new c.O(p),this.g=null,this.a=[],this.w=!1}return(0,s.Z)(e,[{key:"init",value:function(e,t){var n=this;this.g=e,e.one(c.Rd,(function(){n.w=!0})),e.isLive()||this.m().then((function(){t&&t.preload&&function(e,t){t.reduce((function(t,n){var r=n,i=!1;return typeof n===c.rd&&(r=n.step,i=n.preloadWhileBuffering),t.then((function(){return m(e,0,r,!!i)}))}),Promise.resolve())}(n,t.preload)}))}}]),e}(),I=function(e){(0,a.Z)(l,e);var t=(0,o.Z)(l);function l(){var e;return(0,u.Z)(this,l),(e=t.call(this)).f=null,e}return(0,s.Z)(l,[{key:"init",value:function(e,t){var n=this;if(!t||!t.url)throw new c.H(c.G,7,7100,d);var a=t.url,o=c.wg(a);o.type=c.vg,this.f=e.getNetworkEngine().fetch(o).O.then((function(e){if(e=e.data){e=c.gg(e).split(/\n/);for(var t=0;t<e.length;t++){var r=e[t],i=r.split(" --\x3e ");if(2===i.length){var o=(r=e[++t]).indexOf("="),u=o=0>o?[]:r.substr(o+1).split(/,/).map(parseFloat);o=u[0];var s=u[1],l=u[2];u=u[3];var f=r.indexOf("#");(r=0>f?r:r.substr(0,f)).match(/^http|^\/\//)||(r=a.substr(0,a.lastIndexOf("/"))+"/"+r),f=b(i[0]),i=b(i[1])-f,n.a.push(new k(r,f,i,o,s,l,u,0,0))}}}})).catch((function(e){n.log.error("[VTT] Error while loading thumbnail",e)})),(0,r.Z)((0,i.Z)(l.prototype),"init",this).call(this,e,t)}},{key:"get",value:function(e){var t=this;return 0>e?Promise.reject(f+e):this.f.then((function(){for(var r=function(){var n=t.a[i];if(n.time>=e&&e<n.time+n.duration)return{v:n.load().then((function(){return n}))}},i=0;i<t.a.length;i++){var a=r();if("object"===typeof a)return a.v}return Promise.reject(n+e)}))}},{key:"m",value:function(){return this.f}}]),l}(x),C=function(e){(0,a.Z)(p,e);var l=(0,o.Z)(p);function p(){var e;return(0,u.Z)(this,p),(e=l.call(this)).f=null,e.o=e.h=1,e.j=0,e}return(0,s.Z)(p,[{key:"init",value:function(e,n){if(!n||!n.url)throw new c.H(c.G,7,7100,d);if("GRID"===n.mode&&!n.gridSize)throw new c.H(c.G,7,7100,"Grid size is mandatory for GRID mode");if(!n.duration)throw new c.H(c.G,7,7100,"Duration is mandatory");this.f=n;var a=this.f.duration,o=this.f.url;if(!a||!o)throw this.log.error(t,a,o),new c.H(c.G,7,7100,t);if(this.j=a,this.f.gridSize)try{var u=this.f.gridSize.split(/x/).map((function(e){return parseInt(e,10)})).filter((function(e){return 0<e}));if(2!==u.length)throw new c.H(c.G,7,7100,h);this.h=u[0],this.o=u[1]}catch(u){throw this.log.error("Error during parsing gridSize",u),new c.H(c.G,7,7100,h)}(0,r.Z)((0,i.Z)(p.prototype),"init",this).call(this,e,n)}},{key:"get",value:function(e){var t=this.g.getDuration();if(void 0===this.f.duration)return Promise.reject("Duration configuration not defined");var r=Math.floor(e/this.f.duration);if(0>e||e>t)return Promise.reject(f+e);var i=this.a[r];return i?i.load().then((function(){return i})):Promise.reject(n+e+" at index "+r)}},{key:"m",value:function(){if(0<this.a.length)return Promise.resolve();var e=this.g.getDuration(),t=this.h*this.o;e=Math.ceil(Math.ceil(e/this.j)/t);for(var n=this.f.templateKey||"$index$",r=0;r<e;r++)for(var i=this.f.url.replace(n,String(r+1)),a=new Image,o=0;o<t;o++)this.a.push(new k(i,this.j*(r*t+o),this.j,0,0,0,0,this.h,this.o,o%this.h,Math.floor(o/this.h),a));return Promise.resolve()}}]),p}(x),A=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"get",value:function(e){if(0>e)return this.log.error("Position must be greater than 0 but is "+e),Promise.reject();var t=this.g.getPeriods();if(t=function(e,t){var n,r=null,i=(0,l.Z)(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;a.startTime<=t&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}(t,e),!t)return this.log.error("Could not find period for specified position",e),Promise.reject();var n=t.thumbStreams.sort(this.f)[0];if(!n)return this.log.error("Could not find thumb stream for specified position",e),Promise.reject();if(null===(t=n.findSegmentPosition(e-t.startTime))||void 0===t)return this.log.error("Could not find segment index for specified position",e),Promise.reject();var r=n.getSegmentReference(t);if(r){var i,a=w(r,n);if(e=Math.floor((e-r.startTime)/a.durationPerTile),0<this.a.length)null!==(r=n.findSegmentPosition(0))&&(i=this.a[(t-r)*a.ge+e]);else if((n=r.Ka())&&0<n.length){var o=0,u=0;r=r.startTime,1<a.ge&&(o=e%a.sc,u=Math.floor(e/a.sc),r+=e*a.durationPerTile),i=new k(n[0],r,a.durationPerTile,void 0,void 0,void 0,void 0,a.sc,a.Td,o,u)}if(i)return i.load().then((function(){return i}))}return this.log.error("segment reference for specified segment index does not exist",t),Promise.reject()}},{key:"f",value:function(e,t){return void 0!==e.bandwidth&&void 0!==t.bandwidth?e.bandwidth-t.bandwidth:0}},{key:"m",value:function(){if(0<this.a.length)return Promise.resolve();var e,t=this.g.getPeriods(),n=(0,l.Z)(t);try{for(n.s();!(e=n.n()).done;){if(t=e.value.thumbStreams.sort(this.f)[0])for(var r=t.findSegmentPosition(0),i=void 0;null!==r&&!c.y(i=t.getSegmentReference(r++));)for(var a=w(i,t),o=i.Ka()[0],u=new Image,s=i.startTime,f=0;f<a.Td;++f)for(var d=0;d<a.sc;++d)this.a.push(new k(o,s,a.durationPerTile,void 0,void 0,void 0,void 0,a.sc,a.Td,d,f,u)),s+=a.durationPerTile}}catch(h){n.e(h)}finally{n.f()}return Promise.resolve()}}]),n}(x),P=function(){function e(){(0,u.Z)(this,e),this.f=new c.O(p),this.a=this.l=null}return(0,s.Z)(e,[{key:"onPlayerCreated",value:function(e){this.l=e}},{key:"onPlayerWillDestroy",value:function(){this.l=null}},{key:"onPlayerWillRelease",value:function(){this.a=null}},{key:"onContentWillLoad",value:function(e){var t=this,n=e.getConfiguration();if(n.thumbnails){var r=n.thumbnails;r&&(void 0===r.enabled||r.enabled)&&((n=r.mode)||(n=function(e){return e?(e=new c.Ji(e)).path.match(/.*\.vtt$/i)?"WEBVTT":e.path.match(/.*\.bif$/i)?"BIF":e.path.match(/.*\.(png|jpg|jpeg)$/i)?"SINGLE":null:null}(r.url||null)),n&&("SINGLE"===n||"GRID"===n?this.a=new C:"WEBVTT"===n?this.a=new I:"BIF"===n&&(this.a=new S)),this.a&&(this.f.info("Loading thumbs configuration",r),this.l.one(c.dd,(function(){t.f.info("Initialize thumbnails provider"),t.a.init(e,r)}))))}else this.a=null}},{key:"onContentLoaded",value:function(e){if(!this.a){var t=e.getConfiguration();if(!(t=t&&t.thumbnails)||void 0===t.enabled||t.enabled){var n=e.getPeriods();this.f.info(c.td,n),function(e){return e.some((function(e){return 0<e.thumbStreams.length}))}(n)&&(this.a=new A,this.a.init(e,t))}}}},{key:"get",value:function(e){return this.a?this.a.get(e):Promise.reject()}},{key:"id",value:function(){return"thumbnails"}}]),e}();c.x("clpp.thumbnails.ThumbnailsPlugin",P),P.prototype.get=P.prototype.get,P.Id="thumbnails",c.Cl(new(function(){function e(){(0,u.Z)(this,e)}return(0,s.Z)(e,[{key:"create",value:function(){return new P}}]),e}()))}).call({},window)},725:function(e){var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var a,o,u=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),s=1;s<arguments.length;s++){for(var l in a=Object(arguments[s]))n.call(a,l)&&(u[l]=a[l]);if(t){o=t(a);for(var c=0;c<o.length;c++)r.call(a,o[c])&&(u[o[c]]=a[o[c]])}}return u}},463:function(e,t,n){var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,p={},v={};function g(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(v,e)||!h.call(p,e)&&(d.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=60103,S=60106,E=60107,x=60108,I=60114,C=60109,A=60110,P=60112,M=60113,N=60120,R=60115,D=60116,_=60121,L=60128,O=60129,Z=60130,j=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;T=U("react.element"),S=U("react.portal"),E=U("react.fragment"),x=U("react.strict_mode"),I=U("react.profiler"),C=U("react.provider"),A=U("react.context"),P=U("react.forward_ref"),M=U("react.suspense"),N=U("react.suspense_list"),R=U("react.memo"),D=U("react.lazy"),_=U("react.block"),U("react.scope"),L=U("react.opaque.id"),O=U("react.debug_trace_mode"),Z=U("react.offscreen"),j=U("react.legacy_hidden")}var F,H="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=H&&e[H]||e["@@iterator"])?e:null}function G(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var B=!1;function V(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?G(e):""}function W(e){switch(e.tag){case 5:return G(e.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 22:return e=V(e.type._render,!1);case 1:return e=V(e.type,!0);default:return""}}function K(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case S:return"Portal";case I:return"Profiler";case x:return"StrictMode";case M:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return K(e.type);case _:return K(e._render);case D:t=e._payload,e=e._init;try{return K(e(t))}catch(n){}}return null}function q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function le(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function he(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,ve,ge=(ve=function(e,t){if(e.namespaceURI!==fe.svg||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function ke(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ye).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var Te=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(e,t){if(t){if(Te[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,Ce=null,Ae=null;function Pe(e){if(e=ni(e)){if("function"!==typeof Ie)throw Error(o(280));var t=e.stateNode;t&&(t=ii(t),Ie(e.stateNode,e.type,t))}}function Me(e){Ce?Ae?Ae.push(e):Ae=[e]:Ce=e}function Ne(){if(Ce){var e=Ce,t=Ae;if(Ae=Ce=null,Pe(e),t)for(e=0;e<t.length;e++)Pe(t[e])}}function Re(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function _e(){}var Le=Re,Oe=!1,Ze=!1;function je(){null===Ce&&null===Ae||(_e(),Ne())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Fe=!1;if(f)try{var He={};Object.defineProperty(He,"passive",{get:function(){Fe=!0}}),window.addEventListener("test",He,He),window.removeEventListener("test",He,He)}catch(ve){Fe=!1}function ze(e,t,n,r,i,a,o,u,s){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Ge=!1,Be=null,Ve=!1,We=null,Ke={onError:function(e){Ge=!0,Be=e}};function qe(e,t,n,r,i,a,o,u,s){Ge=!1,Be=null,ze.apply(Ke,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(Ye(e)!==e)throw Error(o(188))}function Je(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return $e(i),e;if(a===r)return $e(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Qe(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,at=[],ot=null,ut=null,st=null,lt=new Map,ct=new Map,ft=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ht(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":ot=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":st=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ct.delete(t.pointerId)}}function vt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=ht(t,n,r,i,a),null!==t&&(null!==(t=ni(t))&&tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ti(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ni(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){mt(e)&&n.delete(t)}function bt(){for(it=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ni(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==ot&&mt(ot)&&(ot=null),null!==ut&&mt(ut)&&(ut=null),null!==st&&mt(st)&&(st=null),lt.forEach(yt),ct.forEach(yt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function kt(e){function t(t){return wt(t,e)}if(0<at.length){wt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ot&&wt(ot,e),null!==ut&&wt(ut,e),null!==st&&wt(st,e),lt.forEach(t),ct.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)gt(n),null===n.blockedOn&&ft.shift()}function Tt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var St={animationend:Tt("Animation","AnimationEnd"),animationiteration:Tt("Animation","AnimationIteration"),animationstart:Tt("Animation","AnimationStart"),transitionend:Tt("Transition","TransitionEnd")},Et={},xt={};function It(e){if(Et[e])return Et[e];if(!St[e])return e;var t,n=St[e];for(t in n)if(n.hasOwnProperty(t)&&t in xt)return Et[e]=n[t];return e}f&&(xt=document.createElement("div").style,"AnimationEvent"in window||(delete St.animationend.animation,delete St.animationiteration.animation,delete St.animationstart.animation),"TransitionEvent"in window||delete St.transitionend.transition);var Ct=It("animationend"),At=It("animationiteration"),Pt=It("animationstart"),Mt=It("transitionend"),Nt=new Map,Rt=new Map,Dt=["abort","abort",Ct,"animationEnd",At,"animationIteration",Pt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Mt,"transitionEnd","waiting","waiting"];function _t(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Rt.set(r,t),Nt.set(r,i),l(i,[r])}}(0,a.unstable_now)();var Lt=8;function Ot(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Zt(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Lt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=Ot(s),i=Lt):0!==(u&=a)&&(r=Ot(u),i=Lt)}else 0!==(a=n&~o)?(r=Ot(a),i=Lt):0!==u&&(r=Ot(u),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Gt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ot(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Gt(t)),r|=e[n],t&=~i;return r}function jt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ft(24&~t))?Ut(10,t):e;case 10:return 0===(e=Ft(192&~t))?Ut(8,t):e;case 8:return 0===(e=Ft(3584&~t))&&(0===(e=Ft(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Ft(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Ft(e){return e&-e}function Ht(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Gt(t)]=n}var Gt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Bt(e)/Vt|0)|0},Bt=Math.log,Vt=Math.LN2;var Wt=a.unstable_UserBlockingPriority,Kt=a.unstable_runWithPriority,qt=!0;function Yt(e,t,n,r){Oe||_e();var i=$t,a=Oe;Oe=!0;try{De(i,e,t,n,r)}finally{(Oe=a)||je()}}function Xt(e,t,n,r){Kt(Wt,$t.bind(null,e,t,n,r))}function $t(e,t,n,r){var i;if(qt)if((i=0===(4&t))&&0<at.length&&-1<dt.indexOf(e))e=ht(null,e,t,n,r),at.push(e);else{var a=Jt(e,t,n,r);if(null===a)i&&pt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=ht(a,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ot=vt(ot,e,t,n,r,i),!0;case"dragenter":return ut=vt(ut,e,t,n,r,i),!0;case"mouseover":return st=vt(st,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,vt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ct.set(a,vt(ct.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;pt(e,r)}_r(e,t,r,null,n)}}}function Jt(e,t,n,r){var i=xe(r);if(null!==(i=ti(i))){var a=Ye(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Xe(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return _r(e,t,r,i,n),null}var Qt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function on(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:on,this.isPropagationStopped=on,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var sn,ln,cn,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(fn),hn=i({},fn,{view:0,detail:0}),pn=un(hn),vn=i({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(sn=e.screenX-cn.screenX,ln=e.screenY-cn.screenY):ln=sn=0,cn=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=un(vn),mn=un(i({},vn,{dataTransfer:0})),yn=un(i({},hn,{relatedTarget:0})),bn=un(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=un(wn),Tn=un(i({},fn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Cn(){return In}var An=i({},hn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pn=un(An),Mn=un(i({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=un(i({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Rn=un(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_n=un(Dn),Ln=[9,13,27,32],On=f&&"CompositionEvent"in window,Zn=null;f&&"documentMode"in document&&(Zn=document.documentMode);var jn=f&&"TextEvent"in window&&!Zn,Un=f&&(!On||Zn&&8<Zn&&11>=Zn),Fn=String.fromCharCode(32),Hn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Kn(e,t,n,r){Me(r),0<(t=Or(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Yn=null;function Xn(e){Ar(e,0)}function $n(e){if($(ri(e)))return e}function Jn(e,t){if("change"===e)return t}var Qn=!1;if(f){var er;if(f){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"===typeof nr.oninput}er=tr}else er=!1;Qn=er&&(!document.documentMode||9<document.documentMode)}function rr(){qn&&(qn.detachEvent("onpropertychange",ir),Yn=qn=null)}function ir(e){if("value"===e.propertyName&&$n(Yn)){var t=[];if(Kn(t,Yn,e,xe(e)),e=Xn,Oe)e(t);else{Oe=!0;try{Re(e,t)}finally{Oe=!1,je()}}}}function ar(e,t,n){"focusin"===e?(rr(),Yn=n,(qn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Yn)}function ur(e,t){if("click"===e)return $n(t)}function sr(e,t){if("input"===e||"change"===e)return $n(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},cr=Object.prototype.hasOwnProperty;function fr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!cr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mr=f&&"documentMode"in document&&11>=document.documentMode,yr=null,br=null,wr=null,kr=!1;function Tr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==yr||yr!==J(r)||("selectionStart"in(r=yr)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&fr(wr,r)||(wr=r,0<(r=Or(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}_t("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),_t("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),_t(Dt,2);for(var Sr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<Sr.length;Er++)Rt.set(Sr[Er],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(xr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,l){if(qe.apply(this,arguments),Ge){if(!Ge)throw Error(o(198));var c=Be;Ge=!1,Be=null,Ve||(Ve=!0,We=c)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,l=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,l),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,l=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,l),a=s}}}if(Ve)throw e=We,Ve=!1,We=null,e}function Pr(e,t){var n=ai(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Mr="_reactListening"+Math.random().toString(36).slice(2);function Nr(e){e[Mr]||(e[Mr]=!0,u.forEach((function(t){Ir.has(t)||Rr(t,!1,e,null),Rr(t,!0,e,null)})))}function Rr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Ir.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=ai(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Dr(a,e,i,t),o.add(u))}function Dr(e,t,n,r){var i=Rt.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Xt;break;default:i=$t}n=i.bind(null,t,n,e),i=void 0,!Fe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function _r(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ti(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Ze)return e(t,n);Ze=!0;try{Le(e,t,n)}finally{Ze=!1,je()}}((function(){var r=a,i=xe(n),o=[];e:{var u=Nt.get(e);if(void 0!==u){var s=dn,l=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":s=Pn;break;case"focusin":l="focus",s=yn;break;case"focusout":l="blur",s=yn;break;case"beforeblur":case"afterblur":s=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Ct:case At:case Pt:s=bn;break;case Mt:s=Rn;break;case"scroll":s=pn;break;case"wheel":s=_n;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Mn}var c=0!==(4&t),f=!c&&"scroll"===e,d=c?null!==u?u+"Capture":null:u;c=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Ue(p,d))&&c.push(Lr(p,v,h)))),f)break;p=p.return}0<c.length&&(u=new s(u,l,null,n,i),o.push({event:u,listeners:c}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(l=n.relatedTarget||n.fromElement)||!ti(l)&&!l[Qr])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(l=(l=n.relatedTarget||n.toElement)?ti(l):null)&&(l!==(f=Ye(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(s=null,l=r),s!==l)){if(c=gn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Mn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==s?u:ri(s),h=null==l?u:ri(l),(u=new c(v,p+"leave",s,n,i)).target=f,u.relatedTarget=h,v=null,ti(i)===r&&((c=new c(d,p+"enter",l,n,i)).target=h,c.relatedTarget=f,v=c),f=v,s&&l)e:{for(d=l,p=0,h=c=s;h;h=Zr(h))p++;for(h=0,v=d;v;v=Zr(v))h++;for(;0<p-h;)c=Zr(c),p--;for(;0<h-p;)d=Zr(d),h--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Zr(c),d=Zr(d)}c=null}else c=null;null!==s&&jr(o,u,s,c,!1),null!==l&&null!==f&&jr(o,f,l,c,!0)}if("select"===(s=(u=r?ri(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var g=Jn;else if(Wn(u))if(Qn)g=sr;else{g=or;var m=ar}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(g=ur);switch(g&&(g=g(e,r))?Kn(o,g,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ie(u,"number",u.value)),m=r?ri(r):window,e){case"focusin":(Wn(m)||"true"===m.contentEditable)&&(yr=m,br=r,wr=null);break;case"focusout":wr=br=yr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,Tr(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":Tr(o,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Un&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=nn()):(en="value"in(Qt=i)?Qt.value:Qt.textContent,Bn=!0)),0<(m=Or(r,b)).length&&(b=new Tn(b,e,null,n,i),o.push({event:b,listeners:m}),y?b.data=y:null!==(y=Gn(n))&&(b.data=y))),(y=jn?function(e,t){switch(e){case"compositionend":return Gn(t);case"keypress":return 32!==t.which?null:(Hn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Hn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!On&&zn(e,t)?(e=nn(),tn=en=Qt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Or(r,"onBeforeInput")).length&&(i=new Tn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Ar(o,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Or(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ue(e,n))&&r.unshift(Lr(e,a,i)),null!=(a=Ue(e,t))&&r.push(Lr(e,a,i))),e=e.return}return r}function Zr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function jr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,l=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==l&&(u=l,i?null!=(s=Ue(n,a))&&o.unshift(Lr(n,s,u)):i||null!=(s=Ue(n,a))&&o.push(Lr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Ur(){}var Fr=null,Hr=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Gr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Br="function"===typeof setTimeout?setTimeout:void 0,Vr="function"===typeof clearTimeout?clearTimeout:void 0;function Wr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Kr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Xr=Math.random().toString(36).slice(2),$r="__reactFiber$"+Xr,Jr="__reactProps$"+Xr,Qr="__reactContainer$"+Xr,ei="__reactEvents$"+Xr;function ti(e){var t=e[$r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qr]||n[$r]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=qr(e);null!==e;){if(n=e[$r])return n;e=qr(e)}return t}n=(e=n).parentNode}return null}function ni(e){return!(e=e[$r]||e[Qr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ri(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ii(e){return e[Jr]||null}function ai(e){var t=e[ei];return void 0===t&&(t=e[ei]=new Set),t}var oi=[],ui=-1;function si(e){return{current:e}}function li(e){0>ui||(e.current=oi[ui],oi[ui]=null,ui--)}function ci(e,t){ui++,oi[ui]=e.current,e.current=t}var fi={},di=si(fi),hi=si(!1),pi=fi;function vi(e,t){var n=e.type.contextTypes;if(!n)return fi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function mi(){li(hi),li(di)}function yi(e,t,n){if(di.current!==fi)throw Error(o(168));ci(di,t),ci(hi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,K(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fi,pi=di.current,ci(di,e),ci(hi,hi.current),!0}function ki(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,pi),r.__reactInternalMemoizedMergedChildContext=e,li(hi),li(di),ci(di,e)):li(hi),ci(hi,n)}var Ti=null,Si=null,Ei=a.unstable_runWithPriority,xi=a.unstable_scheduleCallback,Ii=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ai=a.unstable_requestPaint,Pi=a.unstable_now,Mi=a.unstable_getCurrentPriorityLevel,Ni=a.unstable_ImmediatePriority,Ri=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,_i=a.unstable_LowPriority,Li=a.unstable_IdlePriority,Oi={},Zi=void 0!==Ai?Ai:function(){},ji=null,Ui=null,Fi=!1,Hi=Pi(),zi=1e4>Hi?Pi:function(){return Pi()-Hi};function Gi(){switch(Mi()){case Ni:return 99;case Ri:return 98;case Di:return 97;case _i:return 96;case Li:return 95;default:throw Error(o(332))}}function Bi(e){switch(e){case 99:return Ni;case 98:return Ri;case 97:return Di;case 96:return _i;case 95:return Li;default:throw Error(o(332))}}function Vi(e,t){return e=Bi(e),Ei(e,t)}function Wi(e,t,n){return e=Bi(e),xi(e,t,n)}function Ki(){if(null!==Ui){var e=Ui;Ui=null,Ii(e)}qi()}function qi(){if(!Fi&&null!==ji){Fi=!0;var e=0;try{var t=ji;Vi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ji=null}catch(n){throw null!==ji&&(ji=ji.slice(e+1)),xi(Ni,Ki),n}finally{Fi=!1}}}var Yi=k.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var $i=si(null),Ji=null,Qi=null,ea=null;function ta(){ea=Qi=Ji=null}function na(e){var t=$i.current;li($i),e.type._context._currentValue=t}function ra(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ia(e,t){Ji=e,ea=Qi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Oo=!0),e.firstContext=null)}function aa(e,t){if(ea!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ea=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Qi){if(null===Ji)throw Error(o(308));Qi=t,Ji.dependencies={lanes:0,firstContext:t,responders:null}}else Qi=Qi.next=t;return e._currentValue}var oa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function sa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ca(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function fa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;oa=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,c=l.next;l.next=null,null===u?o=c:u.next=c,u=l;var f=e.alternate;if(null!==f){var d=(f=f.updateQueue).lastBaseUpdate;d!==u&&(null===d?f.firstBaseUpdate=c:d.next=c,f.lastBaseUpdate=l)}}if(null!==o){for(d=a.baseState,u=0,f=c=l=null;;){s=o.lane;var h=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){d=p.call(h,d,s);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(h,d,s):p)||void 0===s)break e;d=i({},d,s);break e;case 2:oa=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else h={eventTime:h,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(c=f=h,l=d):f=f.next=h,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=f,Hu|=u,e.lanes=u,e.memoizedState=d}}function ha(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var pa=(new r.Component).refs;function va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ga={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ds(),i=hs(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),ca(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ds(),i=hs(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),ca(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ds(),r=hs(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),ca(e,i),ps(e,r,n)}};function ma(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!fr(n,r)||!fr(i,a))}function ya(e,t,n){var r=!1,i=fi,a=t.contextType;return"object"===typeof a&&null!==a?a=aa(a):(i=gi(t)?pi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?vi(e,i):fi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ga,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ga.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=pa,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=aa(a):(a=gi(t)?pi:di.current,i.context=vi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ga.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var ka=Array.isArray;function Ta(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===pa&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Sa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ea(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ws(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Xs(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ta(e,t,n),r.return=e,r):((r=Ks(n.type,n.key,n.props,null,e.mode,r)).ref=Ta(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$s(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=qs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Xs(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case T:return(n=Ks(t.type,t.key,t.props,null,e.mode,n)).ref=Ta(e,null,t),n.return=e,n;case S:return(t=$s(t,e.mode,n)).return=e,t}if(ka(t)||z(t))return(t=qs(t,e.mode,n,null)).return=e,t;Sa(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case T:return n.key===i?n.type===E?f(e,t,n.props.children,r,i):l(e,t,n,r):null;case S:return n.key===i?c(e,t,n,r):null}if(ka(n)||z(n))return null!==i?null:f(e,t,n,r,null);Sa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case T:return e=e.get(null===r.key?n:r.key)||null,r.type===E?f(t,e,r.props.children,i,r.key):l(t,e,r,i);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(ka(r)||z(r))return f(t,e=e.get(n)||null,r,i,null);Sa(t,r)}return null}function v(i,o,u,s){for(var l=null,c=null,f=o,v=o=0,g=null;null!==f&&v<u.length;v++){f.index>v?(g=f,f=null):g=f.sibling;var m=h(i,f,u[v],s);if(null===m){null===f&&(f=g);break}e&&f&&null===m.alternate&&t(i,f),o=a(m,o,v),null===c?l=m:c.sibling=m,c=m,f=g}if(v===u.length)return n(i,f),l;if(null===f){for(;v<u.length;v++)null!==(f=d(i,u[v],s))&&(o=a(f,o,v),null===c?l=f:c.sibling=f,c=f);return l}for(f=r(i,f);v<u.length;v++)null!==(g=p(f,i,v,u[v],s))&&(e&&null!==g.alternate&&f.delete(null===g.key?v:g.key),o=a(g,o,v),null===c?l=g:c.sibling=g,c=g);return e&&f.forEach((function(e){return t(i,e)})),l}function g(i,u,s,l){var c=z(s);if("function"!==typeof c)throw Error(o(150));if(null==(s=c.call(s)))throw Error(o(151));for(var f=c=null,v=u,g=u=0,m=null,y=s.next();null!==v&&!y.done;g++,y=s.next()){v.index>g?(m=v,v=null):m=v.sibling;var b=h(i,v,y.value,l);if(null===b){null===v&&(v=m);break}e&&v&&null===b.alternate&&t(i,v),u=a(b,u,g),null===f?c=b:f.sibling=b,f=b,v=m}if(y.done)return n(i,v),c;if(null===v){for(;!y.done;g++,y=s.next())null!==(y=d(i,y.value,l))&&(u=a(y,u,g),null===f?c=y:f.sibling=y,f=y);return c}for(v=r(i,v);!y.done;g++,y=s.next())null!==(y=p(v,i,g,y.value,l))&&(e&&null!==y.alternate&&v.delete(null===y.key?g:y.key),u=a(y,u,g),null===f?c=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),c}return function(e,r,a,s){var l="object"===typeof a&&null!==a&&a.type===E&&null===a.key;l&&(a=a.props.children);var c="object"===typeof a&&null!==a;if(c)switch(a.$$typeof){case T:e:{for(c=a.key,l=r;null!==l;){if(l.key===c){if(7===l.tag){if(a.type===E){n(e,l.sibling),(r=i(l,a.props.children)).return=e,e=r;break e}}else if(l.elementType===a.type){n(e,l.sibling),(r=i(l,a.props)).ref=Ta(e,l,a),r.return=e,e=r;break e}n(e,l);break}t(e,l),l=l.sibling}a.type===E?((r=qs(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Ks(a.type,a.key,a.props,null,e.mode,s)).ref=Ta(e,r,a),s.return=e,e=s)}return u(e);case S:e:{for(l=a.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=$s(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Xs(a,e.mode,s)).return=e,e=r),u(e);if(ka(a))return v(e,r,a,s);if(z(a))return g(e,r,a,s);if(c&&Sa(e,a),"undefined"===typeof a&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,K(e.type)||"Component"))}return n(e,r)}}var xa=Ea(!0),Ia=Ea(!1),Ca={},Aa=si(Ca),Pa=si(Ca),Ma=si(Ca);function Na(e){if(e===Ca)throw Error(o(174));return e}function Ra(e,t){switch(ci(Ma,t),ci(Pa,e),ci(Aa,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:he(null,"");break;default:t=he(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Aa),ci(Aa,t)}function Da(){li(Aa),li(Pa),li(Ma)}function _a(e){Na(Ma.current);var t=Na(Aa.current),n=he(t,e.type);t!==n&&(ci(Pa,e),ci(Aa,n))}function La(e){Pa.current===e&&(li(Aa),li(Pa))}var Oa=si(0);function Za(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ja=null,Ua=null,Fa=!1;function Ha(e,t){var n=Bs(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function za(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ga(e){if(Fa){var t=Ua;if(t){var n=t;if(!za(e,t)){if(!(t=Kr(n.nextSibling))||!za(e,t))return e.flags=-1025&e.flags|2,Fa=!1,void(ja=e);Ha(ja,n)}ja=e,Ua=Kr(t.firstChild)}else e.flags=-1025&e.flags|2,Fa=!1,ja=e}}function Ba(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ja=e}function Va(e){if(e!==ja)return!1;if(!Fa)return Ba(e),Fa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Gr(t,e.memoizedProps))for(t=Ua;t;)Ha(e,t),t=Kr(t.nextSibling);if(Ba(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ua=Kr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ua=null}}else Ua=ja?Kr(e.stateNode.nextSibling):null;return!0}function Wa(){Ua=ja=null,Fa=!1}var Ka=[];function qa(){for(var e=0;e<Ka.length;e++)Ka[e]._workInProgressVersionPrimary=null;Ka.length=0}var Ya=k.ReactCurrentDispatcher,Xa=k.ReactCurrentBatchConfig,$a=0,Ja=null,Qa=null,eo=null,to=!1,no=!1;function ro(){throw Error(o(321))}function io(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function ao(e,t,n,r,i,a){if($a=a,Ja=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ya.current=null===e||null===e.memoizedState?Ro:Do,e=n(r,i),no){a=0;do{if(no=!1,!(25>a))throw Error(o(301));a+=1,eo=Qa=null,t.updateQueue=null,Ya.current=_o,e=n(r,i)}while(no)}if(Ya.current=No,t=null!==Qa&&null!==Qa.next,$a=0,eo=Qa=Ja=null,to=!1,t)throw Error(o(300));return e}function oo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===eo?Ja.memoizedState=eo=e:eo=eo.next=e,eo}function uo(){if(null===Qa){var e=Ja.alternate;e=null!==e?e.memoizedState:null}else e=Qa.next;var t=null===eo?Ja.memoizedState:eo.next;if(null!==t)eo=t,Qa=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Qa=e).memoizedState,baseState:Qa.baseState,baseQueue:Qa.baseQueue,queue:Qa.queue,next:null},null===eo?Ja.memoizedState=eo=e:eo=eo.next=e}return eo}function so(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Qa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,l=i;do{var c=l.lane;if(($a&c)===c)null!==s&&(s=s.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var f={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Ja.lanes|=c,Hu|=c}l=l.next}while(null!==l&&l!==i);null===s?a=r:s.next=u,lr(r,t.memoizedState)||(Oo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function co(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);lr(a,t.memoizedState)||(Oo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function fo(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=($a&e)===e)&&(t._workInProgressVersionPrimary=r,Ka.push(t))),e)return n(t._source);throw Ka.push(t),Error(o(350))}function ho(e,t,n,r){var i=Du;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=Ya.current,l=s.useState((function(){return fo(i,t,n)})),c=l[1],f=l[0];l=eo;var d=e.memoizedState,h=d.refs,p=h.getSnapshot,v=d.source;d=d.subscribe;var g=Ja;return e.memoizedState={refs:h,source:t,subscribe:r},s.useEffect((function(){h.getSnapshot=n,h.setSnapshot=c;var e=a(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(c(e),e=hs(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Gt(o),l=1<<s;r[s]|=e,o&=~l}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=hs(g);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:so,lastRenderedState:f}).dispatch=c=Mo.bind(null,Ja,e),l.queue=e,l.baseQueue=null,f=fo(i,t,n),l.memoizedState=l.baseState=f),f}function po(e,t,n){return ho(uo(),e,t,n)}function vo(e){var t=oo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:so,lastRenderedState:e}).dispatch=Mo.bind(null,Ja,e),[t.memoizedState,e]}function go(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ja.updateQueue)?(t={lastEffect:null},Ja.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function mo(e){return e={current:e},oo().memoizedState=e}function yo(){return uo().memoizedState}function bo(e,t,n,r){var i=oo();Ja.flags|=e,i.memoizedState=go(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=uo();r=void 0===r?null:r;var a=void 0;if(null!==Qa){var o=Qa.memoizedState;if(a=o.destroy,null!==r&&io(r,o.deps))return void go(t,n,a,r)}Ja.flags|=e,i.memoizedState=go(1|t,n,a,r)}function ko(e,t){return bo(516,4,e,t)}function To(e,t){return wo(516,4,e,t)}function So(e,t){return wo(4,2,e,t)}function Eo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function xo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Eo.bind(null,t,e),n)}function Io(){}function Co(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&io(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ao(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&io(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Po(e,t){var n=Gi();Vi(98>n?98:n,(function(){e(!0)})),Vi(97<n?97:n,(function(){var n=Xa.transition;Xa.transition=1;try{e(!1),t()}finally{Xa.transition=n}}))}function Mo(e,t,n){var r=ds(),i=hs(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Ja||null!==o&&o===Ja)no=to=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,lr(s,u))return}catch(l){}ps(e,i,r)}}var No={readContext:aa,useCallback:ro,useContext:ro,useEffect:ro,useImperativeHandle:ro,useLayoutEffect:ro,useMemo:ro,useReducer:ro,useRef:ro,useState:ro,useDebugValue:ro,useDeferredValue:ro,useTransition:ro,useMutableSource:ro,useOpaqueIdentifier:ro,unstable_isNewReconciler:!1},Ro={readContext:aa,useCallback:function(e,t){return oo().memoizedState=[e,void 0===t?null:t],e},useContext:aa,useEffect:ko,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Eo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=oo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=oo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Mo.bind(null,Ja,e),[r.memoizedState,e]},useRef:mo,useState:vo,useDebugValue:Io,useDeferredValue:function(e){var t=vo(e),n=t[0],r=t[1];return ko((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=vo(!1),t=e[0];return mo(e=Po.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=oo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ho(r,e,t,n)},useOpaqueIdentifier:function(){if(Fa){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(o(355))})),n=vo(t)[1];return 0===(2&Ja.mode)&&(Ja.flags|=516,go(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return vo(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:aa,useCallback:Co,useContext:aa,useEffect:To,useImperativeHandle:xo,useLayoutEffect:So,useMemo:Ao,useReducer:lo,useRef:yo,useState:function(){return lo(so)},useDebugValue:Io,useDeferredValue:function(e){var t=lo(so),n=t[0],r=t[1];return To((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=lo(so)[0];return[yo().current,e]},useMutableSource:po,useOpaqueIdentifier:function(){return lo(so)[0]},unstable_isNewReconciler:!1},_o={readContext:aa,useCallback:Co,useContext:aa,useEffect:To,useImperativeHandle:xo,useLayoutEffect:So,useMemo:Ao,useReducer:co,useRef:yo,useState:function(){return co(so)},useDebugValue:Io,useDeferredValue:function(e){var t=co(so),n=t[0],r=t[1];return To((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=co(so)[0];return[yo().current,e]},useMutableSource:po,useOpaqueIdentifier:function(){return co(so)[0]},unstable_isNewReconciler:!1},Lo=k.ReactCurrentOwner,Oo=!1;function Zo(e,t,n,r){t.child=null===e?Ia(t,null,n,r):xa(t,e.child,n,r)}function jo(e,t,n,r,i){n=n.render;var a=t.ref;return ia(t,i),r=ao(e,t,n,r,a,i),null===e||Oo?(t.flags|=1,Zo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Uo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Vs(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ks(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Fo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:fr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Ws(o,r)).ref=t.ref,e.return=t,t.child=e)}function Fo(e,t,n,r,i,a){if(null!==e&&fr(e.memoizedProps,r)&&e.ref===t.ref){if(Oo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(Oo=!0)}return Go(e,t,n,r,a)}function Ho(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Ts(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Ts(t,e),null;t.memoizedState={baseLanes:0},Ts(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ts(t,r);return Zo(e,t,i,n),t.child}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Go(e,t,n,r,i){var a=gi(n)?pi:di.current;return a=vi(t,a),ia(t,i),n=ao(e,t,n,r,a,i),null===e||Oo?(t.flags|=1,Zo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Bo(e,t,n,r,i){if(gi(n)){var a=!0;wi(t)}else a=!1;if(ia(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ya(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=aa(l):l=vi(t,l=gi(n)?pi:di.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==l)&&ba(t,o,r,l),oa=!1;var d=t.memoizedState;o.state=d,da(t,r,o,i),s=t.memoizedState,u!==r||d!==s||hi.current||oa?("function"===typeof c&&(va(t,n,c,r),s=t.memoizedState),(u=oa||ma(t,n,u,r,d,s,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=l,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,sa(e,t),u=t.memoizedProps,l=t.type===t.elementType?u:Xi(t.type,u),o.props=l,f=t.pendingProps,d=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=aa(s):s=vi(t,s=gi(n)?pi:di.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||d!==s)&&ba(t,o,r,s),oa=!1,d=t.memoizedState,o.state=d,da(t,r,o,i);var p=t.memoizedState;u!==f||d!==p||hi.current||oa?("function"===typeof h&&(va(t,n,h,r),p=t.memoizedState),(l=oa||ma(t,n,l,r,d,p,s))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=l):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Vo(e,t,n,r,a,i)}function Vo(e,t,n,r,i,a){zo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&ki(t,n,!1),au(e,t,a);r=t.stateNode,Lo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=xa(t,e.child,null,a),t.child=xa(t,null,u,a)):Zo(e,t,u,a),t.memoizedState=r.state,i&&ki(t,n,!0),t.child}function Wo(e){var t=e.stateNode;t.pendingContext?yi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yi(0,t.context,!1),Ra(e,t.containerInfo)}var Ko,qo,Yo,Xo,$o={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,a=Oa.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),ci(Oa,1&a),null===e?(void 0!==i.fallback&&Ga(t),e=i.children,a=i.fallback,o?(e=Qo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$o,e):"number"===typeof i.unstable_expectedLoadTime?(e=Qo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$o,t.lanes=33554432,e):((n=Ys({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=$o,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Qo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Ys(t,i,0,null),n=qs(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Ws(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ws(o,u),null!==e?r=Ws(e,r):(r=qs(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ra(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Zo(e,t,r.children,n),0!==(2&(r=Oa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ci(Oa,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Za(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Za(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Hu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ws(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ws(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!Fa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&mi(),null;case 3:return Da(),li(hi),li(di),qa(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Va(t)?t.flags|=4:r.hydrate||(t.flags|=256)),qo(t),null;case 5:La(t);var a=Na(Ma.current);if(n=t.type,null!==e&&null!=t.stateNode)Yo(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Na(Aa.current),Va(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[$r]=t,r[Jr]=u,n){case"dialog":Pr("cancel",r),Pr("close",r);break;case"iframe":case"object":case"embed":Pr("load",r);break;case"video":case"audio":for(e=0;e<xr.length;e++)Pr(xr[e],r);break;case"source":Pr("error",r);break;case"img":case"image":case"link":Pr("error",r),Pr("load",r);break;case"details":Pr("toggle",r);break;case"input":ee(r,u),Pr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Pr("invalid",r);break;case"textarea":se(r,u),Pr("invalid",r)}for(var l in Se(n,u),e=null,u)u.hasOwnProperty(l)&&(a=u[l],"children"===l?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(l)&&null!=a&&"onScroll"===l&&Pr("scroll",r));switch(n){case"input":X(r),re(r,u,!0);break;case"textarea":X(r),ce(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Ur)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(l=9===a.nodeType?a:a.ownerDocument,e===fe.html&&(e=de(n)),e===fe.html?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[$r]=t,e[Jr]=r,Ko(e,t,!1,!1),t.stateNode=e,l=Ee(n,r),n){case"dialog":Pr("cancel",e),Pr("close",e),a=r;break;case"iframe":case"object":case"embed":Pr("load",e),a=r;break;case"video":case"audio":for(a=0;a<xr.length;a++)Pr(xr[a],e);a=r;break;case"source":Pr("error",e),a=r;break;case"img":case"image":case"link":Pr("error",e),Pr("load",e),a=r;break;case"details":Pr("toggle",e),a=r;break;case"input":ee(e,r),a=Q(e,r),Pr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Pr("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Pr("invalid",e);break;default:a=r}Se(n,a);var c=a;for(u in c)if(c.hasOwnProperty(u)){var f=c[u];"style"===u?ke(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&ge(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&me(e,f):"number"===typeof f&&me(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Pr("scroll",e):null!=f&&w(e,u,f,l))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Ur)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Xo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Na(Ma.current),Na(Aa.current),Va(t)?(r=t.stateNode,n=t.memoizedProps,r[$r]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[$r]=t,t.stateNode=r)}return null;case 13:return li(Oa),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Va(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Oa.current)?0===ju&&(ju=3):(0!==ju&&3!==ju||(ju=4),null===Du||0===(134217727&Hu)&&0===(134217727&zu)||ys(Du,Lu))),(r||n)&&(t.flags|=4),null);case 4:return Da(),qo(t),null===e&&Nr(t.stateNode.containerInfo),null;case 10:return na(t),null;case 19:if(li(Oa),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(l=r.rendering))if(u)ou(r,!1);else{if(0!==ju||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(l=Za(e))){for(t.flags|=64,ou(r,!1),null!==(u=l.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(l=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=l.childLanes,u.lanes=l.lanes,u.child=l.child,u.memoizedProps=l.memoizedProps,u.memoizedState=l.memoizedState,u.updateQueue=l.updateQueue,u.type=l.type,e=l.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ci(Oa,1&Oa.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Wu&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Za(l))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!Fa)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Wu&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=Oa.current,ci(Oa,u?1&t|2:1&t),n):null;case 23:case 24:return Ss(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:gi(e.type)&&mi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(hi),li(di),qa(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return La(e),null;case 13:return li(Oa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Oa),null;case 4:return Da(),null;case 10:return na(e),null;case 23:case 24:return Ss(),null;default:return null}}function lu(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function cu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ko=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},qo=function(){},Yo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Na(Aa.current);var o,u=null;switch(n){case"input":a=Q(e,a),r=Q(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Ur)}for(f in Se(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var l=a[f];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var c=r[f];if(l=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&c!==l&&(null!=c||null!=l))if("style"===f)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(u||(u=[]),u.push(f,n)),n=c;else"dangerouslySetInnerHTML"===f?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(u=u||[]).push(f,c)):"children"===f?"string"!==typeof c&&"number"!==typeof c||(u=u||[]).push(f,""+c):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=c&&"onScroll"===f&&Pr("scroll",e),u||l===c||(u=[])):"object"===typeof c&&null!==c&&c.$$typeof===L?c.toString():(u=u||[]).push(f,c))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Xo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function du(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xu||(Xu=!0,$u=r),cu(0,t)},n}function hu(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return cu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ju?Ju=new Set([this]):Ju.add(this),cu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Fs(e,n)}else t.current=null}function gu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Wr(t.stateNode.containerInfo))}throw Error(o(163))}function mu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Zs(n,e),Os(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&ha(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}ha(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&kt(n)))))}throw Error(o(163))}function yu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bu(e,t){if(Si&&"function"===typeof Si.onCommitFiberUnmount)try{Si.onCommitFiberUnmount(Ti,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Zs(t,n);else{r=t;try{i()}catch(a){Fs(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Fs(t,a)}break;case 5:vu(t);break;case 4:xu(e,t)}}function wu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ku(e){return 5===e.tag||3===e.tag||4===e.tag}function Tu(e){e:{for(var t=e.return;null!==t;){if(ku(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(me(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ku(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Su(e,n,t):Eu(e,n,t)}function Su(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ur));else if(4!==r&&null!==(e=e.child))for(Su(e,t,n),e=e.sibling;null!==e;)Su(e,t,n),e=e.sibling}function Eu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Eu(e,t,n),e=e.sibling;null!==e;)Eu(e,t,n),e=e.sibling}function xu(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,l=s;;)if(bu(u,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===s)break e;for(;null===l.sibling;){if(null===l.return||l.return===s)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(bu(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Iu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Jr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ee(e,i),t=Ee(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?ke(n,s):"dangerouslySetInnerHTML"===u?ge(n,s):"children"===u?me(n,s):w(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":le(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,kt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Vu=zi(),yu(t.child,!0)),void Cu(t);case 19:return void Cu(t);case 23:case 24:return void yu(t,null!==t.memoizedState)}throw Error(o(163))}function Cu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=zs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Au(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Pu=Math.ceil,Mu=k.ReactCurrentDispatcher,Nu=k.ReactCurrentOwner,Ru=0,Du=null,_u=null,Lu=0,Ou=0,Zu=si(0),ju=0,Uu=null,Fu=0,Hu=0,zu=0,Gu=0,Bu=null,Vu=0,Wu=1/0;function Ku(){Wu=zi()+500}var qu,Yu=null,Xu=!1,$u=null,Ju=null,Qu=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,ls=0,cs=null,fs=!1;function ds(){return 0!==(48&Ru)?zi():-1!==us?us:us=zi()}function hs(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Gi()?1:2;if(0===ss&&(ss=Fu),0!==Yi.transition){0!==ls&&(ls=null!==Bu?Bu.pendingLanes:0),e=ss;var t=4186112&~ls;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Gi(),0!==(4&Ru)&&98===e?e=Ut(12,ss):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;zt(e,t,n),e===Du&&(zu|=t,4===ju&&ys(e,Lu));var r=Gi();1===t?0!==(8&Ru)&&0===(48&Ru)?bs(e):(gs(e,n),0===Ru&&(Ku(),Ki())):(0===(4&Ru)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),gs(e,n)),Bu=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function gs(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Gt(u),l=1<<s,c=a[s];if(-1===c){if(0===(l&r)||0!==(l&i)){c=t,Ot(l);var f=Lt;a[s]=10<=f?c+250:6<=f?c+5e3:-1}}else c<=t&&(e.expiredLanes|=l);u&=~l}if(r=Zt(e,e===Du?Lu:0),t=Lt,0===r)null!==n&&(n!==Oi&&Ii(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Oi&&Ii(n)}15===t?(n=bs.bind(null,e),null===ji?(ji=[n],Ui=xi(Ni,qi)):ji.push(n),n=Oi):14===t?n=Wi(99,bs.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Wi(n,ms.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ms(e){if(us=-1,ls=ss=0,0!==(48&Ru))throw Error(o(327));var t=e.callbackNode;if(Ls()&&e.callbackNode!==t)return null;var n=Zt(e,e===Du?Lu:0);if(0===n)return null;var r=n,i=Ru;Ru|=16;var a=Is();for(Du===e&&Lu===r||(Ku(),Es(e,r));;)try{Ps();break}catch(s){xs(e,s)}if(ta(),Mu.current=a,Ru=i,null!==_u?r=0:(Du=null,Lu=0,r=ju),0!==(Fu&zu))Es(e,0);else if(0!==r){if(2===r&&(Ru|=64,e.hydrate&&(e.hydrate=!1,Wr(e.containerInfo)),0!==(n=jt(e))&&(r=Cs(e,n))),1===r)throw t=Uu,Es(e,0),ys(e,n),gs(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Rs(e);break;case 3:if(ys(e,n),(62914560&n)===n&&10<(r=Vu+500-zi())){if(0!==Zt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){ds(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Br(Rs.bind(null,e),r);break}Rs(e);break;case 4:if(ys(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Gt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Pu(n/1960))-n)){e.timeoutHandle=Br(Rs.bind(null,e),n);break}Rs(e);break;default:throw Error(o(329))}}return gs(e,zi()),e.callbackNode===t?ms.bind(null,e):null}function ys(e,t){for(t&=~Gu,t&=~zu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Gt(t),r=1<<n;e[n]=-1,t&=~r}}function bs(e){if(0!==(48&Ru))throw Error(o(327));if(Ls(),e===Du&&0!==(e.expiredLanes&Lu)){var t=Lu,n=Cs(e,t);0!==(Fu&zu)&&(n=Cs(e,t=Zt(e,t)))}else n=Cs(e,t=Zt(e,0));if(0!==e.tag&&2===n&&(Ru|=64,e.hydrate&&(e.hydrate=!1,Wr(e.containerInfo)),0!==(t=jt(e))&&(n=Cs(e,t))),1===n)throw n=Uu,Es(e,0),ys(e,t),gs(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rs(e),gs(e,zi()),null}function ws(e,t){var n=Ru;Ru|=1;try{return e(t)}finally{0===(Ru=n)&&(Ku(),Ki())}}function ks(e,t){var n=Ru;Ru&=-2,Ru|=8;try{return e(t)}finally{0===(Ru=n)&&(Ku(),Ki())}}function Ts(e,t){ci(Zu,Ou),Ou|=t,Fu|=t}function Ss(){Ou=Zu.current,li(Zu)}function Es(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Vr(n)),null!==_u)for(n=_u.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&mi();break;case 3:Da(),li(hi),li(di),qa();break;case 5:La(r);break;case 4:Da();break;case 13:case 19:li(Oa);break;case 10:na(r);break;case 23:case 24:Ss()}n=n.return}Du=e,_u=Ws(e.current,null),Lu=Ou=Fu=t,ju=0,Uu=null,Gu=zu=Hu=0}function xs(e,t){for(;;){var n=_u;try{if(ta(),Ya.current=No,to){for(var r=Ja.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}to=!1}if($a=0,eo=Qa=Ja=null,no=!1,Nu.current=null,null===n||null===n.return){ju=1,Uu=t,_u=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Lu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var l=s;if(0===(2&u.mode)){var c=u.alternate;c?(u.updateQueue=c.updateQueue,u.memoizedState=c.memoizedState,u.lanes=c.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Oa.current),d=o;do{var h;if(h=13===d.tag){var p=d.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var v=d.memoizedProps;h=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(h){var g=d.updateQueue;if(null===g){var m=new Set;m.add(l),d.updateQueue=m}else g.add(l);if(0===(2&d.mode)){if(d.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var y=la(-1,1);y.tag=2,ca(u,y)}u.lanes|=1;break e}s=void 0,u=t;var b=a.pingCache;if(null===b?(b=a.pingCache=new fu,s=new Set,b.set(l,s)):void 0===(s=b.get(l))&&(s=new Set,b.set(l,s)),!s.has(u)){s.add(u);var w=Hs.bind(null,a,l,u);l.then(w,w)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);s=Error((K(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==ju&&(ju=2),s=lu(s,u),d=o;do{switch(d.tag){case 3:a=s,d.flags|=4096,t&=-t,d.lanes|=t,fa(d,du(0,a,t));break e;case 1:a=s;var k=d.type,T=d.stateNode;if(0===(64&d.flags)&&("function"===typeof k.getDerivedStateFromError||null!==T&&"function"===typeof T.componentDidCatch&&(null===Ju||!Ju.has(T)))){d.flags|=4096,t&=-t,d.lanes|=t,fa(d,hu(d,a,t));break e}}d=d.return}while(null!==d)}Ns(n)}catch(S){t=S,_u===n&&null!==n&&(_u=n=n.return);continue}break}}function Is(){var e=Mu.current;return Mu.current=No,null===e?No:e}function Cs(e,t){var n=Ru;Ru|=16;var r=Is();for(Du===e&&Lu===t||Es(e,t);;)try{As();break}catch(i){xs(e,i)}if(ta(),Ru=n,Mu.current=r,null!==_u)throw Error(o(261));return Du=null,Lu=0,ju}function As(){for(;null!==_u;)Ms(_u)}function Ps(){for(;null!==_u&&!Ci();)Ms(_u)}function Ms(e){var t=qu(e.alternate,e,Ou);e.memoizedProps=e.pendingProps,null===t?Ns(e):_u=t,Nu.current=null}function Ns(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Ou)))return void(_u=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ou)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(_u=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(_u=t);_u=t=e}while(null!==t);0===ju&&(ju=5)}function Rs(e){var t=Gi();return Vi(99,Ds.bind(null,e,t)),null}function Ds(e,t){do{Ls()}while(null!==es);if(0!==(48&Ru))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var l=31-Gt(a),c=1<<l;i[l]=0,u[l]=-1,s[l]=-1,a&=~c}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Du&&(_u=Du=null,Lu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ru,Ru|=32,Nu.current=null,Fr=qt,gr(u=vr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(c=s.getSelection&&s.getSelection())&&0!==c.rangeCount){s=c.anchorNode,a=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{s.nodeType,l.nodeType}catch(I){s=null;break e}var f=0,d=-1,h=-1,p=0,v=0,g=u,m=null;t:for(;;){for(var y;g!==s||0!==a&&3!==g.nodeType||(d=f+a),g!==l||0!==c&&3!==g.nodeType||(h=f+c),3===g.nodeType&&(f+=g.nodeValue.length),null!==(y=g.firstChild);)m=g,g=y;for(;;){if(g===u)break t;if(m===s&&++p===a&&(d=f),m===l&&++v===c&&(h=f),null!==(y=g.nextSibling))break;m=(g=m).parentNode}g=y}s=-1===d||-1===h?null:{start:d,end:h}}else s=null;s=s||{start:0,end:0}}else s=null;Hr={focusedElem:u,selectionRange:s},qt=!1,cs=null,fs=!1,Yu=r;do{try{_s()}catch(I){if(null===Yu)throw Error(o(330));Fs(Yu,I),Yu=Yu.nextEffect}}while(null!==Yu);cs=null,Yu=r;do{try{for(u=e;null!==Yu;){var b=Yu.flags;if(16&b&&me(Yu.stateNode,""),128&b){var w=Yu.alternate;if(null!==w){var k=w.ref;null!==k&&("function"===typeof k?k(null):k.current=null)}}switch(1038&b){case 2:Tu(Yu),Yu.flags&=-3;break;case 6:Tu(Yu),Yu.flags&=-3,Iu(Yu.alternate,Yu);break;case 1024:Yu.flags&=-1025;break;case 1028:Yu.flags&=-1025,Iu(Yu.alternate,Yu);break;case 4:Iu(Yu.alternate,Yu);break;case 8:xu(u,s=Yu);var T=s.alternate;wu(s),null!==T&&wu(T)}Yu=Yu.nextEffect}}catch(I){if(null===Yu)throw Error(o(330));Fs(Yu,I),Yu=Yu.nextEffect}}while(null!==Yu);if(k=Hr,w=vr(),b=k.focusedElem,u=k.selectionRange,w!==b&&b&&b.ownerDocument&&pr(b.ownerDocument.documentElement,b)){null!==u&&gr(b)&&(w=u.start,void 0===(k=u.end)&&(k=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(k,b.value.length)):(k=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(k=k.getSelection(),s=b.textContent.length,T=Math.min(u.start,s),u=void 0===u.end?T:Math.min(u.end,s),!k.extend&&T>u&&(s=u,u=T,T=s),s=hr(b,T),a=hr(b,u),s&&a&&(1!==k.rangeCount||k.anchorNode!==s.node||k.anchorOffset!==s.offset||k.focusNode!==a.node||k.focusOffset!==a.offset)&&((w=w.createRange()).setStart(s.node,s.offset),k.removeAllRanges(),T>u?(k.addRange(w),k.extend(a.node,a.offset)):(w.setEnd(a.node,a.offset),k.addRange(w))))),w=[];for(k=b;k=k.parentNode;)1===k.nodeType&&w.push({element:k,left:k.scrollLeft,top:k.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(k=w[b]).element.scrollLeft=k.left,k.element.scrollTop=k.top}qt=!!Fr,Hr=Fr=null,e.current=n,Yu=r;do{try{for(b=e;null!==Yu;){var S=Yu.flags;if(36&S&&mu(b,Yu.alternate,Yu),128&S){w=void 0;var E=Yu.ref;if(null!==E){var x=Yu.stateNode;Yu.tag,w=x,"function"===typeof E?E(w):E.current=w}}Yu=Yu.nextEffect}}catch(I){if(null===Yu)throw Error(o(330));Fs(Yu,I),Yu=Yu.nextEffect}}while(null!==Yu);Yu=null,Zi(),Ru=i}else e.current=n;if(Qu)Qu=!1,es=e,ts=t;else for(Yu=r;null!==Yu;)t=Yu.nextEffect,Yu.nextEffect=null,8&Yu.flags&&((S=Yu).sibling=null,S.stateNode=null),Yu=t;if(0===(r=e.pendingLanes)&&(Ju=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,Si&&"function"===typeof Si.onCommitFiberRoot)try{Si.onCommitFiberRoot(Ti,n,void 0,64===(64&n.current.flags))}catch(I){}if(gs(e,zi()),Xu)throw Xu=!1,e=$u,$u=null,e;return 0!==(8&Ru)||Ki(),null}function _s(){for(;null!==Yu;){var e=Yu.alternate;fs||null===cs||(0!==(8&Yu.flags)?Qe(Yu,cs)&&(fs=!0):13===Yu.tag&&Au(e,Yu)&&Qe(Yu,cs)&&(fs=!0));var t=Yu.flags;0!==(256&t)&&gu(e,Yu),0===(512&t)||Qu||(Qu=!0,Wi(97,(function(){return Ls(),null}))),Yu=Yu.nextEffect}}function Ls(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Vi(e,js)}return!1}function Os(e,t){ns.push(t,e),Qu||(Qu=!0,Wi(97,(function(){return Ls(),null})))}function Zs(e,t){rs.push(t,e),Qu||(Qu=!0,Wi(97,(function(){return Ls(),null})))}function js(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Ru))throw Error(o(331));var t=Ru;Ru|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(l){if(null===a)throw Error(o(330));Fs(a,l)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(l){if(null===a)throw Error(o(330));Fs(a,l)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Ru=t,Ki(),!0}function Us(e,t,n){ca(e,t=du(0,t=lu(n,t),1)),t=ds(),null!==(e=vs(e,1))&&(zt(e,1,t),gs(e,t))}function Fs(e,t){if(3===e.tag)Us(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Us(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r))){var i=hu(n,e=lu(t,e),1);if(ca(n,i),i=ds(),null!==(n=vs(n,1)))zt(n,1,i),gs(n,i);else if("function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Hs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ds(),e.pingedLanes|=e.suspendedLanes&n,Du===e&&(Lu&n)===n&&(4===ju||3===ju&&(62914560&Lu)===Lu&&500>zi()-Vu?Es(e,0):Gu|=n),gs(e,t)}function zs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Gi()?1:2:(0===ss&&(ss=Fu),0===(t=Ft(62914560&~ss))&&(t=4194304))),n=ds(),null!==(e=vs(e,t))&&(zt(e,t,n),gs(e,n))}function Gs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Bs(e,t,n,r){return new Gs(e,t,n,r)}function Vs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ws(e,t){var n=e.alternate;return null===n?((n=Bs(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ks(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Vs(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return qs(n.children,i,a,t);case O:u=8,i|=16;break;case x:u=8,i|=1;break;case I:return(e=Bs(12,n,t,8|i)).elementType=I,e.type=I,e.lanes=a,e;case M:return(e=Bs(13,n,t,i)).type=M,e.elementType=M,e.lanes=a,e;case N:return(e=Bs(19,n,t,i)).elementType=N,e.lanes=a,e;case Z:return Ys(n,i,a,t);case j:return(e=Bs(24,n,t,i)).elementType=j,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:u=10;break e;case A:u=9;break e;case P:u=11;break e;case R:u=14;break e;case D:u=16,r=null;break e;case _:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Bs(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function qs(e,t,n,r){return(e=Bs(7,e,r,t)).lanes=n,e}function Ys(e,t,n,r){return(e=Bs(23,e,r,t)).elementType=Z,e.lanes=n,e}function Xs(e,t,n){return(e=Bs(6,e,null,t)).lanes=n,e}function $s(e,t,n){return(t=Bs(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Js(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ht(0),this.expirationTimes=Ht(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ht(0),this.mutableSourceEagerHydrationData=null}function Qs(e,t,n,r){var i=t.current,a=ds(),u=hs(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(gi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var l=n.type;if(gi(l)){n=bi(n,l,s);break e}}n=s}else n=fi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ca(i,t),ps(i,u,a),u}function el(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nl(e,t){tl(e,t),(e=e.alternate)&&tl(e,t)}function rl(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Js(e,t,null!=n&&!0===n.hydrate),t=Bs(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[Qr]=n.current,Nr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function il(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function al(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=el(o);u.call(e)}}Qs(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new rl(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=el(o);s.call(e)}}ks((function(){Qs(t,o,e,i)}))}return el(o)}function ol(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!il(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}qu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||hi.current)Oo=!0;else{if(0===(n&r)){switch(Oo=!1,t.tag){case 3:Wo(t),Wa();break;case 5:_a(t);break;case 1:gi(t.type)&&wi(t);break;case 4:Ra(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ci($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(ci(Oa,1&Oa.current),null!==(t=au(e,t,n))?t.sibling:null);ci(Oa,1&Oa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ci(Oa,Oa.current),r)break;return null;case 23:case 24:return t.lanes=0,Ho(e,t,n)}return au(e,t,n)}Oo=0!==(16384&e.flags)}else Oo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=vi(t,di.current),ia(t,n),i=ao(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&va(t,r,u,e),i.updater=ga,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Vo(null,t,r,!0,a,n)}else t.tag=0,Zo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Vs(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===R)return 14}return 2}(i),e=Xi(i,e),a){case 0:t=Go(null,t,i,e,n);break e;case 1:t=Bo(null,t,i,e,n);break e;case 11:t=jo(null,t,i,e,n);break e;case 14:t=Uo(null,t,i,Xi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Go(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Bo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Wo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,sa(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Wa(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Ua=Kr(t.stateNode.containerInfo.firstChild),ja=t,a=Fa=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Ka.push(a);for(n=Ia(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Zo(e,t,r,n),Wa();t=t.child}return t;case 5:return _a(t),null===e&&Ga(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Gr(r,i)?u=null:null!==a&&Gr(r,a)&&(t.flags|=16),zo(e,t),Zo(e,t,u,n),t.child;case 6:return null===e&&Ga(t),null;case 13:return Jo(e,t,n);case 4:return Ra(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xa(t,null,r,n):Zo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Zo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Zo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(ci($i,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=lr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!hi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){u=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&a)){1===s.tag&&((c=la(-1,n&-n)).tag=2,ca(s,c)),s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),ra(s.return,n),l.lanes|=n;break}c=c.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Zo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,ia(t,n),r=r(i=aa(i,a.unstable_observedBits)),t.flags|=1,Zo(e,t,r,n),t.child;case 14:return a=Xi(i=t.type,t.pendingProps),Uo(e,t,i,a=Xi(i.type,a),r,n);case 15:return Fo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,wi(t)):e=!1,ia(t,n),ya(t,r,i),wa(t,r,i,n),Vo(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return Ho(e,t,n)}throw Error(o(156,t.tag))},rl.prototype.render=function(e){Qs(e,this._internalRoot,null,null)},rl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Qs(null,e,null,(function(){t[Qr]=null}))},et=function(e){13===e.tag&&(ps(e,4,ds()),nl(e,4))},tt=function(e){13===e.tag&&(ps(e,67108864,ds()),nl(e,67108864))},nt=function(e){if(13===e.tag){var t=ds(),n=hs(e);ps(e,n,t),nl(e,n)}},rt=function(e,t){return t()},Ie=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ii(r);if(!i)throw Error(o(90));$(r),ne(r,i)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Re=ws,De=function(e,t,n,r,i){var a=Ru;Ru|=4;try{return Vi(98,e.bind(null,t,n,r,i))}finally{0===(Ru=a)&&(Ku(),Ki())}},_e=function(){0===(49&Ru)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,gs(e,zi())}))}Ki()}(),Ls())},Le=function(e,t){var n=Ru;Ru|=2;try{return e(t)}finally{0===(Ru=n)&&(Ku(),Ki())}};var ul={Events:[ni,ri,ii,Me,Ne,Ls,{current:!1}]},sl={findFiberByHostInstance:ti,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},ll={bundleType:sl.bundleType,version:sl.version,rendererPackageName:sl.rendererPackageName,rendererConfig:sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:sl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cl.isDisabled&&cl.supportsFiber)try{Ti=cl.inject(ll),Si=cl}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ul,t.createPortal=ol,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ru;if(0!==(48&n))return e(t);Ru|=1;try{if(e)return Vi(99,e.bind(null,t))}finally{Ru=n,Ki()}},t.hydrate=function(e,t,n){if(!il(t))throw Error(o(200));return al(null,e,t,!0,n)},t.render=function(e,t,n){if(!il(t))throw Error(o(200));return al(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!il(e))throw Error(o(40));return!!e._reactRootContainer&&(ks((function(){al(null,null,e,!1,(function(){e._reactRootContainer=null,e[Qr]=null}))})),!0)},t.unstable_batchedUpdates=ws,t.unstable_createPortal=function(e,t){return ol(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!il(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return al(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},321:function(e,t,n){n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:o.current}}t.jsx=l,t.jsxs=l},117:function(e,t,n){var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var l=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),l=f("react.memo"),c=f("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function m(){}function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=g.prototype;var b=y.prototype=new m;b.constructor=y,r(b,g.prototype),b.isPureReactComponent=!0;var w={current:null},k=Object.prototype.hasOwnProperty,T={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)k.call(t,r)&&!T.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:w.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var x=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+I(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(x,"$&/")+"/"),C(o,t,n,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(x,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=r+I(u=e[l],l);s+=C(u,t,n,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(u=e.next()).done;)s+=C(u=u.value,t,n,c=r+I(u,l++),o);else if("object"===u)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var M={current:null};function N(){var e=M.current;if(null===e)throw Error(h(321));return e}var R={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(h(143));return e}},t.Component=g,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(h(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=w.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!T.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){l=Array(c);for(var f=0;f<c;f++)l[f]=arguments[f+2];a.children=l}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return N().useCallback(e,t)},t.useContext=function(e,t){return N().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return N().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return N().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return N().useLayoutEffect(e,t)},t.useMemo=function(e,t){return N().useMemo(e,t)},t.useReducer=function(e,t,n){return N().useReducer(e,t,n)},t.useRef=function(e){return N().useRef(e)},t.useState=function(e){return N().useState(e)},t.version="17.0.2"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(321)},813:function(e,t){var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,c=null,f=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(f,0))},r=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,h=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,g=null,m=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,k=w.port2;w.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();b=e+y;try{g(!0,e)?k.postMessage(null):(v=!1,g=null)}catch(n){throw k.postMessage(null),n}}else v=!1},n=function(e){g=e,v||(v=!0,k.postMessage(null))},r=function(e,n){m=d((function(){e(t.unstable_now())}),n)},i=function(){h(m),m=-1}}function T(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<x(i,t)))break e;e[r]=t,e[n]=i,n=r}}function S(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>x(o,n))void 0!==s&&0>x(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>x(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function x(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],C=[],A=1,P=null,M=3,N=!1,R=!1,D=!1;function _(e){for(var t=S(C);null!==t;){if(null===t.callback)E(C);else{if(!(t.startTime<=e))break;E(C),t.sortIndex=t.expirationTime,T(I,t)}t=S(C)}}function L(e){if(D=!1,_(e),!R)if(null!==S(I))R=!0,n(O);else{var t=S(C);null!==t&&r(L,t.startTime-e)}}function O(e,n){R=!1,D&&(D=!1,i()),N=!0;var a=M;try{for(_(n),P=S(I);null!==P&&(!(P.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=P.callback;if("function"===typeof o){P.callback=null,M=P.priorityLevel;var u=o(P.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?P.callback=u:P===S(I)&&E(I),_(n)}else E(I);P=S(I)}if(null!==P)var s=!0;else{var l=S(C);null!==l&&r(L,l.startTime-n),s=!1}return s}finally{P=null,M=a,N=!1}}var Z=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||N||(R=!0,n(O))},t.unstable_getCurrentPriorityLevel=function(){return M},t.unstable_getFirstCallbackNode=function(){return S(I)},t.unstable_next=function(e){switch(M){case 1:case 2:case 3:var t=3;break;default:t=M}var n=M;M=t;try{return e()}finally{M=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=Z,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=M;M=e;try{return t()}finally{M=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:A++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,T(C,e),null===S(I)&&e===S(C)&&(D?i():D=!0,r(L,o-u))):(e.sortIndex=s,T(I,e),R||N||(R=!0,n(O))),e},t.unstable_wrapCallback=function(e){var t=M;return function(){var n=M;M=t;try{return e.apply(this,arguments)}finally{M=n}}}},296:function(e,t,n){e.exports=n(813)},907:function(e,t,n){function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},326:function(e,t,n){function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},671:function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},466:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(2);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function o(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},762:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(181);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}}},277:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(120),i=n(814),a=n(2),o=n(326);function u(e){var t=(0,i.Z)();return function(){var n,i=(0,r.Z)(e);if(t){var u=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,u)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===(0,a.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(e)}(this,n)}}},752:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(120);function i(){return i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.Z)(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},i.apply(this,arguments)}},120:function(e,t,n){function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},136:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(611);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},814:function(e,t,n){function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})},165:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(2);function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},u=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(M){c=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),u=new C(r||[]);return a(o,"_invoke",{value:S(e,n,u)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(M){return{type:"throw",arg:M}}}e.wrap=f;var h={};function p(){}function v(){}function g(){}var m={};c(m,u,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(A([])));b&&b!==t&&n.call(b,u)&&(m=b);var w=g.prototype=p.prototype=Object.create(m);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function i(a,o,u,s){var l=d(e[a],e,o);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"==(0,r.Z)(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,u,s)}),(function(e){i("throw",e,u,s)})):t.resolve(f).then((function(e){c.value=e,u(c)}),(function(e){return i("throw",e,u,s)}))}s(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return P()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=E(o,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function A(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return v.prototype=g,a(w,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:v,configurable:!0}),v.displayName=c(g,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,c(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},k(T.prototype),c(T.prototype,s,(function(){return this})),e.AsyncIterator=T,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new T(f(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(w),c(w,l,"Generator"),c(w,u,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}},611:function(e,t,n){function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},982:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(907);var i=n(181);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2:function(e,t,n){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e=n(181);function t(t,n){return function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(c){l=!0,i=c}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return u}}(t,n)||(0,e.Z)(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var r=n(791),i=n(164),a=n(374),o=n(326),u=n(752),s=n(120),l=n(136),c=n(277),f=n(671),d=n(466),h=n(982),p=n(165),v=n(762),g=a.clpp._;(function(e){var t,n,r,i,a,m,y,b,w,k,T,S,E,x,I,C,A,P,M,N,R,D,_,L,O,Z,j,U,F,H,z,G,B,V,W,K,q,Y,X,$,J,Q,ee,te,ne,re,ie,ae,oe,ue,se,le,ce,fe,de,he,pe,ve,ge,me,ye,be,we,ke,Te,Se,Ee,xe,Ie,Ce,Ae,Pe,Me,Ne,Re,De,_e,Le,Oe,Ze,je,Ue,Fe,He,ze,Ge,Be,Ve,We,Ke,qe,Ye,Xe,$e,Je,Qe,et,tt,nt,rt,it,at,ot,ut,st,lt,ct,ft,dt,ht,pt,vt,gt,mt,yt,bt,wt,kt,Tt,St,Et,xt,It,Ct,At,Pt,Mt,Nt,Rt,Dt,_t,Lt,Ot,Zt,jt,Ut,Ft,Ht,zt,Gt,Bt,Vt,Wt,Kt,qt,Yt,Xt,$t,Jt,Qt,en,tn,nn,rn,an,on,un,sn,ln,cn,fn,dn,hn,pn,vn,gn,mn,yn,bn,wn,kn,Tn,Sn,En,xn,In,Cn,An,Pn,Mn,Nn,Rn,Dn,_n,Ln,On,Zn,jn,Un,Fn,Hn,zn,Gn,Bn,Vn,Wn,Kn,qn,Yn,Xn,$n,Jn,Qn,er,tr,nr,rr,ir,ar,or,ur,sr,lr,cr,fr,dr,hr,pr,vr,gr,mr,yr,br,wr,kr,Tr,Sr,Er,xr,Ir,Cr;t=" buffer",n=" is being or has been set up",r="</DATA></WRMHEADER>",i="Jumping forward",a="MediaSource threw QuotaExceededError:",g.ws="No stream with id",g.xs="Player is in ERROR state and can not switch to ",m="PrestoPlay TextTrack",y="Removing audio from variant - audio not compatible with platform",g.As="Updating manifest...",b="bufferBehind=",w="bufferedBehind=",k="calling onCanSwitch()...",T="clpp.mse.Player",S="currentPeriod.startTime=",g.Gs="onChooseStreams_",E="presentationTime=",x="reference.endTime=",I="reference.startTime=",g.Ks="subtitle",g.Ls="subtitles",C="switch: Stream ",g.Ns=function(e){try{var t=e.f.getUint8(e.a);return e.a+=1,t}catch(t){g.Ai()}},g.Os=function(e){if(1>e.a)throw g.Ai();--e.a},A=function(e){for(var t=e.a;g.zi(e)&&0!==e.f.getUint8(e.a);)e.a+=1;return t=e.f.buffer.slice(t,e.a),e.a+=1,g.gg(t)},P=function(e,t){return!!g.uh("Edge/")||e.J.has(t)},M=function(e,t){var n=t.audio,r=t.video;if(n&&n.encrypted&&!P(e,g.Ig(n.mimeType,n.codecs))||r&&r.encrypted&&!P(e,g.Ig(r.mimeType,r.codecs)))return!1;var i=e.keySystem();return 0==t.drmInfos.length||t.drmInfos.some((function(e){return e.keySystem==i}))},g.Ss=(0,p.Z)().mark((function e(t){var n,r,i,a,o,u;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=-1,r=void 0,i=void 0,a=(0,v.Z)(t),e.prev=2,a.s();case 4:if((o=a.n()).done){e.next=15;break}if(u=o.value,e.t0=0<=n,!e.t0){e.next=10;break}return e.next=10,{ld:n,item:i,rf:r,next:u};case 10:n++,r=i,i=u;case 13:e.next=4;break;case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),a.e(e.t1);case 20:return e.prev=20,a.f(),e.finish(20);case 23:if(e.t2=-1!==n,!e.t2){e.next=27;break}return e.next=27,{ld:n,rf:r,item:i,next:void 0};case 27:case"end":return e.stop()}}),e,null,[[2,17,20,23]])})),N=function(e,t){for(var n in t)if(t[n]===e)return n;return""},R=function(e,t){return e=g.Gg(e),t=g.Gg(t),e=e.split("-"),t=t.split("-"),e[0]==t[0]&&1==e.length&&2==t.length},D=function(e){return e.language?g.Gg(e.language):e.audio&&e.audio.language?g.Gg(e.audio.language):e.video&&e.video.language?g.Gg(e.video.language):g.pe},g.Ws=function(e,t){e=g.Gg(e);var n,r=new Set,i=(0,v.Z)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;r.add(g.Gg(a))}}catch(w){i.e(w)}finally{i.f()}var o,u=(0,v.Z)(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;if(s==e)return s}}catch(w){u.e(w)}finally{u.f()}var l,c=(0,v.Z)(r);try{for(c.s();!(l=c.n()).done;){var f=l.value;if(R(f,e))return f}}catch(w){c.e(w)}finally{c.f()}var d,h=(0,v.Z)(r);try{for(h.s();!(d=h.n()).done;){var p=d.value;if(a=p,t=e,a=g.Gg(a),t=g.Gg(t),a=a.split("-"),t=t.split("-"),t=2==a.length&&2==t.length&&a[0]==t[0])return p}}catch(w){h.e(w)}finally{h.f()}var m,y=(0,v.Z)(r);try{for(y.s();!(m=y.n()).done;){var b=m.value;if(R(e,b))return b}}catch(w){y.e(w)}finally{y.f()}return null},_=function(e){var t=[e.mimeType];return g.wn.forEach((function(n,r){(r=e[r])&&t.push(n+'="'+r+'"')})),t.join(";")},g.Ys=function(e){var t=(e=e.split("."))[0];return e.pop(),[t,e.join(".")]},L=function(e,t){if(e===t)return!0;if(!e||!t||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"total";t=new g.yn(void 0,t);var n,r=(0,v.Z)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.a.push(i)}}catch(a){r.e(a)}finally{r.f()}return t.length=e.length,t},Z=function(e,t){var n,r=0,i=(0,v.Z)(e);try{for(i.s();!(n=i.n()).done;){r+=t(n.value)?1:0}}catch(a){i.e(a)}finally{i.f()}return r},g.bt=function(e,t){if(!e.length)return t;if(!t.length)return e;for(var n=[],r=0;r<e.length;r++)for(var i=0;i<t.length;i++)if(e[r].keySystem===t[i].keySystem&&e[r].periodId===t[i].periodId){var a=e[r];i=t[i];var o=[];o=(o=o.concat(a.initData||[])).concat(i.initData||[]);var u=[];u=(u=u.concat(a.keyIds)).concat(i.keyIds),n.push({keySystem:a.keySystem,licenseServerUri:a.licenseServerUri||i.licenseServerUri,distinctiveIdentifierRequired:a.distinctiveIdentifierRequired||i.distinctiveIdentifierRequired,persistentStateRequired:a.persistentStateRequired||i.persistentStateRequired,videoRobustness:a.videoRobustness||i.videoRobustness,audioRobustness:a.audioRobustness||i.audioRobustness,serverCertificate:a.serverCertificate||i.serverCertificate,initData:o,keyIds:u,periodId:a.periodId});break}return n},g.ct=function(e,t){return e.concat(t)},j=function(){},g.et=function(e,t){if(0==t.length)return e;var n=t.map((function(e){return new g.dh(e)}));return e.map((function(e){return new g.dh(e)})).map((function(e){return n.map(e.resolve.bind(e))})).reduce(g.ct,[]).map((function(e){return e.toString()}))},g.ft=function(e,t,n){return{keySystem:e,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:t||[],keyIds:[],periodId:n||null}},U=function(e,t){return e.start-t.start},F=function(e){return e.f.map((function(e){return{start:e.start,end:e.end,width:e.width,height:e.height,bandwidth:e.bandwidth,rendition:e.rendition}}))},H=function(e){e.a&&e.a.trigger(new g.F(g.Wb))},z=function(e){if(e.a){for(var t=!1,n={},r=0;r<e.f.length;r++){var i=e.f[r],a=i.width+"x"+i.height,o=n[a];if(o&&o!==i.bandwidth){t=!0;break}n[a]=i.bandwidth}t&&!e.h?(e.log.debug("Tracking timeupdates"),e.a.on(g.me,e.g,e),e.h=!0):!t&&e.h&&(e.log.debug("Stop tracking timeupdates"),e.a.off(g.me,e.g),e.h=!1)}},G=function(e,t,n){e.f=e.f.filter((function(e){return!(e.end<=t||e.start>=n)&&(e.start=Math.max(e.start,t),e.end=Math.min(e.end,n),!0)})),e.a&&e.a.trigger(new g.F(g.Ce))},g.lt=function(e,t){return Array.prototype.filter.call(e.childNodes,(function(e){return e instanceof Element&&e.tagName==t}))},g.mt=function(e,t){return 1!=(e=g.lt(e,t)).length?null:e[0]},g.nt=function(e){return Array.prototype.every.call(e.childNodes,(function(e){return e.nodeType==Node.TEXT_NODE||e.nodeType==Node.CDATA_SECTION_NODE}))?e.textContent.trim():null},g.ot=function(e,t){var n=new DOMParser,r=null,i=null;try{i=n.parseFromString(e,g.le)}catch(a){}return i&&i.documentElement.tagName==t&&(r=i.documentElement),r&&0<r.getElementsByTagName("parsererror").length?null:r},g.qt=function(e){var t=new Uint8Array(br),n=4+t.byteLength+e.h.byteLength+4+e.f.byteLength,r=new g.Li(n,!1);return g.M(r,n),g.yi(r,t),g.yi(r,e.h),g.M(r,e.f.byteLength),g.yi(r,e.f),g.L(r.buffer)},g.tt=function(e){var t=g.ji(e);return t=parseInt(t.byteLength,10).toString(16),t=g.ji("12"+t+e),new kr(yr,e,t)},B=function(e){var t=[];return t.push(e[3]),t.push(e[2]),t.push(e[1]),t.push(e[0]),t.push(e[5]),t.push(e[4]),t.push(e[7]),t.push(e[6]),(e=g.L(e)).set(t,0),e},g.xt=function(e,t,n,i){var a=g.ji(t),o=B(a);e:switch(a=g.ei(o),o=o.byteLength,g.D("Trying to create PlayReady header in version",e),e){case"4.0.0.0":a=['<WRMHEADER xmlns="'.concat("http://schemas.microsoft.com/DRM/2007/03/PlayReadyHeader",'" version="',e,'">'),"<DATA><PROTECTINFO>","<KEYLEN>".concat(o,"</KEYLEN>"),"<ALGID>AESCTR</ALGID></PROTECTINFO>","<KID>".concat(a,"</KID>"),n?"<CHECKSUM>".concat(n,"</CHECKSUM>"):"",i?"<LA_URL>".concat(i,"</LA_URL>"):"",r].join("");break e;case"4.1.0.0":a=['<WRMHEADER xmlns="'.concat("http://schemas.microsoft.com/DRM/2007/03/PlayReadyHeader",'" version="',e,'">'),'<DATA><PROTECTINFO><KID ALGID="AESCTR" ',n?'CHECKSUM="'.concat(n,'" '):"",'VALUE="'.concat(a,'"'),"></KID></PROTECTINFO>",i?"<LA_URL>".concat(i,"</LA_URL>"):"",r].join("");break e;case"4.2.0.0":case"4.3.0.0":a=['<WRMHEADER xmlns="'.concat("http://schemas.microsoft.com/DRM/2007/03/PlayReadyHeader",'" version="',e,'">'),'<DATA><PROTECTINFO><KIDS><KID ALGID="AESCTR" ',n?'CHECKSUM="'.concat(n,'" '):"",'VALUE="'.concat(a,'"'),"></KID></KIDS></PROTECTINFO>",i?"<LA_URL>".concat(i,"</LA_URL>"):"",r].join("");break e;default:g.z("Cannot create PlayReady header in version",e),a=""}return g.D("New payload",a),a=g.L(g.lg(a,!0)),new Tr(mr,t,i||null,a,e,n)},g.yt=function(e,t){return t===e.version?e:g.xt(t,e.a,e.j||void 0,e.g||void 0)},g.zt=function(e){e:{for(e=new g.On(new DataView(e.buffer),!0),g.N(e),g.Bi(e);g.zi(e);)if(1===g.Bi(e)){var t=g.Bi(e);e=g.Ei(e,t);break e}e=null}t=g.ig(e,!0);var n=g.ot(t,"WRMHEADER");t=n.getAttribute("version");var r=g.mt(n,"DATA");n=(n=g.mt(r,"LA_URL"))?g.nt(n):"";var i,a="",o=g.mt(r,"KID");return o?(a=g.nt(o)||"",i=o.getAttribute("CHECKSUM")):((o=g.mt(r,"PROTECTINFO"))&&(o=g.mt(o,"KIDS"))&&(a=g.mt(o,"KID").getAttribute("VALUE")||""),(r=g.mt(r,"CHECKSUM"))&&(i=r.textContent)),r=g.ii(a),r=B(r),r=g.ki(r),new Tr(mr,r,n,e,t,i)},V=function(e,t){var n,r=null,i=(0,v.Z)(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;t>=a.startTime&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r},g.Bt=function(e,t,n){var r=Math.pow(e.g,t);n=n*(1-r)+r*e.a,isNaN(n)||(e.a=n,e.f+=t)},g.Ct=function(e){return e.a/(1-Math.pow(e.g,e.f))},g.Dt=function(e,t,n,r,i,a,o,u){return(e=g.wg(e)).timeout=r.timeout,e.maxAttempts=r.maxAttempts,e.baseDelay=r.baseDelay,e.fuzzFactor=r.fuzzFactor,e.backoffFactor=r.backoffFactor,0==t&&null==n||(e.headers.Range=n?"bytes="+t+"-"+n:"bytes="+t+"-"),i&&(e.startTime=i),a&&(e.endTime=a),o&&(e.contentType=o),u&&(e.timescale=u),e},g.Et=function(e,t){e.j=null==e.j?t:Math.min(e.j,t)},g.Ft=function(e,t,n){if(0!=t.length){var r=t[t.length-1].endTime+n;g.Et(e,t[0].startTime+n),e.a=t.reduce((function(e,t){return Math.max(e,t.endTime-t.startTime)}),e.a),e.g=Math.max(e.g,r),null!=e.m&&e.D&&(e.m=(Date.now()+e.w)/1e3-e.g-e.a),e.A.debug("notifySegments: maxSegmentDuration="+e.a)}},g.Gt=function(e,t){e.a=Math.max(e.a,t),e.A.debug("notifyNewSegmentDuration: maxSegmentDuration="+e.a)},W=function(e){if(e.Ub())e=e.g;else if(e.isLive()||1/0!=e.h&&!e.f){var t=(Date.now()+e.w)/1e3;t=e.C?Math.max(0,t-(e.a-e.o)-e.m):Math.max(0,t-e.a-e.m),e=Math.min(t,e.h)}else e=e.h;return e},g.It=function(e){return 1/0==e.Xb?0:(e=W(e)-e.Xb,Math.max(0,e))},K=function(e){var t=e.Ub()||!e.isLive()&&(1/0==e.h||e.f)?0:e.Ed;return Math.max(0,W(e)-t)},q=function(e,t){var n=Math.max(e.j,0);if(1/0==e.Xb)return Math.ceil(1e3*n)/1e3;var r=W(e)-e.Xb;return e=Math.min(r+t,K(e)),Math.max(n,e)},Y=function(e,t){e.f=t},g.Nt=function(e,t){for(var n=[],r=[],i=0,a=0;i<e.a.length&&a<t.length;){var o=e.a[i],u=t[a];o.startTime<u.startTime?(n.push(o),i++):(o.startTime>u.startTime?0===i?r.push(u):e.g.warn("Refusing to rewrite original references on update!"):(.1<Math.abs(o.endTime-u.endTime)?n.push(new g.Mt(o.position,u.startTime,u.endTime,u.Ka,u.Fa,u.wa,u.qb,u.keyInfo,u.Mb,u.timescale,u.horizontalTiles,u.verticalTiles,u.durationPerTile)):n.push(o),i++),a++)}for(;i<e.a.length;)n.push(e.a[i++]);if(n.length)for(i=n[n.length-1].position+1;a<t.length;)o=t[a++],o=new g.Mt(i++,o.startTime,o.endTime,o.Ka,o.Fa,o.wa,o.qb,o.keyInfo,o.Mb,o.timescale,o.horizontalTiles,o.verticalTiles,o.durationPerTile),n.push(o);else n=t;if(t=n,r.length&&n.length){t=[],a=n[0].position,i=r.length;var s,l=(0,v.Z)(r);try{for(l.s();!(s=l.n()).done;){var c=s.value;t.push(new g.Mt(a-i--,c.startTime,c.endTime,c.Ka,c.Fa,c.wa,c.qb,c.keyInfo,c.Mb,c.timescale,c.horizontalTiles,c.verticalTiles,c.durationPerTile))}}catch(p){l.e(p)}finally{l.f()}var f,d=(0,v.Z)(n);try{for(d.s();!(f=d.n()).done;){var h=f.value;t.push(h)}}catch(p){d.e(p)}finally{d.f()}}e.a=t},g.Ot=function(e,t){for(var n=0;n<e.a.length;++n)if(e.a[n].endTime>t)return void e.a.splice(0,n);e.a=[]},g.Pt=function(e,t){for(;e.a.length&&0>=e.a[0].endTime;)e.a.shift();if(0!=e.a.length){var n=e.a[e.a.length-1];n.startTime>=t||(e.a[e.a.length-1]=new g.Mt(n.position,n.startTime,t,n.Ka,n.Fa,n.wa,n.qb,n.keyInfo,n.Mb,n.timescale,n.horizontalTiles,n.verticalTiles,n.durationPerTile))}},X=function(e,t){var n,r=(0,v.Z)(e.a);try{for(r.s();!(n=r.n()).done;){n.value.m(e.f.currentTime,t)}}catch(i){r.e(i)}finally{r.f()}},$=function(e,t,n,r){e.a=t,e.f=n,e.g=r},g.St=function(e){g.tm[e]&&delete g.tm[e]},g.Tt=function(e){g.rm[e]&&delete g.rm[e]},g.Ut=function(t){return t=t.toLowerCase(),!!(g.Rm[t]||e.muxjs&&t==g.Hb)},J=function(e,t,n,r){return Promise.resolve().then((function(){if(e.o&&e.g)if(null==n||null==r)e.o.parseInit(g.L(t));else{var i={periodStart:e.w,segmentStart:n,segmentEnd:r},a=(i=e.o.parseMedia(g.L(t),i)).cues.filter((function(t){return t.startTime>=e.h&&t.startTime<e.j}));e.g.append(a,i.styles),null==e.a&&(e.a=Math.max(n,e.h)),e.f=Math.min(r,e.j)}}))},Q=function(e,t,n){if(e.A=t,t=e.m.get(t)){var r,i=(0,v.Z)(t.keys());try{for(i.s();!(r=i.n()).done;){var a=r.value,o=t.get(a);o&&(o=o.filter((function(e){return e.endTime<=n})),e.g.append(o,[]))}}catch(u){i.e(u)}finally{i.f()}}},ee=function(e,t,n,r,i){var a,o=n+" "+r,u=new Map,s=(0,v.Z)(t);try{for(s.s();!(a=s.n()).done;){var l=a.value;if(t=l.stream,u.has(t)||u.set(t,new Map),u.get(t).has(o)||u.get(t).set(o,[]),l.startTime+=i,l.endTime+=i,l.startTime>=e.h&&l.startTime<e.j){var c=new g.ln(l.startTime,l.endTime,l.text);u.get(t).get(o).push(c),t==e.A&&e.g.append([c],[])}}}catch(b){s.e(b)}finally{s.f()}var f,d=(0,v.Z)(u.keys());try{for(d.s();!(f=d.n()).done;){var h=f.value;e.m.has(h)||e.m.set(h,new Map);var p,m=(0,v.Z)(u.get(h).keys());try{for(m.s();!(p=m.n()).done;){var y=p.value;i=u.get(h).get(y),e.m.get(h).set(y,i)}}catch(b){m.e(b)}finally{m.f()}}}catch(b){d.e(b)}finally{d.f()}e.a=null==e.a?Math.max(n,e.h):Math.min(e.a,Math.max(n,e.h)),e.f=Math.max(e.f,Math.min(r,e.j))},te=function(t,n){return!(!e.muxjs||"mp2t"!=t.toLowerCase().split(";")[0].split("/")[1]&&"aac"!=t.toLowerCase().split(";")[0].split("/")[1])&&(n?MediaSource.isTypeSupported(ne(n,t))||MediaSource.isTypeSupported(t.replace(/aac/i,g.md)):MediaSource.isTypeSupported(ne(g.Rb,t))||MediaSource.isTypeSupported(t.replace(/aac/i,g.md))||MediaSource.isTypeSupported(ne(g.u,t)))},ne=function(e,t){if(t=t.replace(/mp2t/i,g.md),e==g.Rb&&(t=t.replace(g.u,g.Rb)),e=/avc1\.(66|77|100)\.(\d+)/.exec(t)){var n="avc1.",r=e[1];n="66"==r?n+"4200":"77"==r?n+"4d00":n+"6400",n+=((r=Number(e[2]))>>4).toString(16),n+=(15&r).toString(16),t=t.replace(e[0],n)}return t},re=function(e,t){return e.h=!0,e.f=new g.Hj,e.m=[],e.j=[],e.g=[],t=g.L(t),e.a.push(t),e.a.flush(),e.h&&e.f.reject(new g.H(g.G,3,3018)),e.f},ie=function(e){var t=g.Ig(e.mimeType,e.codecs),n=_(e);return g.Ut(t)||MediaSource.isTypeSupported(n)||te(t,e.type)},ae=function(e,t){var n=new MediaSource,r=Ar(n);return e.o.one(n,"sourceopen",(function(){URL.revokeObjectURL(r),t.resolve()})),e.j.src=r,n},oe=function(e,t){if(e.g||(e.g=new Ir(e.L,e.B)),e=e.g,t!=g.Hb){var n=g.Rm[t];if(!n)throw new g.H(g.G,2,2012,"Text parser is unavailable for "+t);e.o=new n(e.B)}},ue=function(e,t){t.forEach((function(t,n){t=e.m.addSourceBuffer(t),e.o.on(t,g.Oc,e.U.bind(e,n)),e.o.on(t,"updateend",e.w.bind(e,n)),e.f[n]=t,e.h[n]=[],e.D[n]=!1})),e.K=t.has(g.Rb)&&t.has(g.u)},se=function(e){return!e.m||e.m.readyState==g.Nc},le=function(e,t){try{return new g.yn(e.f[t].buffered,t)}catch(n){return t in e.f&&e.a.error("failed to get buffered range for "+t,n),null}},ce=function(e){var t={};t.total=new g.yn(e.j.buffered,"total"),t.audio=le(e,g.Rb),t.video=le(e,g.u);var n=[];return e.g&&(n=[{start:e.g.fb(),end:e.g.qa()}]),t.text=O(n,g.r),t},fe=function(e,t){if(!e.f[t])return"";if(null===(e=le(e,t)))return"";t="";for(var n=0;n<e.length;n++)0<n&&(t+=" "),t+="".concat(e.start(n).toFixed(3),"-").concat(e.end(n).toFixed(3));return t},de=function(e,t,n){return e.I?Promise.reject():(n={start:n,p:new g.Hj},e.h[t].push(n),1===e.h[t].length&&ye(e,t),n.p)},he=function(t,n,r,i,a,o,u,s){s=void 0!==s&&s;var l=t.f[n],c=-1,f=0;return l&&l.buffered&&(f=l.buffered.length),n===g.u&&null!==i&&null!==a&&s&&(c=0<f?l.buffered.end(f-1):-1),n==g.r?r=J(t.g,r,i,a):t.A[n]?r=re(t.A[n],r).then((function(e){t.g||oe(t,g.ke),e.captions&&e.captions.length&&ee(t.g,e.captions,i,a,t.f.video.timestampOffset);var n=[];return 0<e.audio.byteLength&&t.f.audio&&n.push(de(t,g.Rb,t.J.bind(t,g.Rb,e.audio.buffer))),0<e.video.byteLength&&t.f.video&&n.push(de(t,g.u,t.J.bind(t,g.u,e.video.buffer))),Promise.all(n)})):(o&&e.muxjs&&(t.g||oe(t,g.ke),null==i&&null==a?t.F.init(r):t.F.g(r,(function(e){e.length&&ee(t.g,e,i,a,t.f.video.timestampOffset)}))),r=de(t,n,t.J.bind(t,n,r))),r.then((function(){if(n!==g.u||null===i||null===a||s){if(n===g.Rb&&null!==i&&null!==a)H(t.C),null!==i&&null!==a&&t.a.debug("Appended audio segment ",i,a,"Buffer:",fe(t,n));else if(n===g.u&&null!==i&&null!==a&&s){var e=l.buffered.length,r=0<e?l.buffered.end(e-1):-1;0>c&&0<e&&(c=l.buffered.start(0)),0<=c&&0<r&&t.C.append(c,r,u)}}else t.C.append(i,a,u),null!==i&&null!==a&&t.a.debug("Appended video segment ",i,a,"Buffer:",fe(t,n));if(!t.D[n]&&l&&1===l.buffered.length){e=l.buffered.start(0);var o=i-e;if(Math.abs(o)>t.V&&0===l.timestampOffset)return t.a.warn("Detected a delta of ".concat(o," between ")+"media times and segment times for ".concat(n,". ")+"The segment start time is ".concat(i," and the media start time ")+"is ".concat(e,". Adjusting timestampOffset.")),e=de(t,n,(function(){t.S(n,o)})),r=de(t,n,t.N.bind(t,n,!1)),Promise.all([e,r])}null!==i&&null!==a&&(t.D[n]=!0)})).catch((function(e){throw e}))},pe=function(e,t,n,r,i){return[de(e,t,e.T.bind(e,t)),de(e,t,e.S.bind(e,t,n)),de(e,t,e.W.bind(e,t,r,i))]},ve=function(e,t,n,r,i){return t==g.r?(e.g.w=n,(e=e.g).h=r,e.j=i,Promise.resolve()):(t=pe(e,t,n,r,i),e.K&&(t=t.concat(pe(e,g.Rb,n,r,i))),Promise.all(t))},ge=function(e,t){if(e.I)return Promise.reject();var n=[];for(var r in e.f){var i=new g.Hj,a={start:function(e){e.resolve()}.bind(null,i),p:i};e.h[r].push(a),n.push(i),1==e.h[r].length&&a.start()}return Promise.all(n).then((function(){for(var n in e.f);var r;try{t()}catch(i){r=Promise.reject(new g.H(g.G,3,3015,{mediaError:i}))}for(var a in e.f)me(e,a);return r}),(function(){for(var t in e.f)e.h[t].length&&e.h[t].shift();return Promise.reject()}))},me=function(e,t){e.h[t].shift(),ye(e,t)},ye=function(e,t){var n=e.h[t][0];if(n)try{e.a.debug("Starting next operation for "+t),n.start()}catch(r){"QuotaExceededError"==r.name?n.p.reject(new g.H(g.G,3,3017,{type:t})):n.p.reject(new g.H(g.G,3,3015,{mediaError:r})),me(e,t)}else e.a.debug("No more scheduled operations for "+t)},be=function(e,t,n,r){var i=e.periods.flatMap((function(e){return e.variants}));if((t.length||n.length)&&(i=we(i,t,n)),i=ke(i,r),1<e.periods.length){var a=function(e){var t=(e=e.split("."))[0];return 1<e.length&&(t+="."+e[1]),t.toLowerCase()};t=[];var o,u=(0,v.Z)(e.periods);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=new Set;var l,c=(0,v.Z)(s.variants);try{for(c.s();!(l=c.n()).done;){var f=l.value;null!==f.audio&&n.add(a(f.audio.codecs))}}catch(k){c.e(k)}finally{c.f()}t.push(n)}}catch(k){u.e(k)}finally{u.f()}var d=t[0],p=function(){var e=t[s];d=new Set((0,h.Z)(d).filter((function(t){return e.has(t)})))};for(s=1;s<t.length;s++)p();i=i.filter((function(e){return 0===d.size&&null===e.audio||!(0<d.size&&null===e.audio)&&d.has(a(e.audio.codecs))}))}i=Te(i);var m,y=Se(i),b=(0,v.Z)(e.periods);try{for(b.s();!(m=b.n()).done;){var w=m.value;w.variants=w.variants.filter((function(e){return Ee(e)===y||(g.D("Dropping Variant (better codec available)",e),!1)}))}}catch(k){b.e(k)}finally{b.f()}},we=function(e,t,n){var r,i=(0,v.Z)(t);try{var a=function(){var n=r.value;if((t=e.filter((function(e){return e.video&&e.video.codecs.startsWith(n)}))).length)return e=t,"break"};for(i.s();!(r=i.n()).done;){if("break"===a())break}}catch(l){i.e(l)}finally{i.f()}var o,u=(0,v.Z)(n);try{var s=function(){var t=o.value;if((n=e.filter((function(e){return e.audio&&e.audio.codecs.startsWith(t)}))).length)return e=n,"break"};for(u.s();!(o=u.n()).done;){if("break"===s())break}}catch(l){u.e(l)}finally{u.f()}return e},ke=function(e,t){var n,r=e.filter((function(e){return e.audio&&e.audio.channelsCount})),i=new Map,a=(0,v.Z)(r);try{for(a.s();!(n=a.n()).done;){var o=n.value;r=o.audio.channelsCount,i.has(r)||i.set(r,[]),i.get(r).push(o)}}catch(u){a.e(u)}finally{a.f()}return 0===(o=Array.from(i.keys())).length?e:(e=o.filter((function(e){return e<=t})),e.length?i.get(Math.max.apply(null,e)):i.get(Math.min.apply(null,o)))},Te=function(e){var t,n=new g.Zm,r=(0,v.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;e=Ee(i),n.push(e,i)}}catch(a){r.e(a)}finally{r.f()}return n},Se=function(e){var t="",n=1/0;return e.forEach((function(e,r){r=r.reduce((function(e,t){return e+t.bandwidth||0}),0)/r.length,g.D(g.tc,e,"avg bandwidth",r),r<n&&(t=e,n=r)})),t},Ee=function(e){var t="";e.video&&(t=g.Ys(e.video.codecs)[0]);var n="";return e.audio&&(n=g.Ys(e.audio.codecs)[0]),t+"-"+n},xe=function(e,t,n){var r,i=e.video;return(r=i&&i.width&&i.height)&&((r=(r=i.width)>=t.minWidth&&r<=Math.min(t.maxWidth,n.width))&&(r=(r=i.height)>=t.minHeight&&r<=Math.min(t.maxHeight,n.height)),(n=r)&&(n=(i=i.width*i.height)>=t.minPixels&&i<=t.maxPixels),r=!n),(i=r)||(i=!((e=e.bandwidth)>=t.minBandwidth&&e<=t.maxBandwidth)),!i},Ie=function(e,t,n){var r,i=!1,a=(0,v.Z)(e);try{for(a.s();!(r=a.n()).done;){var o=r.value;e=o.allowedByApplication,o.allowedByApplication=xe(o,t,n),e!=o.allowedByApplication&&(i=!0)}}catch(u){a.e(u)}finally{a.f()}return i},Ce=function(e,t,n,r){var i=!1;if(r.variants=r.variants.filter((function(r){if(e&&e.R&&!M(e,r))return g.D("Dropping variant - not compatible with key system",r),!1;var a=r.audio,o=r.video;if(a&&!ie(a)){var u=a.codecs;0<=a.codecs.indexOf("ec-3")?(g.D("Trying to use AC-3 for EC-3"),a.codecs=a.codecs.replace("ec-3","ac-3"),ie(a)?g.tf("Using AC-3 instead of EC-3 for",Ae(a)):(a.codecs=u,g.tf(y,Ae(a)),r.audio=null,i=!0,a=null)):(g.tf(y,Ae(a)),r.audio=null,i=!0,a=null)}return o&&!ie(o)?(g.tf("Dropping variant - video not compatible with platform",Ae(o)),!1):a&&t&&!Pe(a,t)?(g.tf("Dropping variant - not compatible with active audio","active audio",Ae(t),"variant.audio",Ae(a)),!1):!(o&&n&&!Pe(o,n))||(g.tf("Dropping variant - not compatible with active video","active video",Ae(n),"variant.video",Ae(o)),!1)})),i){var a,o=!1,u=!1,s=(0,v.Z)(r.variants);try{for(s.s();!(a=s.n()).done;){var l=a.value;!o&&l.video&&l.audio&&(o=!0),u||l.audio||!l.video||(u=!0)}}catch(c){s.e(c)}finally{s.f()}o&&u&&(r.variants=r.variants.filter((function(e){return!(e.video&&!e.audio)||(g.tf("Dropping variant - not compatible with video + audio","variant.video",Ae(e.video)),!1)})))}r.textStreams=r.textStreams.filter((function(e){var t=g.Ut(g.Ig(e.mimeType,e.codecs));return t||g.D("Dropping text stream. Is not supported by the platform.",e),t}))},Ae=function(e){var t=_(e);return e.type===g.Rb?"type=audio mimeType="+e.mimeType+" codecs="+e.codecs+" codecInfo="+t+" bandwidth="+e.bandwidth+" channelsCount="+e.channelsCount:e.type===g.u?"type=video mimeType="+e.mimeType+" codecs="+e.codecs+" codecInfo="+t+" bandwidth="+e.bandwidth+" frameRate="+e.frameRate+" width="+e.width+" height="+e.height:"unexpected stream type"},Pe=function(e,t){return e.mimeType==t.mimeType&&e.codecs.split(".")[0]==t.codecs.split(".")[0]},Me=function(e){return{id:e.id,active:!1,type:g.r,bandwidth:0,language:e.language,label:e.label,kind:e.kind||null,width:null,height:null,frameRate:null,mimeType:e.mimeType,audioMimeType:null,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:e.primary,roles:e.roles,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:e.originalId}},Ne=function(e){return e.allowedByApplication&&e.allowedByKeySystem},g.Fu=function(e,t,n){t=g.Jg(t);var r=e,i=e.filter((function(e){return e.primary}));i.length&&(r=i);var a=r.length?r[0].language:"";if(r=r.filter((function(e){return e.language===a})),t.some((function(t){var n=g.Ws(g.Gg(t),e.map((function(e){return e.language})));return!!n&&(r=e.filter((function(e){return g.Gg(e.language)===n})),!0)})),n){if((t=Re(r,n)).length)return t;g.z("No exact match for the text role could be found.")}else if(t=r.filter((function(e){return 0===e.roles.length})),t.length)return t;return t=r.map((function(e){return e.roles})).reduce(g.ct,[]),t.length?Re(r,t[0]):r},Re=function(e,t){return e.filter((function(e){return e.roles.includes(t)}))},De=function(e,t,n){for(var r=0;r<n.length;r++)if(n[r].audio===e&&n[r].video===t)return n[r];return null},_e=function(e,t){var n=String(g.Tf++);return(n=new g.Uf(n,e)).mimeType=g.Qf(t.mimeType),e!==g.I&&e!==g.J||(n.label=g.Qf(t.label),n.language=g.Qf(t.language)),e===g.K?(n.frameRate=t.frameRate,n.roles=t.roles):e===g.J?(n.channelsCount=t.channelsCount,n.roles=t.audioRoles||[],n.mimeType=g.Qf(t.audioMimeType)):(n.kind=g.Qf(t.kind),n.roles=t.roles),n},Le=function(e,t,n){var r=new g.sn(e===g.K?"".concat(t.videoId):e===g.J?"".concat(t.audioId):"".concat(t.id),n);switch(e){case g.K:r.codec=g.Qf(t.videoCodec),r.bandwidth=t.videoBandwidth||t.bandwidth,r.width=t.width,r.height=t.height,r.originalId=t.originalVideoId;break;case g.J:r.codec=g.Qf(t.audioCodec),r.bandwidth=t.audioBandwidth||t.bandwidth,r.originalId=t.originalAudioId;break;default:r.codec=g.Qf(t.codecs),r.originalId=t.originalTextId}return(e=n.renditions.find((function(e){return g.hf(e,r,null,["id","track"])})))||n.renditions.push(r),e||r},Oe=function(e,t){return e=e.reduce((function(e,n){return t===g.K?null===n.videoId||e[n.videoId]&&!n.active||(e[n.videoId]=n):t===g.J&&(null===n.audioId||e[n.audioId]&&!n.active||(e[n.audioId]=n)),e}),{}),Object.values(e)},Ze=function(e,t){if(void 0!==t&&null!==t){var n=e.filter((function(e){return e.audio&&e.audio.id===t}));if(0<n.length)return n}return e},je=function(e,t,n){function r(e,t){return null==e?null==t:t.id==e}for(var i=0;i<n.length;i++)if(r(e,n[i].audio)&&r(t,n[i].video))return n[i];return null},Ue=function(e,t){return e.h.filter((function(e){return e.type===t}))},Fe=function(e,t){return(e=e.a.get(t)||null)&&e.track},He=function(e,t,n){n&&Fe(e,n.type)===n&&!e.l.ja()||ze(e,t,n&&n.renditions[0])},ze=function(e,t,n,r){if(r=void 0!==r&&r,e.l&&((e.a.get(t)||null)!==n||e.l.ja())){var i=e.l;if(n){if(0>e.h.indexOf(n.track))throw Error("Unknown rendition with ID ".concat(n.id));if(t!==n.track.type)throw Error("Types mismatch");if(e.g.debug("Activate rendition type\n          ".concat(t," with ID: ").concat(n.id)),t===g.I){var a=i.ea().find((function(e){return e.id==n.id}));a&&(e.f.set(t,n),Ge(e,n),i.trigger(new g.F(g.Wg)),dn(i,!0).then((function(){hn(i,a)})).catch((function(t){e.g.warn("Error while activating track",t)})))}else if(t===g.J)e.f.set(t,n),pn(i,parseInt(n.id,10));else if(t===g.K){var o,u=e.a.get(g.J)||null;if(u){var s=vn(i).filter((function(e){return e.videoId==n.id}));if(o=s.find((function(e){return e.audioId==u.id})),!o){e.g.debug("Unable to find exact variant. Searching for equivalent");var l=u.track.renditions.map((function(e){return e.id})).filter((function(e){return e!==u.id}));o=s.find((function(e){return l.find((function(t){return t==e.audioId}))}))}}else o=vn(i).find((function(e){return e.videoId==n.id}));o?(e.f.set(t,n),gn(i,o,r)):e.g.warn("Cannot find matching variant")}}else e.g.debug(g.ua+t),Fe(e,t)&&(t===g.I?dn(i,!1).then((function(){e.a.set(t,null),i.trigger(new g.F(g.Wg))})).catch((function(t){e.g.warn("Error while de-activating text tracks",t)})):t===g.J?e.g.info("Enabling ABR for audio is not supported"):gn(i,null,r))}},Ge=function(e,t){e.a.set(t.track.type,t),t===(e.f.get(t.track.type)||null)&&e.f.set(t.track.type,null)},Be=function(e){if(e.l){e.g.debug("Track list change detected, updating track list");for(var t=[],n=0,r=Object.values(g.tn);n<r.length;n++){var i=r[n];e.a.set(i,null),e.f.set(i,null)}var a,o=(0,v.Z)(e.l.ea());try{var u=function(){s=a.value;var n=_e(g.I,s);n=(i=t.find((function(e){return Ve(e,n)})))||n;var r=Le(g.I,s,n);s.active&&e.a.set(g.I,r),i||t.push(n)};for(o.s();!(a=o.n()).done;){var s;u()}}catch(l){o.e(l)}finally{o.f()}mn(e.l)||e.a.set(g.I,null),s=vn(e.l),We(e,t,s,g.K),We(e,t,s,g.J),e.h=t}},Ve=function(e,t){return e.type===t.type&&e.channelsCount===t.channelsCount&&e.frameRate===t.frameRate&&e.kind===t.kind&&e.label===t.label&&e.language===t.language&&e.mimeType===t.mimeType&&L(e.roles,t.roles)},We=function(e,t,n,r){n=Oe(n,r);var i,a=(0,v.Z)(n);try{var o=function(){var a=i.value,o=_e(r,a);o=(n=t.find((function(e){return Ve(e,o)})))||o;var u=Le(r,a,o);a.active&&e.a.set(r,u),n||t.push(o)};for(a.s();!(i=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}},Ke=function(e,t,n){if(t){e.h.length||Be(e);var r,i,a=t.type,o=e.a.get(a)||null,u=(0,v.Z)(Ue(e,a));try{for(u.s();!(i=u.n()).done;){if(r=i.value.renditions.find((function(e){return e.id==t.id})))break}}catch(s){u.e(s)}finally{u.f()}r&&o!==r&&(Ge(e,r),a===g.J?e.l.trigger(new g.F(g.Vg)):a===g.K&&e.l.trigger(new g.F(g.De,{details:{width:r.width||0,height:r.height||0,bandwidth:r.bandwidth,track:r.track,abrSelection:n}})))}},qe=function(e,t){return 128e3>e.a?t:Math.min(g.Ct(e.f),g.Ct(e.g))},Ye=function(e,t){return e&&(t=t.filter((function(t){return xe(t,e,{width:1/0,height:1/0})}))),t.sort((function(e,t){return e.bandwidth-t.bandwidth}))},Xe=function(e,t){return e.a.has(t)||e.a.set(t,new Dr),e.a.get(t)},$e=function(e,t,n){Xe(e,t).text=n},Je=function(e,t){var n;if(!(n=!!e.audio!=!!t.audio||!!e.video!=!!t.video||e.language!=t.language)&&(n=e.audio&&t.audio)){n=e.audio;var r=t.audio;n=!(n.channelsCount==r.channelsCount&&Qe(n,r)&&et(n.roles,r.roles))}return!n&&(n=e.video&&t.video)&&(e=e.video,t=t.video,n=!(Qe(e,t)&&et(e.roles,t.roles))),!n},Qe=function(e,t){if(e.mimeType!=t.mimeType)return!1;if(e=e.codecs.split(",").map((function(e){return g.Ys(e)[0]})),t=t.codecs.split(",").map((function(e){return g.Ys(e)[0]})),e.length!=t.length)return!1;e.sort(),t.sort();for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0},et=function(e,t){if(e=new Set(e),t=new Set(t),e.delete("main"),t.delete("main"),e.size!=t.size)return!1;var n,r=(0,v.Z)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!t.has(i))return!1}}catch(a){r.e(a)}finally{r.f()}return!0},tt=function(e,t){t=g.Jg(t);var n=null;return t.some((function(t){return!!(n=g.Ws(g.Gg(t),e.map((function(e){return D(e)}))))})),n?e.filter((function(e){return n===D(e)})):[]},nt=function(e,t){return e.filter((function(e){var n=e.audio;return e=e.video,n&&0<=n.roles.indexOf(t)||e&&0<=e.roles.indexOf(t)}))},rt=function(e){return 1>=e.a.chasingRate?(e.g.warn("chasingRate must be greater than 1."),!1):e.a.chaseJumpDistance<=e.a.startChasingAt?(e.g.warn("chaseJumpDistance must be greater than startChasingAt."),!1):e.a.startChasingAt<=e.a.stopChasingAt?(e.g.warn("startChasingAt must be greater than stopChasingAt."),!1):!(0>e.a.stopChasingAt)||(e.g.warn("stopChasingAt must be greater than or equal to 0."),!1)},it=function(e,t){e.f=t},at=function(e){e.f.stop();var t=e.h?0:e.g;0<=t?e.a.hd()!=t&&e.a.xe(t):(e.f.Pa(.25),0!=e.a.hd()&&e.a.xe(0))},ot=function(e,t){e.f=t},ut=function(e){if(e.a.paused||0==e.a.playbackRate||0===e.a.buffered.length)var t=!1;else e:{t=e.a.buffered,e=e.a.currentTime;for(var n=0;n<t.length;n++){var r=t.start(n),i=t.end(n);if(!(e<r-.1||e>i-(n+1===t.length?.5:.1))){t=!0;break e}}t=!1}return t},st=function(e){if(0!=e.a.readyState){if(e.a.seeking){if(!e.A)return}else e.A=!1;if(!e.a.paused&&!e.m){e.a.readyState!=e.F&&(e.h=!1,e.F=e.a.readyState);var t=e.j.smallGapLimit,n=e.a.currentTime,r=e.a.buffered;e:{var a=new g.yn(r),o=e.j.gapDetectionThreshold;if(a.length&&!(1===a.length&&1e-6>a.end(0)-a.start(0)))for(var u=0;u<a.length;u++)if(a.start(u)>n&&(0===u||a.end(u-1)-n<=o)){a=u;break e}a=null}if(null==a)e.f&&(r=(e=e.f).g,n=ut(r),r=r.a.currentTime,t=Date.now()/1e3,e.a==r&&e.j==n||(e.h=t,e.a=r,e.j=n),(r=t-e.h)>=e.m&&n&&e.f(e.a,r));else if((0!=a||e.w)&&e.D&&!((o=r.start(a))>=(u=K(e.C)))){t=(u=o-n)<=t;var s=!1;if(!(.001>u)){if(!t&&!e.h){e.h=!0;var l=new g.F("largegap",{detail:{currentTime:n,gapSize:u}});l.cancelable=!0,e.B(l),e.j.jumpLargeGaps&&!l.defaultPrevented?s=!0:g.tf("Ignoring large gap at",n,"size",u)}(t||s)&&(0==a?g.tf(i,u,"seconds because of gap before start time of",o):g.tf(i,u,"seconds because of gap starting at",r.end(a-1),"and ending at",o),e.a.currentTime=o)}}}}},lt=function(e,t){e.o||(e.o=!0,e.m&&e.m()),.001>Math.abs(e.a.currentTime-t)?ht(e):(e.f.one(e.a,g.Xd,(function(){ht(e)})),pt(e.g,0==e.a.currentTime?t:e.a.currentTime))},ct=function(e,t){e.w=t,e.f.off(e.a,g.dd),e.f.one(e.a,g.dd,(function(){lt(e,t)}))},ft=function(e){return e.j?e.a.currentTime:e.w},dt=function(e,t){0<e.a.readyState?pt(e.g,t):ct(e,t)},ht=function(e){g.Ah()&&!e.j&&e.h(),e.j=!0,e.f.on(e.a,g.Xd,(function(){return e.h()}))},pt=function(e,t){e.g=e.f.currentTime,e.j=t,e.h=e.m,e.f.currentTime=t,e.a.Pa(.1)},vt=function(e,t,n){if(!n.stallEnabled)return null;var r=n.gapDetectionThreshold,i=n.stallSkip;return n=new Gr(new Br(t),n.stallThreshold),ot(n,(function(n,a){if(e.f.warn("Stall detected at ".concat(n," for ").concat(a," seconds.")),i){var o;if(a=new g.yn(t.buffered),o=g.uh("Edge/")||g.uh("Trident/")||g.vh()||g.Ah())e:{if((o=a).length&&!(1>=o.length))for(var u=0;u<o.length-1;u++)if(n>o.start(u)&&n<o.end(u)){o=o.start(u+1)-o.end(u)>=r;break e}o=!1}if(o){e:{if(a.length&&!(1>=a.length))for(o=0;o<a.length-1;o++)if(n>a.start(o)&&n<a.end(o)){n=a.start(o+1)-n;break e}n=null}n&&(i=Math.min(n+.1,i))}e.f.warn("Seeking forward ".concat(i," seconds to break stall.")),t.currentTime+=i}else e.f.warn("Pausing and unpausing to break stall."),t.pause(),t.play()})),n},gt=function(e,t){return null==t?t=1/0>e.a.getDuration()?q(e.a,0):K(e.a):0>t&&(t=K(e.a)+t),bt(e,mt(e,t))},mt=function(e,t){var n=q(e.a,0);return t<n?n:t>(e=K(e.a))?e:t},yt=function(e){var t=ft(e.g);return 0<e.h.readyState&&!e.h.paused?mt(e,t):t},bt=function(e,t){var n=e.a.getDuration();return t>=n?n-e.m.durationBackoff:t},wt=function(e,t){var n=new g.yn(e.h.buffered);n=n.Sb.bind(n);var r=Math.max(e.B,e.m.rebufferingGoal),i=e.m.safeSeekOffset,a=q(e.a,0),o=K(e.a),u=e.a.getDuration();3>o-a&&(a=o-3);var s=q(e.a,r),l=q(e.a,i);return r=q(e.a,r+i),t>=u?(e.f.debug("Playhead past duration."),bt(e,t)):t>o?(e.f.debug("Playhead past end."),o):t<a?n(l)?(e.f.debug("Playhead before start & start is buffered"),l):(e.f.debug("Playhead before start & start is unbuffered"),r):t>=s||n(t)?(e.f.debug("Playhead in safe region or in buffered region."),t):(e.f.debug("Playhead outside safe region & in unbuffered region."),r)},kt=function(e){e=g.L(e);var t,n=!1,r=[],i=function(e){r.push(e),g.mj(e)},a=function(){n=!0},o=[];if((new g.Yn).M(g.ld,i).M(g.ne,i).M(g.gd,i).M(g.kd,i).M(g.de,i).X(g.fe,(function(e){t=e,r.push(e),g.nj(e)})).X("encv",a).X("enca",a).X("avc1",(function(e){o.push({M:e,lc:1701733238})})).X("avc3",(function(e){o.push({M:e,lc:1701733238})})).X("ac-3",(function(e){o.push({M:e,lc:1701733217})})).X("ec-3",(function(e){o.push({M:e,lc:1701733217})})).X("mp4a",(function(e){o.push({M:e,lc:1701733217})})).parse(e),n)return g.tf("Init segment already indicates encryption."),e;if(0===o.length||!t)throw g.uf("Failed to find boxes needed to fake encryption!"),g.uf("Failed init segment (hex):",g.ki(e)),new g.H(g.G,3,14e3);o.reverse();for(var u=0,s=o;u<s.length;u++){var l=s[u];g.tf('Inserting "'.concat(g.lj(l.lc),'" box into init segment.')),e=Tt(e,t,l.M,r,l.lc)}return e},Tt=function(e,t,n,r,i){var a=Yr.value(),o=e.subarray(n.start,n.start+n.size),u=g.dg(o),s=new Uint8Array(n.size+a.byteLength);s.set(o,0),(o=g.dg(s)).setUint32(4,i),s.set(a,n.size),i=u.getUint32(4),o.setUint32(n.size+16,i),St(s,0,s.byteLength),i=s,s=new Uint8Array(e.byteLength+i.byteLength),n=g.uh("Xbox One")||g.th()?n.start:n.start+n.size,a=e.subarray(n),s.set(e.subarray(0,n)),s.set(i,n),s.set(a,n+i.byteLength);var l,c=(0,v.Z)(r);try{for(c.s();!(l=c.n()).done;){var f=l.value;St(s,f.start,f.size+i.byteLength)}}catch(d){c.e(d)}finally{c.f()}return e=g.dg(s,t.start),t=g.pj(t),r=e.getUint32(t),e.setUint32(t,r+1),s},St=function(e,t,n){0!=(t=(e=g.dg(e,t)).getUint32(0))&&(1==t?(e.setUint32(8,n>>32),e.setUint32(12,4294967295&n)):e.setUint32(0,n))},Et=function(e){return"("+e.type+":"+e.stream.id+")"},xt=function(e){return!e.$a&&null==e.sb&&!e.ub&&!e.Lb},It=function(e){null!=e.sb&&(e.sb.stop(),e.sb=null)},Ct=function(e,t){return(t=V(e.g.periods,t+g.ao))?e.g.periods.indexOf(t):0},At=function(e,t,n,r,i){return g.v((0,p.Z)().mark((function a(){var o,u,s;return(0,p.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=e.f.kb(),u=Ct(e,o),o=new Map,s=new Set,t&&(o.set(g.Rb,t),s.add(t)),n&&(o.set(g.u,n),s.add(n)),r&&(o.set(g.r,r),s.add(r)),a.next=9,e.f.Z.init(o,e.m.forceNativeTS);case 9:if(a.t0=e.j,a.t0){a.next=15;break}return zt(e),a.next=14,Nt(e,s);case 14:e.j||o.forEach((function(t,n){e.h.has(n)||(t=Rt(t,u,i),e.h.set(n,t),Dt(e,t,0))}));case 15:case"end":return a.stop()}}),a)})))},g.Sv=function(e,t){return(e=e.h.get(t))?e.Eb||e.stream:null},Pt=function(e){return g.Sv(e,g.Rb)},Mt=function(e){return g.Sv(e,g.u)},Nt=function(e,t){return g.v((0,p.Z)().mark((function r(){var i,a,o,u,s,l,c,f,d,h,m;return(0,p.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i=[],a=(0,v.Z)(t);try{for(a.s();!(o=a.n()).done;)u=o.value,(s=e.w.get(u.id))?(e.a.debug("(all) Stream "+u.id+n),i.push(s.O)):(e.a.debug("(all) setting up Stream "+u.id),e.w.set(u.id,{O:new g.Hj,nc:!1}),i.push(u.createSegmentIndex()))}catch(p){a.e(p)}finally{a.f()}return r.prev=3,r.next=6,Promise.all(i);case 6:if(!e.j){r.next=8;break}return r.abrupt("return");case 8:r.next=17;break;case 10:if(r.prev=10,r.t0=r.catch(3),!e.j){r.next=14;break}return r.abrupt("return");case 14:l=(0,v.Z)(t);try{for(l.s();!(c=l.n()).done;)f=c.value,e.w.get(f.id).O.catch((function(){})),e.w.get(f.id).O.reject(),e.w.delete(f.id)}catch(p){l.e(p)}finally{l.f()}throw r.t0;case 17:d=(0,v.Z)(t);try{for(d.s();!(h=d.n()).done;)m=h.value,(i=e.w.get(m.id)).nc||(i.O.resolve(),i.nc=!0,e.a.debug("(all) setup Stream "+m.id))}catch(p){d.e(p)}finally{d.f()}case 19:case"end":return r.stop()}}),r,null,[[3,10]])})))},Rt=function(e,t,n){return{stream:e,type:e.type,nb:null,ra:null,Eb:null,wc:!0,ob:t,endOfStream:!1,$a:!1,sb:null,ub:!1,Dc:0,Uc:!1,Lb:!1,Fd:!1,kc:!1,ve:n||0,Wb:null,Fc:!1,je:0}},Dt=function(e,t,n){e.a.debug(Et(t),"updating in "+n+" seconds"),t.sb=new g.vn((function(){Kt(e,t)})).$(n)},_t=function(e,t){return g.v((0,p.Z)().mark((function n(){var r,i,a,o;return(0,p.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.f.Z.clear(g.r);case 2:return e.I++,e.J=!1,r=e.I,i=e.f.Z,a=new Map,o=new Set,a.set(g.r,t),o.add(t),n.next=10,i.init(a,!1);case 10:if(n.t0=e.j,n.t0){n.next=15;break}return n.next=14,Nt(e,o);case 14:e.j||(i=i.getTextDisplayer().isTextVisible()||e.m.alwaysStreamText,e.I!=r||e.h.has(g.r)||e.J||!i||(r=e.f.kb(),r=Ct(e,r),r=Rt(t,r,0),e.h.set(g.r,r),Dt(e,r,0)));case 15:case"end":return n.stop()}}),n)})))},g.bw=function(e,t,n,r){var i=e.h.get(t.type);if(!i&&t.type==g.r&&e.m.ignoreTextStreamFailures)_t(e,t);else if(i){var a=Ot(e,t);if(n&&a!=i.ob){e.a.debug("switch: switching to stream in another Period; clearing buffer and changing Periods");var o,u=(0,v.Z)(e.h.values());try{for(u.s();!(o=u.n()).done;){var s=o.value;Zt(e,s)}}catch(c){u.e(c)}finally{u.f()}}else if(i.Eb&&(e.a.debug("switch during trick play mode",t),t.trickModeVideo?(i.Eb=t,t=t.trickModeVideo,e.a.debug("switch found trick play stream",t)):(i.Eb=null,e.a.debug("switch found no special trick play stream"))),(s=e.o[a])&&s.nc&&(s=e.w.get(t.id))&&s.nc)if(i.stream!=t){s=e.g.presentationTimeline.getDuration();var l=e.f.kb();l=jt(e,i,l),!n&&(i.endOfStream||l>=s)?e.a.debug(C+Et(i)+" already buffered to the end. Not switching."):(t.type==g.r&&oe(e.f.Z,g.Ig(t.mimeType,t.codecs)),i.stream=t,i.wc=!0,e.a.debug("switch: switching to Stream "+Et(i)),i.Wb?(t=e.f.kb(),s=e.f.Z.qa(i.type),null==(a=(a=Ft(e,i,t,s,a))&&a.wa?a.wa-a.Fa:null)?a=!1:((l=i.stream.initSegmentReference)&&(a+=(l.wa?l.wa-l.Fa:null)||0),8*a/(l=e.f.ed().getBandwidthEstimate())<(null===s?0:s-t)-Math.max(e.g.minBufferTime||0,e.m.rebufferingGoal)?a=!0:a=0>(t=(t=i.Wb).h?t.h.bytesRemaining:-1)||t>a)):a=!1,a&&(e.a.info("Aborting current segment request to switch."),i.Wb.abort()),n&&(i.Lb?i.Uc=!0:i.$a?(i.ub=!0,i.Dc=r,i.Uc=!0):(It(i),Ut(e,i,!0,r))))}else e.a.debug(C+Et(i)+" already active")}},Lt=function(e,t,n,r){t.video&&g.bw(e,t.video,n,r),t.audio&&g.bw(e,t.audio,n,r)},Ot=function(e,t){e=e.g.periods;for(var n=0;n<e.length;n++){var r,i=e[n],a=new Set,o=(0,v.Z)(i.variants);try{for(o.s();!(r=o.n()).done;){var u=r.value;u.audio&&a.add(u.audio),u.video&&a.add(u.video),u.video&&u.video.trickModeVideo&&a.add(u.video.trickModeVideo)}}catch(f){o.e(f)}finally{o.f()}var s,l=(0,v.Z)(i.textStreams);try{for(l.s();!(s=l.n()).done;){var c=s.value;a.add(c)}}catch(f){l.e(f)}finally{l.f()}if(a.has(t))return n}return-1},Zt=function(e,t){var n=Et(t);t.Lb?e.a.debug(n,"clear: already clearing the buffer"):t.ub?e.a.debug(n,"clear: already waiting"):t.$a?(e.a.debug(n,"clear: currently updating"),t.ub=!0,t.Dc=0):null==e.f.Z.fb(t.type)?(e.a.debug(n,"clear: nothing buffered"),null==t.sb&&Dt(e,t,0)):(e.a.debug(n,"clear: handling right now"),It(t),Ut(e,t,!1,0))},jt=function(e,t,n){return t.nb&&t.ra?(n=Ot(e,t.nb),e.g.periods[n].startTime+t.ra.endTime):Math.max(n,t.ve)},Ut=function(e,t,n,r){return g.v((0,p.Z)().mark((function i(){var a,o,u;return(0,p.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return a=Et(t),t.ub=!1,t.Uc=!1,t.Dc=0,t.Lb=!0,e.a.debug(a,"clearing buffer"),r?(o=e.f.kb(),u=e.f.Z.getDuration(),o=e.f.Z.remove(t.type,o+r,u)):o=e.f.Z.clear(t.type).then((function(){return!e.j&&n?e.f.Z.flush(t.type):null})),i.next=9,o;case 9:e.j||(e.a.debug(a,"cleared buffer"),t.nb=null,t.ra=null,t.Lb=!1,t.endOfStream=!1,t.Fc=!1,Dt(e,t,0));case 10:case"end":return i.stop()}}),i)})))},Ft=function(e,t,n,r,i){var a=Et(t);return t.ra&&t.stream==t.nb?(r=t.ra.position+1,e.a.debug(a,"next position known:","position="+r),Xt(e,t,i,r)):(t.ra?(e.a.debug(a,"next position unknown: another Stream buffered"),a=Ot(e,t.nb),a=$t(e,t,e.g.periods[a].startTime+t.ra.endTime,i)):(e.a.debug(a,"next position unknown: nothing buffered"),a=$t(e,t,r||n,i)),null==a?null:(n=null,null!=r||null!==e.m&&e.m.ignoreDrift||(n=Xt(e,t,i,Math.max(0,a-1))),n||Xt(e,t,i,a)))},Ht=function(e){var t=e.f.kb(),n=function(n){return e.f.Z.Sb(n,t,0)},r=!1,i=Ct(e,t);if(g.Wf(e.h.values(),(function(e){return e.ob==i}))){var a,o=(0,v.Z)(e.h.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n(u)||(Zt(e,e.h.get(u)),r=!0)}}catch(f){o.e(f)}finally{o.f()}}else if(!g.Wf(e.h.keys(),n)){e.a.debug("(all): seeked: unbuffered seek: clearing all buffers");var s,l=(0,v.Z)(e.h.values());try{for(l.s();!(s=l.n()).done;){var c=s.value;Zt(e,c)}}catch(f){l.e(f)}finally{l.f()}r=!0}r||e.a.debug("(all): seeked: buffered seek: presentationTime="+t)},zt=function(e){var t=e.g.presentationTimeline.getDuration();1/0>t?e.f.Z.Hb(t):e.f.Z.Hb(Math.pow(2,32))},Gt=function(e,t){var r=e.o[t];if(r)return e.a.debug("(all) Period "+t+n),r.O;e.a.debug("(all) setting up Period "+t),r={O:new g.Hj,nc:!1},e.o[t]=r;var i,a=new Set,o=(0,v.Z)(e.g.periods[t].variants);try{for(o.s();!(i=o.n()).done;){var u=i.value;u.video&&a.add(u.video),u.video&&u.video.trickModeVideo&&a.add(u.video.trickModeVideo),u.audio&&a.add(u.audio)}}catch(f){o.e(f)}finally{o.f()}var s,l=(0,v.Z)(e.g.periods[t].textStreams);try{for(l.s();!(s=l.n()).done;){var c=s.value;a.add(c)}}catch(f){l.e(f)}finally{l.f()}return e.H=e.H.then((function(){return e.j?null:Nt(e,a)})).then((function(){e.j||(e.o[t].O.resolve(),e.o[t].nc=!0,e.a.debug("(all) setup Period "+t))})).catch((function(n){e.j||(e.o[t].O.catch((function(){})),e.o[t].O.reject(),delete e.o[t],e.a.warn("(all) failed to setup Period "+t),e.f.onError(n))})),r.O},Bt=function(e,t){if(t.type==g.r&&t.stream.mimeType==g.Hb){e=e.f.Z,t=t.stream.originalId||"";var n=e.qa(g.u)||0;return Q(e.g,t,n),null}var r=Et(t);n=e.f.kb();var i=jt(e,t,n);e.a.debug(r,"timeNeeded="+i);var a=Ot(e,t.stream),o=Ct(e,i),u=e.f.Z.va(t.type,n);e.a.debug(r,"update_:",E+n,"bufferedAhead="+u);var s=Math.max(e.g.minBufferTime||0,e.m.rebufferingGoal,e.m.bufferingGoal)*e.B;if(i>=(e.g.presentationTimeline.Ub()?W(e.g.presentationTimeline):e.g.presentationTimeline.getDuration())&&!t.Fc)return qt(e,t),null;if(t.endOfStream=!1,t.ob=o,o!=a)return e.a.debug(r,"need Period "+o,E+n,"timeNeeded="+i,"currentPeriodIndex="+a),null;if(u>=s)return e.a.debug(r,"buffering goal met"),e.m.bufferLimitUpdateInterval||.5;if(o=e.f.Z.qa(t.type),!(o=Ft(e,t,n,o,a)))return e.g.presentationTimeline.isLive()||t.type===g.r?e.m.bufferLimitUpdateInterval||1:(e.a.debug("Media state "+r+": no next segment found. Assuming EOS."),qt(e,t),null);r=1/0;var l,c=(0,v.Z)(e.h.values());try{for(c.s();!(l=c.n()).done;){var f=l.value;f.type==g.r&&f.stream.mimeType==g.Hb||(u=jt(e,f,n),r=Math.min(r,u))}}catch(d){c.e(d)}finally{c.f()}return i>=r+e.g.presentationTimeline.a?e.m.bufferLimitUpdateInterval||1:(t.ve=0,Yt(e,t,n,a,o),null)},Vt=function(e,t){g.v((0,p.Z)().mark((function n(){return(0,p.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.j){n.next=11;break}if(!e.f.ye){n.next=10;break}return n.prev=2,n.next=5,e.f.ye(t);case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),n.t0.cause=t,t=n.t0;case 10:t.f||e.f.onError(t);case 11:case"end":return n.stop()}}),n,null,[[2,7]])})))},Wt=function(e,t){var n=Et(t),r=Ot(e,t.stream);if(t.ob!=r){var i=t.ob,a=Array.from(e.h.values());a.every((function(e){return e.ob==i}))?a.every(xt)?(e.a.debug(n,"all need Period "+i),Gt(e,i).then((function(){if(!e.j)if(a.every((function(t){var n=xt(t),r=Ot(e,t.stream);return n&&t.ob==i&&r!=i}))){var t=e.g.periods[i];e.a.debug(n,"calling onChooseStreams()...");var r=e.f.zd(t);e.F=!r.variant&&!!r.text;var o=new Map;r.variant&&r.variant.video&&o.set(g.u,r.variant.video),r.variant&&r.variant.audio&&o.set(g.Rb,r.variant.audio),r.text&&o.set(g.r,r.text);var u,s=(0,v.Z)(e.h.keys());try{for(s.s();!(u=s.n()).done;){var l=u.value;if(!o.has(l)&&l!=g.r)return e.a.error(n,"invalid Streams chosen: missing "+l+" Stream"),void e.f.onError(new g.H(g.G,5,5005))}}catch(y){s.e(y)}finally{s.f()}for(var c=0,f=Array.from(o.keys());c<f.length;c++){var d=f[c];if(!e.h.has(d)){if(d!=g.r)return e.a.error(n,"invalid Streams chosen: unusable "+d+" Stream"),void e.f.onError(new g.H(g.G,5,5005));At(e,null,null,o.get(g.r),t.startTime),o.delete(d)}}for(var h=0,p=Array.from(e.h.keys());h<p.length;h++){var m=p[h];(t=o.get(m))?(g.bw(e,t,!1,0),Dt(e,e.h.get(m),0)):e.h.delete(m)}e.a.debug(n,k),e.f.yd()}else e.a.debug(n,"ignoring transition to Period",i,"since another is happening")})).catch(j)):e.a.debug(n,"all MediaStates need Period "+i+", but not all MediaStates are idle"):e.a.debug(n,"not all MediaStates need Period "+i)}},Kt=function(e,t){if(!e.j){var n=Et(t);if(!t.$a&&null!=t.sb&&!t.Lb)if(t.sb=null,t.ub)e.a.debug(n,"skipping update and clearing the buffer"),Ut(e,t,t.Uc,t.Dc);else{try{var r=Bt(e,t);null!=r&&(Dt(e,t,r),t.kc=!1)}catch(i){return void Vt(e,i)}r=Array.from(e.h.values()),Wt(e,t),e.C&&r.every((function(e){return e.endOfStream}))&&(e.a.debug(n,"calling endOfStream()..."),e.f.Z.endOfStream().then((function(){if(!e.j&&!e.g.presentationTimeline.Ub()){var t=e.f.Z.getDuration();t<e.g.presentationTimeline.getDuration()&&e.g.presentationTimeline.Hb(t)}})).then((function(){e.f.me()})))}}},qt=function(e,t){e.a.debug(Et(t),"buffered to end of presentation"),t.endOfStream=!0,t.type==g.u&&(e=e.h.get(g.r))&&e.stream.mimeType==g.Hb&&(e.endOfStream=!0)},Yt=function(e,t,n,r,i){var a=Et(t),o=e.g.periods[r];e.a.debug(a,"fetchAndAppend_:",E+n,S+o.startTime,"reference.position="+i.position,I+i.startTime,x+i.endTime);var u=t.stream,s=e.g.presentationTimeline.getDuration(),l=e.g.periods[r+1];r=Jt(e,t,r,Math.max(0,o.startTime-.1),l?l.startTime+.01:s,i),t.$a=!0,t.wc=!1,e.a.debug(a,"fetching segment");var c=!1,f=function(r,a){return e.j||e.A?null:(c=!0,Qt(e,t,n,o,u,i,r,a))},d=e.f.Z.qa(t.type)||0;r.then((function(){return e.j||e.A?null:en(e,t,i,!1,(function(e){return f(e.data,!0)}))})).then((function(n){return c||e.j||e.A||null===n?(e.j||e.A||tn(e,t,d,i,u),null):f(n,!1)})).then((function(){e.j||e.A||(tn(e,t,d,i,u),t.$a=!1,t.Fd=!1,t.ub||e.f.Pc(),Dt(e,t,0),nn(e,t,u),e.a.debug(a,"finished fetch and append"))})).catch((function(n){if(!e.j&&!e.A)if(t.$a=!1,t.type==g.r&&e.m.ignoreTextStreamFailures)1001==n.code?e.a.warn(a,"Text stream failed to download. Proceeding without it."):e.a.warn(a,"Text stream failed to parse. Proceeding without it."),e.h.delete(g.r);else if(7001==n.code)t.$a=!1,t.sb=null,Dt(e,t,0);else if(3017==n.code)rn(e,t,n);else if(t.type===g.r)n instanceof g.H&&n.a(1),It(t),e.f.onError(new g.H(1,2,2010,n));else if(1001<=n.code&&1003>=n.code){var r=!0;1001===n.code&&500<=n.data.status||(r=typeof e.f.Xc===g.Qc&&!e.f.Xc(t.stream)),r&&(t.kc=!0,n.a(g.G),Vt(e,n))}else e.a.error(a,"failed fetch and append: code="+n.code),t.kc=!0,n instanceof g.H&&n.a(g.G),Vt(e,n)}))},Xt=function(e,t,n,r){var i=Et(t);n=e.g.periods[n];var a=t.stream.getSegmentReference(r);if(!a)return e.a.debug(i,"segment does not exist:",S+n.startTime,"position="+r),null;var o=e.g.presentationTimeline;return r=g.It(o),o=W(o),!t.Fc&&(n.startTime+a.endTime<r||n.startTime+a.startTime>o)?(e.a.debug(i,"segment is not available:",S+n.startTime,I+a.startTime,x+a.endTime,"availabilityStart="+r,"availabilityEnd="+o),null):a},$t=function(e,t,n,r){var i=Et(t);return r=e.g.periods[r],e.a.debug(i,"looking up segment:","lastSegment.endTime="+n,S+r.startTime),n=Math.max(0,n-r.startTime),null==(t=t.stream.findSegmentPosition(n))&&e.a.warn(i,"cannot find segment:",S+r.startTime,"lookupTime="+n),t},Jt=function(e,t,n,r,i,a){if(n=e.g.periods[n].startTime-a.qb,!t.wc&&n===t.je)return Promise.resolve();t.je=n;var o=Et(t);return e.a.debug(o,"setting timestamp offset to "+n),e.a.debug(o,"setting append window start to "+r),e.a.debug(o,"setting append window end to "+i),r=ve(e.f.Z,t.type,n,r,i),t.stream.initSegmentReference&&t.wc?(e.a.debug(o,"fetching init segment"),i=en(e,t,t.stream.initSegmentReference,!0).then((function(n){return e.j?null:(e.a.debug(o,"appending init segment"),on(e,n,t).then((function(){return he(e.f.Z,t.type,n,null,null,!!t.stream.closedCaptions&&0<t.stream.closedCaptions.size)})))})).catch((function(e){return t.wc=!0,Promise.reject(e)})),Promise.all([r,i])):r},Qt=function(e,t,n,r,i,a,o,u){u=void 0!==u&&u;var s=Et(t);if(i.encrypted&&i.keyId&&e.D.length&&!e.D.includes(i.keyId))return e.a.warn(s,"Stream has key restrictions. Blocking."),It(t),t.nb=i,t.ra=a,e.f.Xc(i,!0),Promise.resolve();var l=i.closedCaptions&&0<i.closedCaptions.size;return null!=i.emsgSchemeIdUris&&0<i.emsgSchemeIdUris.length&&(new g.Yn).X("emsg",e.K.bind(e,r,a,i.emsgSchemeIdUris)).parse(o),un(e,t,n).then((function(){return e.j?null:(e.a.debug(s,"appending media segment"),he(e.f.Z,t.type,o,a.startTime+r.startTime,a.endTime+r.startTime,l,i.id,u))})).then((function(){e.j||(e.a.debug(s,"appended media segment"),t.nb=i,t.ra=a)}))},en=function(e,t,n,r,i){r=void 0!==r&&r,i=void 0===i?null:i;var a=g.Dt(n.Ka(),n.Fa,n.wa,e.m.attemptParameters,n.startTime,n.endTime,t.type,n.timescale);return a.type=2,a.onFragment=n.Mb?null:i,a.disableFragmentSupport=n.Mb||e.m.disableFragmentSupport,a.disableMergedFragments=e.m.disableMergedFragments,(i=n.a())&&(a.keyInfo=i,a.onFragment=null),r&&(a.responseModifiers.push((function(n){sn(e,t,n.data)})),t.type===g.u&&e.m.overridePasp&&a.responseModifiers.push(e.L.bind(e))),e.a.debug("fetching: reference=",n),n=e.f.pb.fetch(a),t.Wb=n,n.O.then((function(n){var i=e.f.ed(),a=n.timeMs,o=n.data.byteLength;return a&&o&&!r&&i.segmentDownloaded(a,o),t.Wb=null,n.data}))},tn=function(e,t,n,r,i){if(!e.g.presentationTimeline.isLive()&&t.type!==g.r){var a=Et(t);n=(e.f.Z.qa(t.type)||0)-n;var o=r.endTime-r.startTime,u=n-o;Math.abs(u)>=Math.min(.01,o)&&Math.abs(u)<=Math.min(1,o)&&(e.a.debug(a,"Adjusted segment",r.position,"with real duration",n,"and accounted for",u,"delta between segment duration and real duration"),t.Fc=!0,i.adjustSegmentDurations(r.position,u))}},nn=function(e,t,n){if(!e.C){var r=Et(t);if(1!=(t=Array.from(e.h.values())).length||t[0].type!=g.r?e.C=t.every((function(t){return!(t.type!=g.r&&!e.F)||!t.ub&&!t.Lb&&t.ra})):e.F&&(e.C=!0),e.C){for(e.a.debug(r,"startup complete"),n=Ot(e,n),e.o[n]||Gt(e,n).then((function(){e.j||(e.a.debug(r,k),e.f.yd())})).catch(j),n=0;n<e.g.periods.length;++n)Gt(e,n).catch(j);e.f.qf&&(e.a.debug(r,"calling onStartupComplete()..."),e.f.qf())}}},rn=function(e,t,n){var r=Et(t);if(Array.from(e.h.values()).some((function(e){return e!=t&&e.Fd})))e.a.debug(r,a,"waiting for another stream to recover...");else{var i=Math.round(100*e.B);if(20<i)e.B-=.2;else{if(!(4<i))return e.a.error(r,"MediaSource threw QuotaExceededError too many times"),t.kc=!0,e.A=!0,void e.f.onError(n);e.B-=.04}e.a.warn(r,a,"reducing buffering goals by "+(100-Math.round(100*e.B))+"%"),t.Fd=!0}Dt(e,t,4)},an=function(e,t){if(t=void 0!==t&&t,e.j)e.a.error("Unable to retry after StreamingEngine is destroyed!");else if(e.A)e.a.error("Unable to retry after StreamingEngine encountered a fatal error!");else{var n,r=(0,v.Z)(e.h.values());try{for(r.s();!(n=r.n()).done;){var i=n.value,a=Et(i);(i.kc||t&&xt(i))&&(e.a.info(a,"Retrying after failure..."),i.kc=!1,Dt(e,i,.1))}}catch(o){r.e(o)}finally{r.f()}}},on=function(e,t,n){return g.v((0,p.Z)().mark((function r(){var i;return(0,p.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.m.patchEdgeWhenMixedContent||!g.th()){r.next=4;break}return i=kt(t),r.next=4,he(e.f.Z,n.type,i.buffer,null,null,!!n.stream.closedCaptions&&0<n.stream.closedCaptions.size);case 4:case"end":return r.stop()}}),r)})))},un=function(e,t,n){if(e.j)return Promise.resolve();var r=Et(t);e.a.debug(r,"checking buffer length");var i=Math.max(e.m.bufferBehind,e.g.presentationTimeline.a),a=e.f.Z.fb(t.type);if(null==a)return e.a.debug(r,"buffer behind okay because nothing buffered:",E+n,b+i),Promise.resolve();var o=n-a,u=o-i;return.01>=u?(e.a.debug(r,"buffer behind okay:",E+n,w+o,b+i,"underflow="+Math.abs(u)),Promise.resolve()):(e.a.debug(r,"buffer behind too large:",E+n,w+o,b+i,"overflow="+u),e.f.Z.remove(t.type,a,a+u).then((function(){e.j||e.a.debug(r,"evicted "+u+" seconds")})))},sn=function(e,t,n){(new g.Yn).M(g.ld,g.mj).M(g.ne,g.mj).M(g.gd,g.mj).M(g.kd,g.mj).M(g.de,g.mj).X(g.fe,g.nj).M("encv",(function(e){e.G.skip(78),g.mj(e)})).M("sinf",g.mj).M("schi",g.mj).M("tenc",(function(n){if(n.G.skip(6),g.Ns(n.G)){n.G.skip(1);var r=g.ki(g.Ei(n.G,16));r!==t.stream.keyId&&(e.a.debug(Et(t),"Key id from tenc mismatches with key id from manifest. Switching from "+"".concat(t.stream.keyId," to ").concat(r,".")),t.stream.keyId=r)}n.Za.stop()})).parse(n)},ln=function(e){return g.v((0,p.Z)().mark((function t(){var n,r,i,a;return(0,p.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],r=(0,v.Z)(e.h.values());try{for(r.s();!(i=r.n()).done;)a=i.value,It(a),a.$a&&a.Wb&&(a.$a=!1,n.push(a.Wb.abort())),a.ub&&n.push(Ut(e,a,!0,0))}catch(o){r.e(o)}finally{r.f()}return t.next=5,Promise.all(n);case 5:case"end":return t.stop()}}),t)})))},cn=function(e,t,n){(e=e.h.get(t))&&n&&(It(e),e.stream=n,e.nb=n,e.ra&&(e.ra=n.getSegmentReference(e.ra.position)),e.ra||(e.nb=null))},fn=function(e){var t=function(e){return e.video&&e.audio||e.video&&e.video.codecs.includes(",")};if(e.some((function(e){return e.variants.some(t)}))){g.D("Found variant with audio and video content, so filtering out audio-only content in all periods.");var n,r=(0,v.Z)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.variants=i.variants.filter(t)}}catch(a){r.e(a)}finally{r.f()}}},dn=function(e,t){return g.v((0,p.Z)().mark((function n(){var r,i;return(0,p.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.pd==t||(e.pd=t,e.C!==Qr||(e.I.getTextDisplayer().setTextVisibility(t),e.configuration.streaming.alwaysStreamText))){n.next=14;break}if(!t){n.next=10;break}if(r=Wn(e),r=g.Fu(r.textStreams,e.ca,e.ua),n.t0=0<r.length,!n.t0){n.next=8;break}return n.next=8,_t(e.a,r[0]);case 8:n.next=14;break;case 10:(r=e.a).J=!0,(i=r.h.get(g.r))&&(It(i),r.h.delete(g.r));case 14:case"end":return n.stop()}}),n)})))},hn=function(e,t){if(e.f&&e.a){var n=Wn(e),r=n.textStreams.find((function(e){return e.id==t.id}));r?(Qn(e,n,r,!1),er(e,r),e.ca=r.language):e.log.error(g.ws,t.id)}},pn=function(e,t){if(e.a&&(e.f||e.w)){var n=Mt(e.a),r=Pt(e.a),i=V(e.f.periods,yt(e.w)),a=e.f.periods[i?e.f.periods.indexOf(i):0].variants.filter((function(e){return e.audio.id==t&&Ne(e)}));i=a.find((function(e){return e.video.id==n.id}));var o=!1;if(!i){e.log.debug("Cannot find exact variant, looking for anything else that matches with given audioId"),o=!0;var u=e.getTrackManager().Aa();if(u){var s=u.renditions.map((function(e){return e.id}));i=a.find((function(e){return s.find((function(t){return t==e.video.id}))}))}}if(i){if(r.codecs.split(".")[0]===i.audio.codecs.split(".")[0])return r=i.audio,e.Sa=r.id,e.g.setVariants(a),a=Wn(e),tr(e,a,i,!1),o||e.R?nr(e,i,!0,0):g.bw(e.a,r,!0,0),void Promise.resolve();e.log.warn("Target audio codecs not compatible with active audio codecs.")}}Promise.reject()},vn=function(e){if(e.f&&e.w){var t,n=Xn(e),r=[],i=(0,v.Z)($n(e));try{for(i.s();!(t=i.n()).done;){var a=t.value,o=a;e=o.audio;var u=o.video,s=e?e.codecs:null,l=u?u.codecs:null,c=[];l&&c.push(l),s&&c.push(s);var f=u&&u.mimeType||null,d=e&&e.mimeType||null,h=[];e&&h.push(e.kind),u&&h.push(u.kind),h=h[0]||null;var p=new Set,g=new Set;if(e){var m,y=(0,v.Z)(e.roles);try{for(y.s();!(m=y.n()).done;){var b=m.value;g.add(b)}}catch(S){y.e(S)}finally{y.f()}}if(u){var w,k=(0,v.Z)(u.roles);try{for(k.s();!(w=k.n()).done;){var T=w.value;p.add(T)}}catch(S){k.e(S)}finally{k.f()}}o={id:o.id,active:!1,type:"variant",bandwidth:o.bandwidth,language:o.language,label:null,kind:h,width:null,height:null,frameRate:null,mimeType:f,audioMimeType:d,codecs:c.join(", "),audioCodec:s,videoCodec:l,primary:o.primary,roles:Array.from(p),audioRoles:Array.from(g),videoId:null,audioId:null,channelsCount:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null},u&&(o.videoId=u.id,o.originalVideoId=u.originalId,o.width=u.width||null,o.height=u.height||null,o.frameRate=u.frameRate||null,o.videoBandwidth=u.bandwidth||null),e&&(o.audioId=e.id,o.originalAudioId=e.originalId,o.channelsCount=e.channelsCount,o.audioBandwidth=e.bandwidth||null,o.label=e.label,o.audioRoles=e.roles),(e=o).active=a==n,r.push(e)}}catch(S){i.e(S)}finally{i.f()}return r}return[]},gn=function(e,t,n){var r=void 0===r?0:r;if(e.f&&e.a){var i=Wn(e);if(e.configuration.abr.enabled&&t)e.log.info("Disable ABR and enable manual track selection to "+"select ".concat(t.width,"x").concat(t.height,"@").concat(t.bandwidth)),e.configuration.abr.enabled=!1,e.g.disable();else if(!e.configuration.abr.enabled&&!t)return e.log.info("Enable ABR Selection"),e.configuration.abr.enabled=!0,e.g.enable(),e.N=null,n=Kn(e,i.variants),null!=e.aa&&(e.Ra=e.aa,e.aa=null),void(null==n||e.R||jn(e,n));if(t){e.N=t.id;var a=i.variants.find((function(e){return e.id==t.id}));a?(e.N=a.video.id,Ne(a)?(tr(e,i,a,!1),nr(e,a,n,r),null==e.aa&&(e.aa=e.Ra),e.Ra=new Lr(a),Kn(e,i.variants)):e.log.error("Unable to switch to restricted track",t.id)):e.log.error("No variant with id",t.id)}else e.N=null,null!=e.aa&&(e.Ra=e.aa,e.aa=null),null==(n=Kn(e,i.variants))||e.R||jn(e,n)}},mn=function(e){var t=e.pd;return e.f?e.I.getTextDisplayer().isTextVisible():t},yn=function(e,t){return e.h||(e.j.on(t,g.Oc,(function(){if(e.h.error){var t=e.h.error.code;if(1==t)t=null;else{var n=e.h.error.msExtendedCode;n&&(0>n&&(n+=Math.pow(2,32)),n=n.toString(16)),t=new g.H(g.G,3,3016,{code:t,extendedError:n,message:e.h.error.message})}}else t=null;t&&e.onError(t)})),e.h=t),Promise.resolve()},bn=function(e){return new g.Lw((function(t){if(void 0===t||null===t)return null;var n=e.getTrackManager(),r=[];if(n){var i,a=(0,v.Z)(n.getVideoTracks());try{for(a.s();!(i=a.n()).done;){var o=i.value;r.push.apply(r,(0,h.Z)(o.renditions))}}catch(u){a.e(u)}finally{a.f()}}return r.find((function(e){return e.id==t}))||null}))},wn=function(e,t){if(e.V!==t)if(e.V===g.yk&&t!==g.zk)t=N(t,g.xk),e.log.info(g.xs+"".concat(t));else{var n=e.vd;n=0===n?0:Date.now()-n;var r=e.V;e.V=t,e.vd=Date.now(),e.H&&g.fk(e.H.a,e.V),t===g.uk&&(e.re=e.od?1:2);var i=e.re,a={currentState:e.V,previousState:r,timeSinceLastStateChangeMS:n,reason:t===g.uk||r===g.uk?i:void 0},o=N(r,g.xk),u=N(t,g.xk),s=t!==g.uk?"":"[".concat(N(i,g.wk),"]");e.log.info("Player state change: ".concat(o," -> ")+"".concat(u).concat(s)),e.trigger(new g.F(g.be,{detail:a})),(t===g.rk||t===g.yk)&&e.ga&&e.ga.stop(),t===g.uk?e.trigger(new g.F(g.ac,{detail:{bufferedTimeMS:-1,reason:i}})):r===g.uk&&e.trigger(new g.F(g.$b,{detail:{bufferedTimeMS:n,reason:i}}))}},kn=function(e){var t=!1;return t=void 0===t||t,g.v((0,p.Z)().mark((function n(){var r;return(0,p.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.C!==$r){n.next=2;break}return n.abrupt("return",Promise.reject(new g.H(g.G,7,7e3)));case 2:return n.next=4,Sn(e);case 4:return n.next=6,Tn(e);case 6:if(r=g.vh(4)||g.vh(5),!t&&!r){n.next=13;break}return r=e.getSurface().getMedia(),n.next=11,yn(e,r);case 11:return n.next=13,En(e,r);case 13:case"end":return n.stop()}}),n)})))},Tn=function(e){return e.h&&(e.j.off(e.h,g.Oc),e.h=null),Promise.resolve()},Sn=function(e){return g.v((0,p.Z)().mark((function t(){var n;return(0,p.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.C!==$r&&(e.C=Jr),(n=e.h)&&(e.j.off(n,g.cd),e.j.off(n,g.Kd),e.j.off(n,g.Dd),e.j.off(n,g.Nc),e.j.off(n,g.Pd),e.j.off(n,g.Nd)),e.vb&&(e.vb.release(),e.vb=null),e.ga&&(e.ga.stop(),e.ga=null),t.t0=e.B,!t.t0){t.next=10;break}return t.next=9,e.B.stop();case 9:e.B=null;case 10:if(t.t1=e.g,!t.t1){t.next=14;break}return t.next=14,e.g.stop();case 14:if(t.t2=e.a,!t.t2){t.next=19;break}return t.next=18,e.a.destroy();case 18:e.a=null;case 19:if(e.w&&(e.w.release(),e.w=null),t.t3=e.I,!t.t3){t.next=25;break}return t.next=24,e.I.destroy();case 24:e.I=null;case 25:if(e.Ic&&(e.Ic.release(),e.Ic=null),n&&n.src&&(n.removeAttribute("src"),n.load()),t.t4=e.m,!t.t4){t.next=32;break}return t.next=31,e.m.destroy();case 31:e.m=null;case 32:e.L.clear(),e.D=null,e.Lc.clear(),e.f=null,e.H=null,e.R=!0,e.wb.clear(),e.Jb=!1,Mn(e);case 41:case"end":return t.stop()}}),t)})))},En=function(t,n){return g.v((0,p.Z)().mark((function r(){var i,a;return(0,p.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=e.muxjs?new Cr:new g.Ww,a=g.dk(t.configuration,["html",g.Zd]),t.J=a.create(t),t.Kb=bn(t),t.Kb.track(t),i=new g.Xw(n,i,t.J,t.Kb,t.configuration),r.next=8,i.H;case 8:t.I=i;case 9:case"end":return r.stop()}}),r)})))},xn=function(e){if(e.B&&e.B.configure(e.configuration.manifest),e.m&&Dn(e),e.a){e.a.m=e.configuration.streaming;try{var t,n=(0,v.Z)(e.f.periods);try{for(n.s();!(t=n.n()).done;){var r=t.value;Bn(e,r)}}catch(o){n.e(o)}finally{n.f()}}catch(u){e.onError(u)}var i=Pt(e.a),a=Mt(e.a);r=Wn(e)||e.f.periods[0],i=De(i,a,r.variants),e.g&&i&&i.allowedByApplication&&i.allowedByKeySystem?Kn(e,r.variants):(e.log.debug("Choosing new streams after changing configuration"),Yn(e,r))}e.g&&(e.g.configure(e.configuration.abr),e.configuration.abr.enabled&&!e.R?e.g.enable():e.g.disable())},In=function(e,t){return g.v((0,p.Z)().mark((function n(){var r;return(0,p.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.getNetworkEngine(),n.next=3,g.qm(t.url,r,e.configuration.manifest.attemptParameters,t.type);case 3:e.B=n.sent,e.B.configure(e.configuration.manifest);case 5:case"end":return n.stop()}}),n)})))},Cn=function(e,t){return g.v((0,p.Z)().mark((function n(){return(0,p.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.Qa=new Sr,Y(e.Qa,(function(t){Nn(e,g.If,t)})),n.next=4,new g.Ok(Promise.resolve().then((function(){return g.v((0,p.Z)().mark((function n(){var r;return(0,p.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.f){n.next=23;break}return n.prev=1,n.next=4,e.B.start(t.url,Rn(e));case 4:e.f=n.sent,n.next=21;break;case 7:if(n.prev=7,n.t0=n.catch(1),!e.na){n.next=20;break}return n.next=12,e.na(t.url,n.t0);case 12:if(!(r=n.sent)){n.next=17;break}t.url=r,n.next=18;break;case 17:throw n.t0;case 18:n.next=21;break;case 20:throw n.t0;case 21:n.next=0;break;case 23:if(!e.f.presentationTimeline||g.y(e.configuration.suggestedPresentationDelay)||isNaN(e.configuration.suggestedPresentationDelay)||(e.log.info("Apply suggested presentation delay of: "+e.configuration.suggestedPresentationDelay),e.f.presentationTimeline.Ed=e.configuration.suggestedPresentationDelay),e.f.presentationTimeline&&(e.f.presentationTimeline.C=!!e.configuration.lowLatencyMode),0!=e.f.periods.length){n.next=27;break}throw new g.H(g.G,4,4014);case 27:fn(e.f.periods);case 28:case"end":return n.stop()}}),n,null,[[1,7]])})))})),(function(){return e.log.info("Aborting parser step..."),e.B.stop()})).O;case 4:case"end":return n.stop()}}),n)})))},An=function(e){return g.v((0,p.Z)().mark((function t(){var n,r,i,a,o;return(0,p.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.m=new g.Lk({pb:e.getNetworkEngine(),onError:function(t){return e.onError(t)},Cd:function(t){if(e.a){var n=Wn(e),r=!1,i=Object.keys(t);0==i.length&&e.log.warn("Got a key status event without any key statuses, so we don't know the real key statuses. If we don't have all the keys, you'll need to set restrictions so we don't select those tracks.");var a=1==i.length&&"00"==i[0];if(a&&e.log.warn("Got a synthetic key status event, so we don't know the real key statuses. If we don't have all the keys, you'll need to set restrictions so we don't select those tracks."),i.length){var o,u=(0,v.Z)(n.variants);try{for(u.s();!(o=u.n()).done;){var s=o.value,l=[];(i=s).audio&&l.push(i.audio),i.video&&l.push(i.video),i=l;var c,f=(0,v.Z)(i);try{for(f.s();!(c=f.n()).done;){var d=c.value;i=s.allowedByKeySystem,d.keyId&&(l=t[a?"00":d.keyId],s.allowedByKeySystem=!!l&&!ei.includes(l)),i!=s.allowedByKeySystem&&(r=!0)}}catch(p){f.e(p)}finally{f.f()}}}catch(p){u.e(p)}finally{u.f()}}if(s=[],!a)for(var h in t)ei.includes(t[h])||s.push(h);e.log.debug("allowedKeyIds",s),e.a.D=s,t=Pt(e.a),a=Mt(e.a),(t=De(t,a,n.variants))&&!t.allowedByKeySystem&&(e.log.debug("Choosing new streams after key status changed"),Yn(e,n)),r&&(Vn(e),Kn(e,n.variants))}},onExpirationUpdated:function(t,n){e.B&&e.B.onExpirationUpdated&&e.B.onExpirationUpdated(t,n),e.trigger(new g.F(g.Fc,{expirationTime:n}))},onEvent:function(t){return e.rd(t)},getConfiguration:function(){return e.getConfiguration()},jc:function(){return e.jc()}}),Dn(e),n=e.configuration.drm,r=n&&n.offlineId||"",i=[],a=g.om(e.f.periods),!r){t.next=14;break}if(o=g.ai(g.Gd),t.t0=o,!t.t0){t.next=14;break}return t.next=11,o.o(n,a,e.getNetworkEngine());case 11:return t.next=13,o.m(r);case 13:i=t.sent;case 14:return t.next=16,g.Gj(e.m,a,i);case 16:e.f&&_n(e,e.f.periods);case 17:case"end":return t.stop()}}),t)})))},Pn=function(e){return g.v((0,p.Z)().mark((function t(){var n,r,i,a,o;return(0,p.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.h,r=function(t){e.h&&e.D&&(t.type===g.Xd&&e.Mc||t.type===g.He&&e.getState()===g.Ck&&.1>e.getBufferInfo().va(e.getPosition())?(e.D.a=jr,Mn(e)):e.D&&Ln(e)),On(e)},e.j.on(n,g.Kd,r),e.j.on(n,g.Dd,r),e.j.on(n,g.Nc,r),e.j.on(n,g.Xd,r),e.j.on(n,g.Wd,r),e.j.on(n,g.Nd,r),e.j.on(n,g.He,r),e.j.on(n,g.Pd,(function(){if(e.h){var t=e.h.playbackRate;0!=t&&e.Ta.set(t)}})),e.g||(e.g=new g.nx,e.g.configure(e.configuration.abr)),Zn(e,e.f.periods),e.Ra=new Or(e.configuration.preferredAudioLanguage,e.configuration.preferredAudioRole,e.configuration.preferredAudioChannelCount),e.ca=e.configuration.preferredTextLanguage,e.ua=e.configuration.preferredTextRole,t.next=17,g.Vj(e.m,n);case 17:if(e.m){t.next=19;break}throw new g.H(g.G,7,7001);case 19:return e.g.init((function(t,n,r){!e.R&&jn(e,t,n,r)})),e.w=Un(e,e.configuration.startTime),e.vb=Fn(e),e.Ta=new zr({hd:function(){return n.playbackRate},xe:function(e){n.playbackRate=e},nf:function(e){n.currentTime+=e}}),e.isLive()&&e.configuration.streaming.enableLiveEdgeChasing&&(e.Ic=new Fr(e)),Hn(e,Math.max(1e-4,e.configuration.streaming.rebufferingGoal)),be(e.f,g.Jg(e.configuration.preferredVideoCodec),g.Jg(e.configuration.preferredAudioCodec),e.configuration.preferredAudioChannelCount),e.a=zn(e),e.a.m=e.configuration.streaming,e.C=Qr,t.next=31,e.a.start();case 31:if(e.a){t.next=33;break}throw new g.H(g.G,7,7001);case 33:e.configuration.streaming.startAtSegmentBoundary&&(r=yt(e.w),r=Gn(e,r),dt(e.w.g,r)),i=(0,v.Z)(e.f.periods);try{for(i.s();!(a=i.n()).done;)o=a.value,Bn(e,o)}catch(u){i.e(u)}finally{i.f()}Vn(e),o=Wn(e)||e.f.periods[0],r=o.variants.some((function(e){return e.primary})),e.configuration.preferredAudioLanguage||r||e.log.warn("No preferred audio language set.  We will choose an arbitrary language initially"),Kn(e,o.variants),e.j.one(n,g.cd,(function(){e.H.o=Date.now()/1e3-(null===e.qd?0:e.qd)}));case 42:case"end":return t.stop()}}),t)})))},Mn=function(e){if(e.H&&e.D&&e.w){var t=ar(e)===g.uk,n=e.Ta;n.h=t,at(n),e.w.j.m=t,On(e)}},Nn=function(e,t,n){e.trigger(new g.F(t,{detail:{schemeIdUri:n.schemeIdUri,value:n.value,startTime:n.startTime,endTime:n.endTime,id:n.id,eventElement:n.eventElement,type:n.type}}))},Rn=function(e){return{networkingEngine:e.getNetworkEngine(),filterNewPeriod:function(t){return Bn(e,t)},filterAllPeriods:function(t){return _n(e,t)},onTimelineCueAdded:function(t){var n=e.Qa;e:{var r,i=(0,v.Z)(n.a);try{for(i.s();!(r=i.n()).done;)if((a=r.value).schemeIdUri===t.schemeIdUri&&a.startTime===t.startTime&&a.endTime===t.endTime)break e}catch(o){i.e(o)}finally{i.f()}var a=null}null==a&&(n.a.add(t),n.f(t))},onEvent:function(t){return e.rd(t)},onError:function(t){return e.onError(t)}}},Dn=function(e){var t=g.ti(e.configuration.drm);e.m.h=t},_n=function(e,t){var n,r=e.a?Pt(e.a):null,i=e.a?Mt(e.a):null,a=(0,v.Z)(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;Ce(e.m,r,i,o)}}catch(c){a.e(c)}finally{a.f()}if(r=Z(t,(function(e){return e.variants.some(Ne)})),0==r)throw new g.H(g.G,4,4032);if(r<t.length)throw new g.H(g.G,4,4011);var u,s=(0,v.Z)(t);try{for(s.s();!(u=s.n()).done;){var l=u.value;Ie(l.variants,e.configuration.restrictions,e.ze)&&e.a&&Wn(e)==l&&Vn(e),rr(e,l.variants)}}catch(c){s.e(c)}finally{s.f()}},Ln=function(e){if(e.C===Qr)e:if(e.h.ended||se(e.I))var t=!0;else{if(e.f.presentationTimeline.isLive()){t=W(e.f.presentationTimeline);var n=e.getBufferInfo();if(null!==n&&(null!==(n=n.qa())&&n>=t)){t=!0;break e}}t=!1}else t=!1;if(n=0,e.I){var r=ce(e.I),i=r.video;r=r.audio;var a=e.h.currentTime;(i||r)&&(n=i&&r?Math.min(i.va(a),r.va(a)):i?i.va(a):r.va(a))}if(i=e.D){r=n,a=t;var o=(i=e.D).f.get(i.a);n=i.a,r=a||r>=o?Ur:jr,i.a=r,i=n!=r}n=i,i=qn(e),n||e.getState()===g.uk&&!i?(e.log.debug("Buffering state changed. Is buffering",i,"buffered to end",t,"state",e.getState()),Mn(e)):e.Jb&&On(e)},On=function(e){wn(e,ar(e))},Zn=function(e,t){for(var n=0;n<t.length;n++){var r,i=t[n],a=new Map,o=(0,v.Z)(i.variants);try{for(o.s();!(r=o.n()).done;){var u=r.value;if(u.video&&u.video.closedCaptions){var s,l=u.video,c=(0,v.Z)(l.closedCaptions.keys());try{for(c.s();!(s=c.n()).done;){var f=s.value;if(!a.has(f)){var d={id:e.Ce++,originalId:f,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return null},getSegmentReference:function(){return null},initSegmentReference:null,qb:0,mimeType:g.Hb,codecs:"",kind:"caption",encrypted:!1,keyId:null,language:l.closedCaptions.get(f),label:null,type:g.r,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:l.roles,channelsCount:null,closedCaptions:null};a.set(f,d)}}}catch(y){c.e(y)}finally{c.f()}}}}catch(y){o.e(y)}finally{o.f()}var h,p=(0,v.Z)(a.values());try{for(p.s();!(h=p.n()).done;){var m=h.value;i.textStreams.push(m)}}catch(y){p.e(y)}finally{p.f()}}},jn=function(e,t,n,r){if(n=void 0!==n&&n,r=void 0===r?0:r,e.configuration.abr.enabled){e.log.debug("switch_");var i=lr(e,t);ur(e,i,(function(){return tr(e,i,t,!0)})),i===Wn(e)&&sr(e),e.a&&Lt(e.a,t,n,r)}},Un=function(e,t){return new qr(e.h,e.f,e.configuration.streaming,t,(function(){e.vb&&X(e.vb,!0),e.a&&Ht(e.a)}),(function(t){return e.dispatchEvent(t)}))},Fn=function(e){var t=new Hr(e.f);it(t,(function(){Vn(e)}));var n=new xr(e.Qa);$(n,(function(t){t.Oc&&t.Oc(),Nn(e,g.Kf,t)}),(function(t){t.Bd&&t.Bd(),Nn(e,g.Lf,t)}),(function(t,n){n||(t.Oc&&t.Oc(),Nn(e,g.Kf,t),t.Bd&&t.Bd(),Nn(e,g.Lf,t))}));var r=new Er(e.h);return r.a.add(t),r.a.add(n),r},Hn=function(e,t){e.D=new Zr(t,Math.min(.5,t/2)),e.D.a=jr,Mn(e),e.ga=new g.rh((function(){Ln(e)})).Pa(.25)},zn=function(e){var t={kb:function(){return yt(e.w)},Z:e.I,pb:e.getNetworkEngine(),zd:e.If.bind(e),yd:e.Hf.bind(e),onError:e.onError.bind(e),me:e.Ge.bind(e),onEvent:e.rd.bind(e),qe:e.Fe.bind(e),Pc:e.He.bind(e),ed:function(){return e.g},Xc:e.Gf.bind(e),ye:e.Je.bind(e)};return new g.Qx(e.f,t)},Gn=function(e,t){function n(e,t){return e?null==(t=e.findSegmentPosition(t-a.startTime))?null:(e=e.getSegmentReference(t))?e.startTime+a.startTime:null:null}var r=Pt(e.a),i=Mt(e.a),a=Wn(e);return e=n(r,t),null!=(i=n(i,t))&&null!=e?Math.max(i,e):null!=i?i:null!=e?e:t},Bn=function(e,t){var n=e.a?Pt(e.a):null,r=e.a?Mt(e.a):null;if(Ce(e.m,n,r,t),!(n=t.variants).some(Ne))throw new g.H(g.G,4,4011);if(rr(e,t.variants),Ie(n,e.configuration.restrictions,e.ze)&&e.a&&Wn(e)==t&&Vn(e),!g.vh(2)&&(t=e.m?e.m.getDrmInfo():null)){var i,a=(0,v.Z)(n);try{for(a.s();!(i=a.n()).done;){var o,u=i.value,s=(0,v.Z)(u.drmInfos);try{for(s.s();!(o=s.n()).done;){var l=o.value;if(l.keySystem==t.keySystem){var c,f=(0,v.Z)(l.initData||[]);try{for(f.s();!(c=f.n()).done;){var d=c.value;g.Mj(e.m,d.initDataType,d.initData)}}catch(h){f.e(h)}finally{f.f()}}}}catch(h){s.e(h)}finally{s.f()}}}catch(h){a.e(h)}finally{a.f()}}},Vn=function(e){var t=e.getTrackManager();t&&e.C!==$r&&(t.l&&(Be(t),t.l.trigger(new g.F(g.xn))),sr(e))},Wn=function(e){var t,n=yt(e.w),r=null,i=(0,v.Z)(e.f.periods);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.startTime<=n&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r},Kn=function(e,t){try{rr(e,t)}catch(r){return e.onError(r),null}t=t.filter((function(e){return Ne(e)})),t=Ze(t,e.Sa);var n=e.Ra.create(t);return n=Array.from(n.values()),e.g.setVariants(n),null!==e.N&&null!==e.Sa&&(n=n.find((function(t){return t.video.id==e.N&&t.audio.id==e.Sa})),e.N=null,n)?n:e.configuration.abr.enabled||null===e.N?e.g.chooseVariant():(t=t.find((function(t){return null!==t.video&&t.video.id===e.N})))||(e.log.warn("Selected video track not found. Falling back to ABR selection"),e.g.chooseVariant())},qn=function(e){return!(!e.m||!e.m.B)||!!e.D&&e.D.getState()===jr},Yn=function(e,t){var n=Kn(e,t.variants);e.Sa=n&&n.audio&&n.audio.id,n&&(tr(e,t,n,!0),nr(e,n,!0)),(n=g.Fu(t.textStreams,e.ca,e.ua)[0]||null)&&(e.configuration.streaming.alwaysStreamText||mn(e))&&(Qn(e,t,n,!0),er(e,n))},Xn=function(e){var t=Wn(e);return t&&Xe(e.L,t).variant},$n=function(e){var t=Wn(e);return null==t?[]:(ir(e),t.variants.filter((function(e){return Ne(e)})))},Jn=function(e){var t=Wn(e);return null==t?[]:(ir(e),t.textStreams.filter((function(t){return!e.Lc.has(t)})))},Qn=function(e,t,n,r){$e(e.L,t,n),(t=e.getTrackManager())&&(Ke(t,n,r),n=t.za(),(e=e.H.w).g!==n&&(e.g=n,e.a.push({timestamp:Date.now()/1e3,id:n.id,trackId:n.track.id,type:n.track.type,fromAdaptation:r,width:null,height:null,bandwidth:null})))},er=function(e,t){e.R?e.T=t:g.bw(e.a,t,!0,0)},tr=function(e,t,n,r){var i=e.getTrackManager();if(i){var a=e.H.w;if(n.video){Ke(i,n.video,r);var o=i.fa(),u=a;u.h!==o&&(u.h=o,u.a.push({timestamp:Date.now()/1e3,id:o.id,trackId:o.track.id,type:o.track.type,fromAdaptation:r,width:o.width,height:o.height,bandwidth:o.bandwidth}))}n.audio&&(Ke(i,n.audio,r),i=i.xa(),a.f!==i&&(a.f=i,a.a.push({timestamp:Date.now()/1e3,id:i.id,trackId:i.track.id,type:i.track.type,fromAdaptation:r,width:null,height:null,bandwidth:i.bandwidth})))}Xe(e.L,t).variant=n},nr=function(e,t,n,r){n=void 0!==n&&n,r=void 0===r?0:r,e.R?(e.W=t,e.we=n,e.ue=r):Lt(e.a,t,n,r)},rr=function(e,t){e=e.m?g.lf(e.m.V):{};var n=Object.keys(e);n=n.length&&"00"==n[0];var r,i=!1,a=!1,o=[],u=[],s=(0,v.Z)(t);try{for(s.s();!(r=s.n()).done;){var l=r.value;t=[],l.audio&&t.push(l.audio),l.video&&t.push(l.video);var c,f=(0,v.Z)(t);try{for(f.s();!(c=f.n()).done;){var d=c.value;d.keyId&&((t=e[n?"00":d.keyId])?ei.includes(t)&&(u.includes(t)||u.push(t)):o.includes(d.keyId)||o.push(d.keyId))}}catch(h){f.e(h)}finally{f.f()}l.allowedByApplication?l.allowedByKeySystem&&(i=!0):a=!0}}catch(h){s.e(h)}finally{s.f()}if(!i)throw new g.H(g.G,4,4012,{hasAppRestrictions:a,missingKeys:o,restrictedKeyStatuses:u})},ir=function(e){if(e.a&&e.f){var t=e.a,n=t.h.get(g.u);t=n||(n=t.h.get(g.Rb))?t.g.periods[n.ob]:null,n=Wn(e),null!=t&&t==n&&(Pt(e.a),Mt(e.a),g.Sv(e.a,g.r),Xe(e.L,n),Xe(e.L,n))}},ar=function(e){var t=e.getDuration(),n=e.getPosition();return e.h&&e.h.ended||(e.Jb||e.V===g.rk)&&1>=Math.abs(t-n)?g.rk:qn(e)||e.Mc?g.uk:e.h&&e.h.paused?g.Bk:g.Ck},or=function(e,t){e.R=!0,e.g.disable(),e.log.debug("Choosing new streams after period changed");var n=Kn(e,t.variants),r=g.Fu(t.textStreams,e.ca,e.ua)[0]||null;return e.W&&(t.variants.includes(e.W)&&(n=e.W),e.W=null),e.T&&(t.textStreams.includes(e.T)&&(r=e.T),e.T=null),n&&ur(e,t,(function(){return tr(e,t,n,!0)})),r&&(e.configuration.streaming.alwaysStreamText||mn(e))&&ur(e,t,(function(){return Qn(e,t,r,!0)})),t===Wn(e)&&sr(e),e.configuration.streaming.alwaysStreamText||mn(e)?{variant:n,text:r}:{variant:n,text:null}},ur=function(e,t,n){e.wb.has(t)||e.wb.set(t,[]),e.wb.get(t).push(n)},sr=function(e){var t=Wn(e);if(t){var n=e.wb.get(t)||[];for(e.wb.delete(t);n.length;)n.shift()()}},lr=function(e,t){var n,r=(0,v.Z)(e.f.periods);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.variants.includes(t))return i}}catch(a){r.e(a)}finally{r.f()}return null},cr=function(e,t,n){return g.v((0,p.Z)().mark((function r(){var i,a,o,u,s,l,c,f,d,m,y,b,w,k,T,S;return(0,p.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,g.qm(t.url,e.getNetworkEngine(),e.configuration.manifest.attemptParameters,t.type);case 3:return(i=r.sent).configure(e.configuration.manifest),r.next=7,i.start(t.url,Rn(e));case 7:if(a=r.sent,fn(a.periods),a.periods.length){r.next=11;break}throw new g.H(g.G,4,4014);case 11:return r.next=13,e.B.stop();case 13:e.B=i,o=n.audio&&n.audio.id,u=n.video&&n.video.id,e.f.periods=a.periods,s=V(a.periods,yt(e.w))||a.periods[0],be(e.f,g.Jg(e.configuration.preferredVideoCodec),g.Jg(e.configuration.preferredAudioCodec),e.configuration.preferredAudioChannelCount),l=je(o,u,s.variants),c=g.Fu(s.textStreams,e.ca,e.ua)[0]||null,Kn(e,s.variants),f=l&&l.video,d=l&&l.audio,a=[],m=new Set,y=(0,v.Z)(s.variants);try{for(y.s();!(b=y.n()).done;)(w=b.value).video&&m.add(w.video),w.audio&&m.add(w.audio)}catch(p){y.e(p)}finally{y.f()}for(k=0,T=[].concat((0,h.Z)(m),(0,h.Z)(s.textStreams));k<T.length;k++)S=T[k],a.push(S.createSegmentIndex());return r.next=28,Promise.all(a);case 28:cn(e.a,g.Rb,d),cn(e.a,g.u,f),cn(e.a,g.r,c),l&&tr(e,s,l,!1),e.log.info("Switch CDN successful."),r.next=42;break;case 35:if(r.prev=35,r.t0=r.catch(0),r.t1=i,!r.t1){r.next=41;break}return r.next=41,i.stop();case 41:throw r.t0;case 42:case"end":return r.stop()}}),r,null,[[0,35]])})))},fr=function(){var e=MediaSource.isTypeSupported,t=/^dv(?:h[e1]|a[v1])\./;MediaSource.isTypeSupported=function(n){var r,i=n.split(/ *; */),a=i.shift(),o={},u=(0,v.Z)(i);try{for(u.s();!(r=u.n()).done;){var s=r.value;o[(i=s.split("="))[0]]=i[1].replace(/"(.*)"/,"$1")}}catch(d){u.e(d)}finally{u.f()}if(!(s=o.codecs))return e(n);var l=!1,c=!1;for(var f in n=s.split(",").filter((function(e){return t.test(e)&&(c=!0),/^(hev|hvc)1\.2/.test(e)&&(l=!0),!0})),c&&(l=!1),o.codecs=n.join(","),l&&(o.eotf="smpte2084"),o)a+="; "+f+'="'+o[f]+'"';return cast.__platform__.canDisplayType(a)}},dr=function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return"mp2t"!=t.split(/ *; */)[0].split("/")[1].toLowerCase()&&e(t)}},hr=function(){var e=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(n=e.apply(this,n)).abort=function(){},n}},pr=function(){var e=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(t,n){return e.call(this,t,n-.001)}},vr=function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return"opus"!=g.Ys(t)[0]&&e(t)}},gr=function(e,t){var n=e.mode;e.mode=n==g.Yd?g.Yd:g.Sc;for(var r=e.cues,i=r.length-1;0<=i;i--){var a=r[i];a&&t(a)&&e.removeCue(a)}e.mode=n},g.Lw=function(){function e(t){(0,f.Z)(this,e),this.m=t,this.log=new g.O("clpp.renditions"),this.f=[],this.j=this.a=null,this.h=!1}return(0,d.Z)(e,[{key:"track",value:function(e){null!=this.a&&(this.a&&(this.a.off(g.Ud,this.g),this.h&&this.a.off(g.me,this.g)),this.a=null),e&&(this.a=e,this.a.on(g.Ud,this.g,this))}},{key:"append",value:function(e,t,n){var r=this.m?this.m(n):null;r||this.log.debug("Unable to resolve rendition for id",n),n={start:e,end:t,rendition:r,width:r?r.width:0,height:r?r.height:0,bandwidth:r?r.bandwidth:0};var i=this.f.find((function(n){return n.start>=e&&n.end<=t}));if(i)i.rendition=r,i.width=n.width,i.height=n.height,i.bandwidth=n.bandwidth,i.start=n.start,i.end=n.end;else{var a,o=(0,v.Z)(this.f);try{for(o.s();!(a=o.n()).done;){var u=a.value;e>=u.start&&e<u.end?u.end=e:t>=u.start&&t<u.end&&(u.start=t)}}catch(s){o.e(s)}finally{o.f()}this.f.push(n),this.f.sort(U)}z(this),this.g(),this.a&&this.a.trigger(new g.F(g.Ce))}},{key:"clear",value:function(){this.f=[],z(this),this.a&&(this.a.trigger(new g.F(g.Ce)),this.a.trigger(new g.F(g.Wb)))}},{key:"g",value:function(){if(this.a){var e=this.a.getPosition();if(0<=e){e:{for(var t=this.f.length,n=Number.MAX_SAFE_INTEGER,r=0;r<t;r++){var i=this.f[r];if(n=Math.min(i.start,n),i.start<=e&&i.end>e){e=.1>i.end-e&&r<t-1?this.f[r+1].rendition:i.rendition;break e}if(i.start>e)break}e=0<t&&n>e&&.25>n-e?this.f[0].rendition:null}e&&this.j!==e&&(this.j=e,this.a)&&(n=t=-1,e?(t=e.width||-1,n=e.height||-1):(r=this.a.getSurface().getMedia())&&(t=r.videoWidth,n=r.videoHeight),this.a.trigger(new g.F(g.Yb,{detail:{width:t,height:n,bandwidth:e?e.bandwidth:null,rendition:e}})))}}}}]),e}(),mr=[154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149],yr=[237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237],br=[112,115,115,104,0,0,0,0],kr=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){return(0,f.Z)(this,n),t.apply(this,arguments)}return(0,d.Z)(n)}(wr=(0,d.Z)((function e(t,n,r){(0,f.Z)(this,e),this.h=new Uint8Array(t),this.a=n,this.f=r}))),Tr=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(e,r,i,a,o,u){var s;return(0,f.Z)(this,n),u=void 0===u?null:u,(s=t.call(this,e,r,a)).version=o,s.g=i,s.j=u,s}return(0,d.Z)(n)}(wr),g.by=function(){return(0,d.Z)((function e(t){(0,f.Z)(this,e),this.g=Math.exp(Math.log(.5)/t),this.f=this.a=0}))}(),g.cy=function(){function e(t,n,r,i,a){(0,f.Z)(this,e),this.Ka=t,this.Fa=n,this.wa=r,this.keyInfo=i||null,this.Mb=!g.y(a)&&!!a}return(0,d.Z)(e,[{key:"a",value:function(){return this.keyInfo}}]),e}(),g.Mt=function(){function e(t,n,r,i,a,o,u,s,l){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:null,h=arguments.length>11&&void 0!==arguments[11]?arguments[11]:null,p=arguments.length>12&&void 0!==arguments[12]?arguments[12]:null;(0,f.Z)(this,e),this.position=t,this.startTime=n,this.endTime=r,this.qb=u,this.Ka=i,this.Fa=a,this.wa=o,this.keyInfo=s||null,this.Mb=!g.y(l)&&!!l,this.timescale=c,this.horizontalTiles=d,this.verticalTiles=h,this.durationPerTile=p}return(0,d.Z)(e,[{key:"getPosition",value:function(){return this.position}},{key:"a",value:function(){return this.keyInfo}}]),e}(),g.dy=function(){function e(t,n,r,i){(0,f.Z)(this,e),i=void 0!==i&&i,this.m=t,this.Ed=n,this.Xb=this.h=1/0,this.a=1,this.o=0,this.g=this.j=null,this.w=0,this.f=!0,this.B=!1,this.D=void 0===r||r,this.A=new g.O("clpp.media.PresentationTimeline"),this.C=i}return(0,d.Z)(e,[{key:"getDuration",value:function(){return this.h}},{key:"Hb",value:function(e){this.h=e}},{key:"getPresentationStartTime",value:function(){return this.m}},{key:"Ub",value:function(){return this.B}},{key:"offset",value:function(e){null!=this.j&&(this.j+=e),null!=this.g&&(this.g+=e)}},{key:"isLive",value:function(){return 1/0==this.h&&!this.f}}]),e}(),Sr=function(){function e(){(0,f.Z)(this,e),this.f=function(){},this.a=new Set}return(0,d.Z)(e,[{key:"release",value:function(){this.f=function(){},this.a.clear()}},{key:"cues",value:function(){return this.a}}]),e}(),g.ey=function(){function e(t){(0,f.Z)(this,e),this.a=t,this.g=new g.O("clpp.media.SegmentIndex")}return(0,d.Z)(e,[{key:"destroy",value:function(){return this.a=[],Promise.resolve()}},{key:"h",value:function(e){for(var t=this.a.length-1;0<=t;--t){var n=this.a[t];if(e>=n.startTime&&e<n.endTime)return n.position}if(this.a.length&&e<this.a[0].startTime)return this.a[0].position;for(this.g.warn("No Segment found for "+e+". We have "+this.a.length+" references"),e=0;e<this.a.length;e++)t=this.a[e],this.g.debug("SegmentIndex Ref "+e+" start: "+t.startTime+" end: "+t.endTime+" pos: "+t.position);return null}},{key:"get",value:function(e){return 0==this.a.length||0>(e-=this.a[0].position)||e>=this.a.length?null:this.a[e]}},{key:"offset",value:function(e){this.g.info("Apply offset"+e+" to segment index");var t,n=(0,v.Z)(this.a);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.startTime+=e,r.endTime+=e,r.qb-=e}}catch(i){n.e(i)}finally{n.f()}}},{key:"f",value:function(e,t){if(0<=(e-=this.a[0].position)&&e<this.a.length)for(this.g.warn("Accounting for segment duration drift",t,"at",e),this.a[e].endTime+=t,e+=1;e<this.a.length;++e)this.a[e].startTime+=t,this.a[e].endTime+=t}},{key:"getDuration",value:function(){return this.a[this.a.length-1].endTime-this.a[0].startTime}},{key:"replace",value:function(e){this.a=e}}]),e}(),Er=function(){function e(t){var n=this;(0,f.Z)(this,e),this.f=t,this.a=new Set,this.g=new g.rh((function(){X(n,!1)})).Pa(.25)}return(0,d.Z)(e,[{key:"release",value:function(){this.g.stop();var e,t=(0,v.Z)(this.a);try{for(t.s();!(e=t.n()).done;){e.value.release()}}catch(n){t.e(n)}finally{t.f()}this.a.clear()}}]),e}(),xr=function(){function e(t){var n=this;(0,f.Z)(this,e),this.j=t,this.h=new Map,this.a=function(){},this.f=function(){},this.g=function(){},this.o=[{bc:null,ac:2,Qb:function(e,t){return n.a(e,t)}},{bc:1,ac:2,Qb:function(e,t){return n.a(e,t)}},{bc:3,ac:2,Qb:function(e,t){return n.a(e,t)}},{bc:2,ac:1,Qb:function(e,t){return n.f(e,t)}},{bc:2,ac:3,Qb:function(e,t){return n.f(e,t)}},{bc:1,ac:3,Qb:function(e,t){return n.g(e,t)}},{bc:3,ac:1,Qb:function(e,t){return n.g(e,t)}}]}return(0,d.Z)(e,[{key:"release",value:function(){this.j=null,this.h.clear(),this.a=function(){},this.f=function(){},this.g=function(){}}},{key:"m",value:function(e,t){var n,r=this,i=(0,v.Z)(this.j.cues());try{var a=function(){var i=n.value,a=r.h.get(i)||null,o=e<i.startTime?1:e>i.endTime?3:2;r.h.set(i,o);var u=r.o.find((function(e){return e.bc===a&&e.ac===o}));u&&u.Qb(i,t)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}}}]),e}(),Ir=function(){function e(t,n){(0,f.Z)(this,e),this.o=null,this.B=t,this.g=n,this.h=this.w=0,this.j=1/0,this.f=this.a=null,this.A="",this.m=new Map}return(0,d.Z)(e,[{key:"destroy",value:function(){return this.g=this.o=null,this.m.clear(),Promise.resolve()}},{key:"remove",value:function(e,t){var n=this;return Promise.resolve().then((function(){!n.g||!n.g.remove(e,t)||null==n.a||t<=n.a||e>=n.f||(e<=n.a&&t>=n.f?n.a=n.f=null:e<=n.a&&t<n.f?n.a=t:e>n.a&&t>=n.f&&(n.f=e))}))}},{key:"fb",value:function(){return this.a}},{key:"qa",value:function(){return this.f}},{key:"Sb",value:function(e){return null!=this.a&&null!=this.f&&(e>=this.a&&e<this.f)}},{key:"va",value:function(e){return null==this.f||this.f<e?0:this.f-Math.max(e,this.a)}}]),e}(),Cr=function(){function e(){(0,f.Z)(this,e),this.a=new muxjs.mp4.CaptionParser,this.j=[],this.h={}}return(0,d.Z)(e,[{key:"init",value:function(e){var t=muxjs.mp4.probe;e=g.L(e),this.j=t.videoTrackIds(e),this.h=t.timescale(e),this.a.init()}},{key:"g",value:function(e,t){e=g.L(e),(e=this.a.parse(e,this.j,this.h))&&e.captions&&t(e.captions),this.a.clearParsedCaptions()}},{key:"f",value:function(){this.a.resetCaptionStream()}}]),e}(),g.Ww=function(){function e(){(0,f.Z)(this,e)}return(0,d.Z)(e,[{key:"init",value:function(){}},{key:"g",value:function(){}},{key:"f",value:function(){}}]),e}();var Ar,Pr=function(){function e(){(0,f.Z)(this,e),this.a=new muxjs.mp4.Transmuxer({keepOriginalTimestamps:!0,remux:!1}),this.f=null,this.m=[],this.j=[],this.g=[],this.h=!1,this.a.on("data",this.w.bind(this)),this.a.on("done",this.o.bind(this))}return(0,d.Z)(e,[{key:"destroy",value:function(){return this.a&&(this.a.dispose(),this.a=null),Promise.resolve()}},{key:"w",value:function(e){this.g=e.captions;var t=new Uint8Array(e.data.byteLength+e.initSegment.byteLength);t.set(e.initSegment,0),t.set(e.data,e.initSegment.byteLength),e.type===g.u?this.m.push(t):e.type===g.Rb&&this.j.push(t)}},{key:"o",value:function(){var e={video:g.mi.apply(g,(0,h.Z)(this.m)),captions:this.g,audio:g.mi.apply(g,(0,h.Z)(this.j))};this.f.resolve(e),this.h=!1}}]),e}();g.Xw=function(){function e(t,n,r,i,a){(0,f.Z)(this,e),this.j=t,this.B=r,this.f={},this.K=!1,this.g=null,this.h={},this.o=new g.cn,this.I=!1,this.A={},this.F=n,this.C=i,this.L=a,this.V=this.L.streaming.maxSegmentToMediaOffset||1,this.H=new g.Hj,this.D={},this.m=ae(this,this.H),this.a=new g.O("clpp.mse.MediaSourceEngine")}return(0,d.Z)(e,[{key:"destroy",value:function(){var e=this;this.I=!0;var t=[];for(var n in this.h){var r=this.h[n],i=r[0];for(this.h[n]=r.slice(0,1),i&&t.push(i.p.catch(j)),i=1;i<r.length;++i)r[i].p.catch(j),r[i].p.reject()}for(var a in this.g&&t.push(this.g.destroy()),this.B&&t.push(this.B.destroy()),this.A)t.push(this.A[a].destroy());return Promise.all(t).then((function(){for(var t in e.o&&(e.o.release(),e.o=null),e.j&&(e.j.removeAttribute("src"),e.j.load(),e.j=null),e.B=e.g=e.m=null,e.f={},e.A={},e.D={},e.F=null,e.K=!1,e.h);e.h={}}))}},{key:"init",value:function(e,t){var n=this;return g.v((0,p.Z)().mark((function r(){return(0,p.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.H;case 2:e.forEach((function(e,r){var i=g.Ig(e.mimeType,e.codecs);if(r==g.r)oe(n,i);else{var a=new Map;if(a.set(r,i),(!MediaSource.isTypeSupported(i)||!t||e.keyInfo)&&te(i,r)){n.A[r]=new Pr,e=i="aac"==i.toLowerCase().split(";")[0].split("/")[1]?i.replace(/aac/i,g.md):ne(r,i),(i=new Map).set(r,e);try{var o=e.match(/"(.*?)"/)[0].replace(/"/g,"").split(","),u=new Map;if(1<o.length){var s,l=(0,v.Z)(o);try{for(l.s();!(s=l.n()).done;){var c=s.value;c.startsWith("avc")?u.set(g.u,'video/mp4;codecs="'.concat(c,'"')):c.startsWith("mp4a")&&u.set(g.Rb,'audio/mp4;codecs="'.concat(c,'"'))}}catch(f){l.e(f)}finally{l.f()}}a=0<u.size?u:i}catch(o){a=i}}ue(n,a)}}));case 3:case"end":return r.stop()}}),r)})))}},{key:"fb",value:function(e){return e===g.r?this.g.fb():(e=le(this,e))?e.fb():null}},{key:"qa",value:function(e){return e===g.r?this.g.qa():(e=le(this,e))?e.qa():null}},{key:"Sb",value:function(e,t,n){return e===g.r?this.g.Sb(t):!!(e=le(this,e))&&e.Sb(t,!1,n)}},{key:"va",value:function(e,t){return e===g.r?this.g.va(t):(e=le(this,e))?e.va(t):0}},{key:"remove",value:function(e,t,n){var r=this;return e===g.r?this.g.remove(t,n):de(this,e,this.R.bind(this,e,t,n)).then((function(){if(e===g.u){var t=r.fb(e),n=r.qa(e);null!==t&&null!==n&&G(r.C,t,n)}else e===g.Rb&&((t=r.C).a&&t.a.trigger(new g.F(g.Wb)))}))}},{key:"clear",value:function(e){return e==g.r?this.g?(this.F.f(),this.g.remove(0,1/0)):Promise.resolve():de(this,e,this.R.bind(this,e,0,this.m.duration))}},{key:"flush",value:function(e){return e==g.r?Promise.resolve():de(this,e,this.N.bind(this,e))}},{key:"endOfStream",value:function(e){var t=this;return ge(this,(function(){se(t)||(e?t.m.endOfStream(e):t.m.endOfStream())}))}},{key:"Hb",value:function(e){var t=this;ge(this,(function(){t.m.duration=e}))}},{key:"getDuration",value:function(){return this.m.duration}},{key:"J",value:function(e,n){this.a.debug("Appending data to "+e+t);try{this.f[e].appendBuffer(n)}catch(r){throw this.a.warn("Failed to append data for "+e,r),r}this.a.debug("Done Appending data to "+e+t)}},{key:"R",value:function(e,t,n){if(n<=t)this.w(e);else{this.a.debug("Removing data from "+e+" range:",t,n);try{this.f[e].remove(t,n)}catch(r){throw this.a.warn("Failed to remove data from "+e+" buffer. Range:",t,n,r),r}this.a.debug("Done Removing data from "+e+" range:",t,n)}}},{key:"T",value:function(e){try{this.a.debug("Aborting operations for "+e+t);var n=this.f[e].appendWindowStart,r=this.f[e].appendWindowEnd;this.f[e].abort(),this.f[e].appendWindowStart=n,this.f[e].appendWindowEnd=r}catch(n){throw this.a.warn("Failed to abort operations for "+e+t,n),n}this.a.debug("Done Aborting operations for "+e+t),this.w(e)}},{key:"N",value:function(e){try{this.j.readyState>HTMLMediaElement.HAVE_NOTHING?(this.a.debug("Flushing buffer for "+e),this.j.currentTime-=.001):this.a.warn("Skip buffer flush for "+e+" with element state: "+this.j.readyState)}catch(t){throw this.a.warn("Failed to flush buffer for "+e,t),t}this.a.debug("Done Flushing buffer for "+e),this.w(e)}},{key:"S",value:function(e,t){0>t&&(t+=.001);try{this.a.debug("Setting timestamp offset for "+e,t),this.f[e].timestampOffset=t}catch(n){throw this.a.warn("Failed to set timestamp offset for "+e,t,n),n}this.a.debug("Done Setting timestamp offset for "+e,t),this.w(e)}},{key:"W",value:function(e,t,n){try{this.a.debug("Setting append window for "+e,t,n),this.f[e].appendWindowStart=0,this.f[e].appendWindowEnd=n,this.f[e].appendWindowStart=t}catch(r){throw this.a.warn("Failed to set append window for "+e,t,n,r),r}this.a.debug("Done Setting append window for "+e,t,n),this.w(e)}},{key:"U",value:function(e){this.h[e][0].p.reject(new g.H(g.G,3,3014,{mediaError:this.j.error?this.j.error.code:0}))}},{key:"w",value:function(e){var t=this.h[e][0];t&&(t.p.resolve(),this.a.debug("Update-End received for "+e),me(this,e))}},{key:"getTextDisplayer",value:function(){return this.B}}]),e}(),Ar=e.URL.createObjectURL;var Mr=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;return(0,f.Z)(this,n),(e=t.call(this)).g=new g.O("cl.api.mse.TrackManager"),e.l=null,e.h=[],e.a=new Map,e.f=new Map,e}return(0,d.Z)(n,[{key:"j",value:function(e){this.l=e}},{key:"release",value:function(){this.h=[],this.a.clear(),this.f.clear()}},{key:"load",value:function(){}},{key:"destroy",value:function(){this.release(),this.l=null}},{key:"getVideoTracks",value:function(){return Ue(this,g.K)}},{key:"getAudioTracks",value:function(){return Ue(this,g.J)}},{key:"ea",value:function(){return Ue(this,g.I)}},{key:"fa",value:function(){return this.a.get(g.K)||null}},{key:"xa",value:function(){return this.a.get(g.J)||null}},{key:"za",value:function(){return this.a.get(g.I)||null}},{key:"Ia",value:function(){return this.f.get(g.K)||null}},{key:"Ua",value:function(){return this.f.get(g.J)||null}},{key:"Va",value:function(){return this.f.get(g.I)||null}},{key:"Aa",value:function(){return Fe(this,g.K)}},{key:"ha",value:function(){return Fe(this,g.J)}},{key:"ia",value:function(){return Fe(this,g.I)}},{key:"Na",value:function(e){He(this,g.K,e)}},{key:"la",value:function(e){He(this,g.J,e)}},{key:"ta",value:function(e){He(this,g.I,e)}},{key:"Ma",value:function(e,t){ze(this,g.K,e,void 0!==t&&t)}},{key:"bb",value:function(e,t){ze(this,g.J,e,void 0!==t&&t)}},{key:"cb",value:function(e,t){ze(this,g.I,e,void 0!==t&&t)}},{key:"addTextTrack",value:function(e){var t=this;return g.v((0,p.Z)().mark((function n(){return(0,p.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=t.l,!n.t0){n.next=4;break}return n.next=4,t.l.addTextTrack(e.url,e.language,e.kind,e.mimeType,e.codec,e.label);case 4:case"end":return n.stop()}}),n)})))}},{key:"ja",value:function(){return!!this.l&&this.l.ja()}}]),n}(g.P);Mr.prototype.isAbrEnabled=Mr.prototype.ja,Mr.prototype.addTextTrack=Mr.prototype.addTextTrack,Mr.prototype.setTextRendition=Mr.prototype.cb,Mr.prototype.setAudioRendition=Mr.prototype.bb,Mr.prototype.setVideoRendition=Mr.prototype.Ma,Mr.prototype.setTextTrack=Mr.prototype.ta,Mr.prototype.setAudioTrack=Mr.prototype.la,Mr.prototype.setVideoTrack=Mr.prototype.Na,Mr.prototype.getTextTrack=Mr.prototype.ia,Mr.prototype.getAudioTrack=Mr.prototype.ha,Mr.prototype.getVideoTrack=Mr.prototype.Aa,Mr.prototype.getLoadingTextRendition=Mr.prototype.Va,Mr.prototype.getLoadingAudioRendition=Mr.prototype.Ua,Mr.prototype.getLoadingVideoRendition=Mr.prototype.Ia,Mr.prototype.getTextRendition=Mr.prototype.za,Mr.prototype.getAudioRendition=Mr.prototype.xa,Mr.prototype.getVideoRendition=Mr.prototype.fa,Mr.prototype.getTextTracks=Mr.prototype.ea,Mr.prototype.getAudioTracks=Mr.prototype.getAudioTracks,Mr.prototype.getVideoTracks=Mr.prototype.getVideoTracks;var Nr=(0,d.Z)((function e(){(0,f.Z)(this,e),this.f=new g.by(2),this.g=new g.by(5),this.a=0}));g.nx=function(){function e(){(0,f.Z)(this,e),this.f=new g.O("clpp.abr"),this.w=null,this.j=!1,this.g=new Nr,this.o=[],this.m=1,this.B=this.A=!1,this.a=this.h=null}return(0,d.Z)(e,[{key:"stop",value:function(){this.w=null,this.j=!1,this.o=[],this.m=1,this.h=null,this.B=!1}},{key:"init",value:function(e){this.w=e}},{key:"chooseVariant",value:function(){var e=Ye(!this.B&&this.a.initialRestrictions?this.a.initialRestrictions:this.a.restrictions,this.o),t=qe(this.g,this.a.defaultBandwidthEstimate);this.o.length&&!e.length&&(this.f.warn("No variants met the ABR restrictions. Choosing a variant by lowest bandwidth."),e=[(e=Ye(null,this.o))[0]]);var n,r=e[0]||null,i=(0,v.Z)(g.Ss(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=a.item,u=a.next,s=isNaN(this.m)||0===this.m?1:Math.abs(this.m),l=(e=s*o.bandwidth)/this.a.bandwidthDowngradeTarget;s=s*(u||{bandwidth:1/0}).bandwidth/this.a.bandwidthUpgradeTarget,this.f.debug("Bandwidth ranges:",(e/1e6).toFixed(3),(l/1e6).toFixed(3),(s/1e6).toFixed(3)),t>=l&&t<=s&&(r=o)}}catch(c){i.e(c)}finally{i.f()}return this.h=Date.now(),this.B=!0,r}},{key:"enable",value:function(){this.j=!0}},{key:"disable",value:function(){this.j=!1}},{key:"segmentDownloaded",value:function(e,t){this.f.debug("Segment downloaded:","deltaTimeMs="+e,"numBytes="+t,"lastTimeChosenMs="+this.h,"enabled="+this.j);var n=this.g;if(!(16e3>t)){var r=8e3*t/e;e/=1e3,n.a+=t,g.Bt(n.f,e,r),g.Bt(n.g,e,r)}if(null!=this.h&&this.j)e:{if(this.f.debug("Suggesting Streams..."),this.A){if(Date.now()-this.h<1e3*this.a.switchInterval){this.f.debug("Still within switch interval...");break e}}else{if(!(128e3<=this.g.a)){this.f.debug("Still waiting for a good estimate...");break e}if(this.A=!0,this.a.useSwitchIntervalForInitialSwitch&&Date.now()-this.h<1e3*this.a.switchInterval){this.f.debug("Skipping initial estimation switch due to switch interval...");break e}}t=this.chooseVariant(),this.f.debug("Calling switch_(), bandwidth="+Math.round(qe(this.g,this.a.defaultBandwidthEstimate)/1e3)+" kbps"),this.w(t)}}},{key:"playbackRateChanged",value:function(e){this.m=e}},{key:"getBandwidthEstimate",value:function(){return qe(this.g,this.a.defaultBandwidthEstimate)}},{key:"setVariants",value:function(e){this.o=e}},{key:"configure",value:function(e){this.a=e}},{key:"reset",value:function(){this.A=!1,this.g=new Nr;var e=this.chooseVariant();e&&this.w(e)}}]),e}();var Rr=function(){function e(){(0,f.Z)(this,e),this.a=new Map}return(0,d.Z)(e,[{key:"clear",value:function(){this.a.clear()}}]),e}(),Dr=(0,d.Z)((function e(){(0,f.Z)(this,e),this.text=this.variant=null})),_r=function(){function e(t,n){(0,f.Z)(this,e),this.f=t,this.a=new Set([t]),n=n||[];var r,i=(0,v.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.add(a)}}catch(o){i.e(o)}finally{i.f()}}return(0,d.Z)(e,[{key:"add",value:function(e){return Je(this.f,e)?(this.a.add(e),!0):(g.z("Rejecting variant - not compatible with root."),!1)}},{key:"values",value:function(){return this.a.values()}}]),e}(),Lr=function(){function e(t){(0,f.Z)(this,e),this.a=t,this.f=new Or(t.language,"",t.audio&&t.audio.channelsCount?t.audio.channelsCount:0)}return(0,d.Z)(e,[{key:"create",value:function(e){var t=this,n=e.filter((function(e){return Je(t.a,e)}));return n.length?new _r(n[0],n):this.f.create(e)}}]),e}(),Or=function(){function e(t,n,r){(0,f.Z)(this,e),this.g=t,this.f=n,this.a=r}return(0,d.Z)(e,[{key:"create",value:function(e){var t=[];t=tt(e,this.g);var n=e.filter((function(e){return e.primary}));t=t.length?t:n.length?n:e,this.f&&((e=nt(t,this.f)).length?t=e:g.z("No exact match for variant role could be found.")),this.a&&((e=ke(t,this.a)).length?t=e:g.z("No exact match for the channel count could be found.")),e=new _r(t[0]);var r,i=(0,v.Z)(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;Je(e.f,a)&&e.add(a)}}catch(o){i.e(o)}finally{i.f()}return e}}]),e}(),Zr=function(){function e(t,n){(0,f.Z)(this,e),this.a=Ur,this.f=(new Map).set(Ur,n).set(jr,t)}return(0,d.Z)(e,[{key:"getState",value:function(){return this.a}}]),e}(),jr=0,Ur=1,Fr=function(){function e(t){var n=this;(0,f.Z)(this,e),this.f=t,this.a=t.getConfiguration().streaming,this.h=new g.cn,this.g=new g.O("clpp.mse.media.LiveEdgeObserver"),rt(this)&&(t=this.f.getSurface().getMedia(),this.h.on(t,g.me,(function(){var e=n.f.getPosition(),t=n.f.getSeekRange().end;e=t-e;var r=n.f.getPlaybackRate(),i=n.a.stopChasingAt;1<=r&&e>=n.a.chaseJumpDistance?(n.g.debug("Too far from edge, jump to beginning."),n.f.setPlaybackRate(1),n.f.seek(t)):1===r&&e>=n.a.startChasingAt?(n.g.debug("Not on live edge, increase playback rate."),n.f.setPlaybackRate(n.a.chasingRate)):1<r&&e<=i&&(n.g.debug("On live edge, reduce playback rate."),n.f.setPlaybackRate(1))})))}return(0,d.Z)(e,[{key:"release",value:function(){this.h.release()}}]),e}(),Hr=function(){function e(t){(0,f.Z)(this,e),this.g=t,this.a=null,this.f=function(){}}return(0,d.Z)(e,[{key:"release",value:function(){this.a=this.g=null,this.f=function(){}}},{key:"m",value:function(e){var t=this.a,n=this.g.periods;t!=(e=V(n,e)||n[0])&&this.f(e),this.a=e}}]),e}(),zr=function(){function e(t){var n=this;(0,f.Z)(this,e),this.a=t,this.h=!1,this.g=this.a.hd(),this.f=new g.rh((function(){n.a.nf(.25*n.g)}))}return(0,d.Z)(e,[{key:"release",value:function(){this.f&&(this.f.stop(),this.f=null),this.a=null}},{key:"set",value:function(e){this.g=e,at(this)}}]),e}(),Gr=function(){function e(t,n){(0,f.Z)(this,e),this.g=t,this.j=ut(t),this.a=t.a.currentTime,this.h=Date.now()/1e3,this.m=n,this.f=function(){}}return(0,d.Z)(e,[{key:"release",value:function(){this.g=null,this.f=function(){}}}]),e}(),Br=(0,d.Z)((function e(t){(0,f.Z)(this,e),this.a=t})),Vr=function(){function e(t,n,r,i,a){var o=this;(0,f.Z)(this,e),this.a=t,this.C=n,this.j=r,this.B=a,this.g=new g.cn,this.A=!1,this.F=t.readyState,this.h=!1,this.f=i,this.m=this.D=this.w=!1,this.g.on(t,g.He,(function(){return st(o)})),this.o=new g.rh((function(){st(o)})).Pa(.25)}return(0,d.Z)(e,[{key:"release",value:function(){this.g&&(this.g.release(),this.g=null),null!=this.o&&(this.o.stop(),this.o=null),this.f&&(this.f.release(),this.f=null),this.a=this.C=this.B=null,this.m=!1}},{key:"Pc",value:function(){this.w=!0,st(this)}}]),e}(),Wr=function(){function e(t,n,r,i){(0,f.Z)(this,e),this.a=t,this.h=n,this.m=i,this.w=r,this.j=!1,this.f=new g.cn,this.g=new Kr(t,10),this.o=!1,0<t.readyState?lt(this,r):ct(this,r)}return(0,d.Z)(e,[{key:"release",value:function(){this.f&&(this.f.release(),this.f=null),null!=this.g&&(this.g.release(),this.g=null),this.h=function(){},this.a=null,this.m=function(){},this.o=!1}}]),e}(),Kr=function(){function e(t,n){var r=this;(0,f.Z)(this,e),this.f=t,this.m=n,this.j=this.g=this.h=0,this.a=new g.rh((function(){0>=r.h?(g.z(["Failed to move playhead from",r.g,"to",r.j].join(" ")),r.a.stop()):r.f.currentTime!=r.g?r.a.stop():(r.f.currentTime=r.j,r.h--)}))}return(0,d.Z)(e,[{key:"release",value:function(){this.a&&(this.a.stop(),this.a=null),this.f=null}}]),e}(),qr=function(){function e(t,n,r,i,a,o){var u=this;(0,f.Z)(this,e),this.h=t,this.a=n.presentationTimeline,this.B=n.minBufferTime||0,this.m=r,this.A=a,this.w=null,this.j=new Vr(t,n.presentationTimeline,r,vt(this,t,r),o),this.g=new Wr(t,(function(){e:{var e=u.j;e.A=!0,e.w=!1,e.h=!1,e=ft(u.g);var t=wt(u,e);if(.001<Math.abs(t-e)){var n=(new Date).getTime()/1e3;if(!u.w||u.w<n-1){u.w=n,dt(u.g,t),e=void 0;break e}}u.f.debug("Seek to "+e),u.A(),e=void 0}return e}),gt(this,i),(function(){u.j.D=!0})),this.o=new g.rh((function(){if(0!=u.h.readyState&&!u.h.paused){var e=ft(u.g),t=q(u.a,0),n=K(u.a);3>n-t&&(t=n-3),e<t&&(t=wt(u,e),u.f.info("Jumping forward "+(t-e)+" seconds to catch up with the seek range."),u.h.currentTime=t)}})).Pa(.25),this.f=new g.O("clpp.mse.Playhead")}return(0,d.Z)(e,[{key:"release",value:function(){this.g&&(this.g.release(),this.g=null),this.j&&(this.j.release(),this.j=null),this.o&&(this.o.stop(),this.o=null),this.h=this.g=this.a=this.m=null,this.A=function(){}}}]),e}(),Yr=new g.fo((function(){return new Uint8Array([0,0,0,80,115,105,110,102,0,0,0,12,102,114,109,97,0,0,0,0,0,0,0,20,115,99,104,109,0,0,0,0,99,101,110,99,0,1,0,0,0,0,0,40,115,99,104,105,0,0,0,32,116,101,110,99,0,0,0,0,0,0,1,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])}));g.Qx=function(){function e(t,n){(0,f.Z)(this,e),this.f=n,this.g=t,this.m=null,this.B=1,this.H=Promise.resolve(),this.o=[],this.w=new Map,this.h=new Map,this.J=this.j=this.A=this.C=!1,this.I=0,this.a=new g.O("clpp.mse.Streaming"),this.F=!1,this.D=[]}return(0,d.Z)(e,[{key:"destroy",value:function(){var e,t=(0,v.Z)(this.h.values());try{for(t.s();!(e=t.n()).done;){var n=e.value;It(n)}}catch(r){t.e(r)}finally{t.f()}return this.h.clear(),this.w.clear(),this.m=this.o=this.H=this.g=this.f=null,this.D=[],this.j=!0,Promise.resolve()}},{key:"start",value:function(){var e=this;return g.v((0,p.Z)().mark((function t(){var n,r;return(0,p.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.f.kb(),r=Ct(e,n),(r=e.f.zd(e.g.periods[r])).variant||r.text){t.next=5;break}throw e.a.error("init: no Streams chosen"),new g.H(g.G,5,5005);case 5:return e.F=!r.variant&&!!r.text,t.next=8,At(e,r.variant?r.variant.audio:null,r.variant?r.variant.video:null,r.text,n);case 8:e.j||(e.a.debug("init: completed initial Stream setup"),e.f&&e.f.pf&&(e.a.debug("init: calling onInitialStreamsSetup()..."),e.f.pf()));case 9:case"end":return t.stop()}}),t)})))}},{key:"K",value:function(e,t,n,r){var i=A(r.G),a=A(r.G),o=g.N(r.G),u=g.N(r.G),s=g.N(r.G),l=g.N(r.G);r=g.Ei(r.G,r.G.ya()-r.G.getPosition()),e=e.startTime+t.startTime+u/o,n.includes(i)&&("urn:mpeg:dash:event:2012"==i?this.f.qe():(n=new g.F("emsg",{detail:{startTime:e,endTime:e+s/o,schemeIdUri:i,value:a,timescale:o,presentationTimeDelta:u,eventDuration:s,id:l,messageData:r}}),this.f.onEvent(n)))}},{key:"L",value:function(e){var t=this,n=!1,r=0;(new g.Yn).M(g.ld,g.mj).M(g.ne,g.mj).M(g.gd,g.mj).M(g.kd,g.mj).M(g.de,g.mj).X(g.fe,g.nj).M("encv",(function(e){e.G.skip(78),g.mj(e)})).M("pasp",(function(e){r=e.start+e.kd;var i=g.N(e.G),a=g.N(e.G);n=i!==a,t.a.debug("hSpacing=".concat(i,", vSpacing=").concat(a,", updatePASP=").concat(n)),e.Za.stop()})).parse(e.data),n&&((e=new g.Li(new DataView(e.data))).seek(r),g.M(e,1),g.M(e,1))}}]),e}();var Xr=function(t){(0,l.Z)(r,t);var n=(0,c.Z)(r);function r(t){var i;return(0,f.Z)(this,r),(i=n.call(this,T)).C=Jr,i.h=i.F=i.S=null,i.vd=0,i.re=2,i.Kb=null,i.pd=!1,i.j=new g.cn,i.ga=i.Ic=i.Ta=i.vb=i.w=i.I=i.m=null,i.Jb=!1,i.g=i.f=i.B=i.a=i.Qa=i.D=null,i.Ce=1e9,i.Lc=new Set,i.R=!0,i.W=null,i.we=!1,i.ue=0,i.T=null,i.L=new Rr,i.ze={width:1/0,height:1/0},i.H=null,i.V=g.zk,i.Ra=new Or(i.configuration.preferredAudioLanguage,i.configuration.preferredAudioRole,i.configuration.preferredAudioChannelCount),i.ca=i.configuration.preferredTextLanguage,i.N=i.Sa=null,i.wb=new Map,i.aa=null,i.ua=i.configuration.preferredTextRole,t&&t((0,o.Z)(i)),i.qd=null,i.j.on(e,"online",(function(){i.C===Qr&&an(i.a)})),i}return(0,d.Z)(r,[{key:"init",value:function(e,t){var n=e.getMedia();(0,u.Z)((0,s.Z)(r.prototype),"init",this).call(this,e,t),yn(this,n)}},{key:"namespace",value:function(){return T}},{key:"te",value:function(){return new Mr}},{key:"getState",value:function(){return this.V}},{key:"getDrmInfo",value:function(){return this.m?this.m.getDrmInfo():null}},{key:"unload",value:function(){var e=this;if(dn(this,!1),this.Jb=!1,this.o){var t=this.getTrackManager();return t&&t.release(),this.C===$r?Promise.resolve():kn(this).then((function(){e.log.debug(g.Ua,e.o),e.o=null,e.vd=0,e.N=e.Sa=null}))}return Promise.resolve()}},{key:"release",value:function(){var e=this,t=this,n=function(){return Object.getPrototypeOf(Object.getPrototypeOf(e)).release};return g.v((0,p.Z)().mark((function e(){return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.S){e.next=2;break}return e.abrupt("return",t.S);case 2:return t.S=new Promise((function(e,r){try{var i=t.F;t.F=null;var a=i;i&&(a=i.catch((function(){}))),(a=(a=a?a.then((function(){return n().call(t)})):n().call(t)).then((function(){return t.unload()}))).then((function(){wn(t,g.zk),t.S=null,e()})).catch((function(e){t.S=null,r(e)}))}catch(i){t.S=null,r(i)}})),e.abrupt("return",t.S);case 4:case"end":return e.stop()}}),e)})))}},{key:"getBufferInfo",value:function(e){if(this.I){var t=ce(this.I),n=new g.yn(void 0,e);switch(e){case g.K:return t.video?t.video:n;case g.J:return t.audio?t.audio:n;case g.I:return t.text?t.text:n}return t.total?t.total:n}return this.Kb?(t=F(this.Kb),O(t,e)):(0,u.Z)((0,s.Z)(r.prototype),"getBufferInfo",this).call(this,e)}},{key:"getPosition",value:function(){return this.w?yt(this.w):(0,u.Z)((0,s.Z)(r.prototype),"getPosition",this).call(this)}},{key:"getPresentationStartTime",value:function(){return this.f&&this.f.presentationTimeline.getPresentationStartTime()||0}},{key:"getDuration",value:function(){return this.f?this.f.presentationTimeline.getDuration():1/0}},{key:"destroy",value:function(){var e=this,t=this;return g.v((0,p.Z)().mark((function n(){return(0,p.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object.getPrototypeOf(Object.getPrototypeOf(e)).destroy.call(t);case 2:if(n.t0=t.C!==$r,!n.t0){n.next=10;break}return t.log.debug("Destroying player..."),t.C=$r,n.next=8,Tn(t);case 8:t.j&&(t.j.release(),t.j=null),t.g=null;case 10:case"end":return n.stop()}}),n)})))}},{key:"load",value:function(e){var t=this;return g.v((0,p.Z)().mark((function n(){var r,i,a,o,u;return(0,p.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.C!==$r){n.next=2;break}return n.abrupt("return",Promise.reject(new g.H(g.G,7,7e3)));case 2:if(r=new g.Hj,i=function(){throw t.log.info("Aborting current load"),new g.H(g.G,7,7e3)},t.F=r,n.prev=5,t.F!==r&&i(),!t.S){n.next=16;break}return n.prev=8,n.next=11,t.S;case 11:n.next=15;break;case 13:n.prev=13,n.t0=n.catch(8);case 15:t.F!==r&&i();case 16:return t.H=new g.eo,t.qd=Date.now()/1e3,wn(t,g.Ak),t.o=g.Fk(e),g.Zh(e)&&(t.configuration=g.Yh(t.ec,e)),t.log.info(g.Fa,t.configuration),t.log.info(g.Ra,t.o),(a=t.getTrackManager())&&a.load(),(o=t.getSurface().getMedia()).loop=!!t.configuration.loop,g.y(t.configuration.volume)||t.setVolume(t.configuration.volume),g.y(t.configuration.muted)||t.setMuted(t.configuration.muted),xn(t),u=t.o[t.getSourceIndex()],t.F!==r&&i(),n.next=34,yn(t,o);case 34:return t.F!==r&&i(),n.next=37,En(t,o);case 37:return t.F!==r&&i(),n.next=40,In(t,u);case 40:return t.F!==r&&i(),n.next=43,Cn(t,u);case 43:return t.F!==r&&i(),n.next=46,An(t);case 46:return t.F!==r&&i(),n.next=49,Pn(t);case 49:t.F!==r&&i(),r.resolve(),n.next=56;break;case 53:throw n.prev=53,n.t1=n.catch(5),i=n.t1,t.F!==r&&(i=new g.H(g.G,7,7e3)),r.reject(i),t.onError(i),i;case 56:case"end":return n.stop()}}),n,null,[[5,53],[8,13]])})))}},{key:"isLive",value:function(){return!!this.f&&this.f.presentationTimeline.isLive()}},{key:"De",value:function(){this.log.debug("User seeking finished"),this.D&&Ln(this),On(this)}},{key:"getSeekRange",value:function(){if(this.f){var e=this.f.presentationTimeline;return{start:q(e,0),end:K(e)}}return{start:0,end:0}}},{key:"getPlaybackRate",value:function(){if(this.Ta){var e=this.Ta;e=e.h?0:e.g}else e=0;return e}},{key:"setPlaybackRate",value:function(e){if(0===e)this.log.warn("A trick play rate of 0 is unsupported!");else if(this.C===Qr){this.Ta.set(e),this.g.playbackRateChanged(e);var t=this.a,n=1<Math.abs(e);if(e=t.h.get(g.u)){var r=e.stream;r&&(t.a.debug("setTrickPlay",n),n?(n=r.trickModeVideo)&&!e.Eb&&(t.a.debug("Engaging trick mode stream",n),g.bw(t,n,!1,0),e.Eb=r):(r=e.Eb)&&(t.a.debug("Restoring non-trick-mode stream",r),e.Eb=null,g.bw(t,r,!0,0)))}}}},{key:"ea",value:function(){if(this.f&&this.w){var e=Wn(this);if(null==e)e=null;else{if(!Xe(this.L,e).text){var t=g.Fu(e.textStreams,this.ca,this.ua);t.length&&$e(this.L,e,t[0])}e=Xe(this.L,e).text}t=[];var n,r=(0,v.Z)(Jn(this));try{for(r.s();!(n=r.n()).done;){var i=n.value,a=Me(i);a.active=i==e,t.push(a)}}catch(o){r.e(o)}finally{r.f()}return t}return[]}},{key:"getPeriods",value:function(){return this.f.periods}},{key:"getStats",value:function(){if(this.C!==Qr)return g.jk();On(this);var e=this.h;if(e.getVideoPlaybackQuality){var t=e.getVideoPlaybackQuality();e=this.H;var n=Number(t.totalVideoFrames);e.h=Number(t.droppedVideoFrames),e.g=n}return this.C===Qr&&((t=Xn(this))&&(this.H.A=t.bandwidth),t&&t.video&&(e=this.H,n=t.video.height||NaN,e.j=t.video.width||NaN,e.f=n),e=this.g.getBandwidthEstimate(),this.H.m=e),this.H.getStats()}},{key:"getTimelineCues",value:function(){return this.Qa?(0,h.Z)(this.Qa.cues()).map((function(e){return{schemeIdUri:e.schemeIdUri,value:e.value,startTime:e.startTime,endTime:e.endTime,id:e.id,eventElement:e.eventElement,type:e.type}})):[]}},{key:"resetAbr",value:function(){this.g&&this.g.reset()}},{key:"addTextTrack",value:function(e,t,n,r,i,a){var o=this;return g.v((0,p.Z)().mark((function u(){var s,l,c,f,d;return(0,p.Z)().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(o.C===Qr){u.next=2;break}throw o.log.error("Must call load() and wait for it to resolve before adding text tracks."),Error("State error!");case 2:if(s=Wn(o),l=o.f.periods.indexOf(s)+1,1/0!=(c=(l>=o.f.periods.length?o.f.presentationTimeline.getDuration():o.f.periods[l].startTime)-s.startTime)){u.next=7;break}throw new g.H(1,4,4040);case 7:return f=new g.Mt(1,0,c,(function(){return[e]}),0,null,0),l={id:o.Ce++,originalId:null,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return 1},getSegmentReference:function(e){return 1==e?f:null},adjustSegmentDurations:function(){},getDuration:function(){return c},initSegmentReference:null,mimeType:r,codecs:i||"",kind:n,encrypted:!1,keyId:null,language:t,label:a||null,type:g.r,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,closedCaptions:null},o.Lc.add(l),s.textStreams.push(l),u.next=13,_t(o.a,l);case 13:return(d=g.Sv(o.a,g.r))&&$e(o.L,s,d),o.Lc.delete(l),o.log.debug("Choosing new streams after adding a text stream"),Yn(o,s),Vn(o),u.abrupt("return",Me(l));case 20:case"end":return u.stop()}}),u)})))}},{key:"If",value:function(e){this.log.debug(g.Gs,e);try{this.log.debug("onChooseStreams_, choosing variant from ",e.variants),this.log.debug("onChooseStreams_, choosing text from ",e.textStreams);var t=or(this,e);return this.log.debug("onChooseStreams_, chose variant ",t.variant),this.log.debug("onChooseStreams_, chose text ",t.text),t}catch(t){return this.onError(t),{variant:null,text:null}}}},{key:"Hf",value:function(){this.log.debug("canSwitch_"),this.R=!1,this.configuration.abr.enabled&&this.g.enable(),this.W&&(Lt(this.a,this.W,this.we,this.ue),this.W=null),this.T&&(g.bw(this.a,this.T,!0,0),this.T=null)}},{key:"Fe",value:function(){this.B&&this.B.update&&this.B.update()}},{key:"He",value:function(){this.w&&this.w.j.Pc()}},{key:"Gf",value:function(e,t){t=void 0!==t&&t;var n=Wn(this),r=n.variants.some((function(t){var n=!1,r=t[e.type];return r&&(n=t.allowedByApplication&&r.id!==e.id,e.type===g.Rb&&(n=n&&r.language===e.language)),n}))&&(this.ja()||t);if(r){var i,a=(0,v.Z)(n.variants);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=o[e.type];u&&u.id===e.id&&(o.allowedByApplication=!1)}}catch(s){a.e(s)}finally{a.f()}Vn(this),!this.ja()&&t&&(this.configuration.abr.enabled=!0,this.g.enable()),Yn(this,n)}return r}},{key:"Ge",value:function(){this.log.debug("endOfStream called by streaming engine"),this.Jb=!0}},{key:"onError",value:function(e){if(this.C!==$r&&7001!==e.code&&7e3!==e.code){var t=new g.F(g.Oc,{detail:e});e.severity===g.G&&wn(this,g.yk),this.trigger(t),t.defaultPrevented&&(t.a=!0)}}},{key:"rd",value:function(e){e.type===g.Ic?this.dispatchEvent(e):"largegap"!==e.type&&(e.type===g.Ie?Mn(this):"emsg"!==e.type&&(e instanceof g.F?this.dispatchEvent(e):this.log.debug("Unhandled/ignored event",e.type)))}},{key:"ja",value:function(){return this.configuration.abr.enabled}},{key:"Je",value:function(e){var t=this;return g.v((0,p.Z)().mark((function n(){var r,i,a,o;return(0,p.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.na){n.next=34;break}return t.log.info("Attempt to switch CDN."),r=t.getLoadedSource(),i=t.ja(),n.next=5,t.na(r.url,e);case 5:if(!(r=n.sent)){n.next=34;break}return r=g.af(t.getLoadedSource(),{url:r}),i&&t.g.disable(),n.next=10,ln(t.a);case 10:a=Xn(t);case 11:return o=!1,n.prev=12,t.log.info("Switching CDN to ".concat(r.url,".")),n.next=16,cr(t,r,a);case 16:n.next=28;break;case 18:return n.prev=18,n.t0=n.catch(12),t.log.info("Switch failed"),n.next=23,t.na(r.url,e);case 23:if(!(o=n.sent)){n.next=27;break}r.url=o,o=!0,n.next=28;break;case 27:throw n.t0;case 28:if(o){n.next=11;break}case 29:i&&t.g.enable(),an(t.a,!0),t.o[t.getSourceIndex()]=r,e.f=!0,t.trigger(new g.F(g.ic,{newManifest:r.url}));case 34:case"end":return n.stop()}}),n,null,[[12,18]])})))}}]),r}(g.Jn),$r=0,Jr=1,Qr=2,ei=[g.Cd,g.Uc];g.Bf(new(function(){function t(){(0,f.Z)(this,t)}return(0,d.Z)(t,[{key:"a",value:function(){return T}},{key:"canPlay",value:function(t,n){if(g.Eh())return 0;var r=t.type||"",i=!(!e.MediaSource||!MediaSource.isTypeSupported);if(t=!(!e.MediaSource||!MediaSource.isTypeSupported)&&(r in g.rm||g.sm(t.url)in g.tm),i&&t){if(g.vh(2))return 1;if(g.Fh()&&r===g.Pb){if(n.streaming.preferNativeHlsOnSafari)return 1;g.z("Support for MSE + FairPlay on Apple is experimental. In case of issues, consider using native HLS.")}return 2}return 0}},{key:"create",value:function(){return new Xr}}]),t}())),g.kl((function(){if(g.D("MediaSource.install"),e.MediaSource)if(e.cast&&cast.__platform__&&cast.__platform__.canDisplayType)g.tf("Patching Chromecast MSE bugs."),fr();else if(g.Fh()){var t=navigator.appVersion;t=0<=t.indexOf("Version")?parseInt(t.match(/Version\/(\d+)/)[1],10):13,dr(),10>=t?(g.tf("Blacklisting MSE on Safari <= 10."),e.MediaSource=null):12>=t?(g.tf("Patching Safari 11 & 12 MSE bugs."),hr(),pr()):(g.tf("Patching Safari 13 MSE bugs."),hr())}else g.vh(2)||g.vh(3)||g.vh(4)?vr():g.tf("Using native MSE as-is.");else g.tf("No MSE implementation available.")}));var ti=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(e){var r;(0,f.Z)(this,n),r=t.call(this,e),e=e.getSurface().getMedia(),r.a=null;for(var i=0;i<e.textTracks.length;++i){var a=e.textTracks[i];a.mode=g.Dc,a.label===m&&(r.a=a)}return r.a||(r.a=e.addTextTrack(g.Ls,m)),r.a.mode=g.Sc,r}return(0,d.Z)(n,[{key:"append",value:function(e){var t,n=[],r=function(e){if(e.startTime>=e.endTime)g.z("Invalid cue times: "+e.startTime+" - "+e.endTime),e=null;else{var t=e.payload||"";t=t.replace(/<br\s*\/?>/gim,"\n"),t=g.sg(t),(t=new VTTCue(e.startTime,e.endTime,t)).line=-1;try{t.align=g.kc}catch(r){t.align="middle"}e.writingMode===g.xe?t.vertical="lr":e.writingMode===g.ze&&(t.vertical="rl"),e=t}e&&n.push(e)},i=(0,v.Z)(e);try{for(i.s();!(t=i.n()).done;){r(t.value)}}catch(s){i.e(s)}finally{i.f()}e=n.slice().sort((function(e,t){return e.startTime!==t.startTime?e.startTime-t.startTime:e.endTime!==t.endTime?e.endTime-t.startTime:n.indexOf(t)-n.indexOf(e)}));var a,o=(0,v.Z)(e);try{for(o.s();!(a=o.n()).done;){var u=a.value;this.a.addCue(u)}}catch(s){o.e(s)}finally{o.f()}}},{key:"remove",value:function(e,t){return!!this.a&&(gr(this.a,(function(n){return n.startTime<t&&n.endTime>e})),!0)}},{key:"isTextVisible",value:function(){return this.a.mode==g.Yd}},{key:"setTextVisibility",value:function(e){null!==this.a&&(this.a.mode=e?g.Yd:g.Sc)}},{key:"destroy",value:function(){return this.a&&gr(this.a,(function(){return!0})),this.a=null,Promise.resolve()}}]),n}(g.Qo),ni=function(){function e(){(0,f.Z)(this,e)}return(0,d.Z)(e,[{key:"Y",value:function(){return!0}},{key:"create",value:function(e){return new ti(e)}}]),e}();ni.prototype.create=ni.prototype.create,ni.prototype.isSupported=ni.prototype.Y,g.ck(g.Zd,new ni)}).call({},window);var m=a.clpp._;(function(e){var t="Channel parsing failure! Ignoring scheme and value",n="ContentProtection",r="EssentialProperty",i="Missing <ms:pro/> node in ContentProtection element",a="SegmentBase does not contain sufficient segment information:",o="SegmentList does not contain sufficient segment information:",u="SegmentTemplate does not contain sufficient segment information:",s="SegmentTimeline",g='The last "S" element cannot have a negative repeat',y="application",b="duration",w="http://www.w3.org/1999/xlink",k='ignoring the last "S" element.',T='ignoring the remaining "S" elements.',S="presentationTimeOffset",E="schemeIdUri",x="static",I="timescale",C="urn:microsoft:playready",A="urn:mpeg:cenc:2013",P="urn:mpeg:dash:utc:http-head:2014",M="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",N="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",R=function(e){return new m.Ok(Promise.reject(e),(function(){return Promise.resolve()}))},D=function(e){return new m.Ok(Promise.all(e.map((function(e){return e.O}))),(function(){return Promise.all(e.map((function(e){return e.abort()})))}))},_=function(e,t,n){return Array.prototype.filter.call(e.childNodes,(function(e){return e instanceof Element&&e.localName==n&&e.namespaceURI==t}))},L=function(e,t,n){return 1!=(e=_(e,t,n)).length?null:e[0]},O=function(e,t,n){return e.hasAttributeNS(t,n)?e.getAttributeNS(t,n):null},Z=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=null;return null!=(e=e.getAttribute(t))&&(i=n(e)),null==i?r:i},j=function(e){return e?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),e=Date.parse(e),isNaN(e)?null:Math.floor(e/1e3)):null},U=function(e){if(!e)return null;var t=/^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/.exec(e);return t?(e=31536e3*Number(t[1]||null)+2592e3*Number(t[2]||null)+86400*Number(t[3]||null)+3600*Number(t[4]||null)+60*Number(t[5]||null)+Number(t[6]||null),isFinite(e)?e:null):(m.z("Invalid duration string:",e),null)},F=function(e){var t=/([0-9]+)-([0-9]+)/.exec(e);return t?(e=Number(t[1]),isFinite(e)?(t=Number(t[2]),isFinite(t)?{start:e,end:t}:null):null):null},H=function(e){return 0===(e=Number(e))%1?e:null},z=function(e){return 0===(e=Number(e))%1&&0<e?e:null},G=function(e){return 0===(e=Number(e))%1&&0<=e?e:null},B=function(e){var t;return e=(t=e.match(/^(\d+)\/(\d+)$/))?Number(t[1])/Number(t[2]):Number(e),isNaN(e)?null:e},V=function(e,t){try{var n=m.gg(e);return m.ot(n,t)}catch(n){return null}},W=function(t,n,r,i,a){var o={RepresentationID:n,Number:r,Bandwidth:i,Time:a};return t.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,(function(n,r,i,a){if("$$"==n)return"$";var u=o[r];if(null==u)return m.z("URL template does not have an available substitution ","for identifier",'"'+r+'":',t),n;switch("RepresentationID"==r&&i&&(m.z("URL template should not contain a width specifier for identifier",'"RepresentationID":',t),i=void 0),"Time"==r&&(u=Math.round(u)),a){case void 0:case"d":case"i":case"u":n=u.toString();break;case"o":n=u.toString(8);break;case"x":n=u.toString(16);break;case"X":n=u.toString(16).toUpperCase();break;default:n=u.toString()}return i=e.parseInt(i,10)||1,Array(Math.max(0,i-n.length)+1).join("0")+n}))},K=function(e,t){var n=q(e,t,I),r=1;n&&(r=z(n)||1),n=q(e,t,b),(n=z(n||""))&&(n/=r);var i=0;e.Ub||(i=Number(q(e,t,S))||0);var a=q(e,t,"startNumber"),o=G(a||"");null!=a&&null!=o||(o=1),a=null!==(a=q(e,t,"endNumber"))?G(a||""):null;var u=Y(e,t,s),l=null;if(u){l=r;var c=i,f=e.da.duration||1/0;u=m.lt(u,"S");for(var d=[],h=0,p=0;p<u.length;++p){var v=u[p],y=Z(v,"t",G),w=Z(v,"d",G),E=Z(v,"r",H);if(null!=y&&(y-=c),!w){m.z('"S" element must have a duration:',T,v);break}if(y=null!=y?y:h,0>(E=E||0))if(p+1<u.length){if(null==(E=Z(u[p+1],"t",G))){m.z('An "S" element cannot have a negative repeat','if the next "S" element does not have a valid start time:',T,v);break}if(y>=E){m.z('An "S" element cannot have a negative repeat if its start ','time exceeds the next "S" element\'s start time:',T,v);break}E=Math.ceil((E-y)/w)-1}else{if(1/0==f){m.z(g,"if the Period has an infinite duration:",k,v);break}if(y/l>=f){m.z(g,"if its start time exceeds the Period's duration:",k,v);break}E=Math.ceil((f*l-y)/w)-1}for(0<d.length&&y!=h&&(Math.abs((y-h)/l)>=m.ao&&m.z("SegmentTimeline contains a large gap/overlap:","the content may have errors in it.",v),d[d.length-1].end=y/l),v=0;v<=E;++v)h=y+w,d.push({start:y/l,end:h/l,Df:y}),y=h}l=d}return c=i/r||0,e=q(e,t,"availabilityTimeOffset"),t=Number(e||""),t=isNaN(t)?null:t,null!=e&&null!=t||(t=0),{timescale:r,pa:n,Zb:o,cd:a,Fb:c,Rd:i,timeline:l,Wc:t}},q=function(e,t,n){return[t(e.P),t(e.oa),t(e.sa)].filter(m.ek).map((function(e){return e.getAttribute(n)})).reduce((function(e,t){return e||t}))},Y=function(e,t,n){return[t(e.P),t(e.oa),t(e.sa)].filter(m.ek).map((function(e){return m.mt(e,n)})).reduce((function(e,t){return e||t}))},X=function(e,t,n,r,i,a){for(var o=O(e,w,"href"),u=O(e,w,"actuate")||"onRequest",s=0;s<e.attributes.length;s++){var l=e.attributes[s];l.namespaceURI==w&&(e.removeAttributeNS(l.namespaceURI,l.localName),--s)}if(5<=a)return R(new m.H(m.G,4,4028));if("onLoad"!=u)return R(new m.H(m.G,4,4027));var c=m.et([r],[o]);return(r=m.wg(c,t)).type=1,i.fetch(r).Cc((function(r){if(!(r=V(r.data,e.tagName)))return R(new m.H(m.G,4,4001,{uri:o}));for(;e.childNodes.length;)e.removeChild(e.childNodes[0]);for(;r.childNodes.length;){var u=r.childNodes[0];r.removeChild(u),e.appendChild(u)}for(u=0;u<r.attributes.length;u++){var s=r.attributes[u].nodeName,l=r.getAttribute(s);e.setAttribute(s,l)}return $(e,t,n,c[0],i,a+1)}))},$=function e(t,n,r,i,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(O(t,w,"href")){var u=X(t,n,r,i,a,o);return r&&(u=u.Cc(void 0,(function(){return e(t,n,r,i,a,o)}))),u}u=[];for(var l=0;l<t.childNodes.length;l++){var c=t.childNodes[l];c instanceof Element&&("urn:mpeg:dash:resolve-to-zero:2013"==O(c,w,"href")?(t.removeChild(c),--l):c.tagName!=s&&u.push(e(c,n,r,i,a,o)))}return D(u).Cc((function(){return t}))},J=function(e,t,n,r){var i,a=(new m.Yn).X("sidx",(function(e){i=Q(t,r,n,e)}));if(e&&a.parse(e),i)return i;throw m.uf('Invalid box type, expected "sidx".'),new m.H(m.G,3,3004)},Q=function(e,t,n,r){var i=[];r.G.skip(4);var a=m.N(r.G);if(0==a)throw m.uf("Invalid timescale."),new m.H(m.G,3,3005);if(0==r.version)var o=m.N(r.G),u=m.N(r.G);else o=m.Di(r.G),u=m.Di(r.G);r.G.skip(2);var s=m.Bi(r.G);for(e=e+r.size+u,u=0;u<s;u++){var l=m.N(r.G),c=(2147483648&l)>>>31;l&=2147483647;var f=m.N(r.G);if(r.G.skip(4),1==c)throw m.uf("Hierarchical SIDXs are not supported."),new m.H(m.G,3,3006);i.push(new m.Mt(i.length,o/a-t,(o+f)/a-t,(function(){return n}),e,e+l-1,t)),o+=f,e+=l}return r.Za.stop(),i},ee=function(e){var t,n=m.Ns(e.a);for(t=1;8>=t&&!(n&1<<8-t);t++);if(8<t)throw new m.H(m.G,3,3002);var r=new Uint8Array(t);for(r[0]=n,n=1;n<t;n++)r[n]=m.Ns(e.a);return r},te=function(e){var t=ee(e);if(7<t.length)throw new m.H(m.G,3,3002);for(var n=0,r=0;r<t.length;r++)n=256*n+t[r];t=n,n=ee(e);e:{var i,a=(0,v.Z)(Ue);try{for(a.s();!(i=a.n()).done;)if(o=i.value,m.li(n,new Uint8Array(o))){var o=!0;break e}}catch(u){a.e(u)}finally{a.f()}o=!1}if(o)n=e.f.byteLength-e.a.getPosition();else{if(8==n.length&&224&n[1])throw new m.H(m.G,3,3001);for(o=n[0]&(1<<8-n.length)-1,r=1;r<n.length;r++)o=256*o+n[r];n=o}return n=e.a.getPosition()+n<=e.f.byteLength?n:e.f.byteLength-e.a.getPosition(),o=new DataView(e.f.buffer,e.f.byteOffset+e.a.getPosition(),n),e.a.skip(n),new Fe(t,o)},ne=function(e){if(8<e.a.byteLength)throw new m.H(m.G,3,3002);if(8==e.a.byteLength&&224&e.a.getUint8(0))throw new m.H(m.G,3,3001);for(var t=0,n=0;n<e.a.byteLength;n++){t=256*t+e.a.getUint8(n)}return t},re=function(e){var t=new je(e.a);if(179!=(e=te(t)).id)throw m.z("Not a CueTime element."),new m.H(m.G,3,3013);if(e=ne(e),183!=(t=te(t)).id)throw m.z("Not a CueTrackPositions element."),new m.H(m.G,3,3012);t=new je(t.a);for(var n=0;m.zi(t.a);){var r=te(t);if(241==r.id){n=ne(r);break}}return{Ef:e,tf:n}},ie=function(e,t){if(!(t=Y(e,t,"Initialization")))return null;var n=e.P.Ha,r=t.getAttribute("sourceURL");return r&&(n=m.et(e.P.Ha,[r])),e=0,r=null,(t=Z(t,"range",F))&&(e=t.start,r=t.end),new m.cy((function(){return n}),e,r)},ae=function(e){return e.zc},oe=function(e,t,n,r,i,a,o,u){var s=e.presentationTimeline,l=!e.gc||!e.da.nd,c=e.da.start,f=e.da.duration,d=t,h=null;return{createSegmentIndex:function(){return m.v((0,p.Z)().mark((function e(){var t,v,g;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[d(r,i,a),"webm"==o?d(n.Ka(),n.Fa,n.wa):null],d=null,e.next=4,Promise.all(t);case 4:return t=e.sent,v=t[0],g=t[1]||null,v=o==m.md?J(v,i,r,u):(new He).parse(v,g,r,u),m.Ft(s,v,c),h=new m.ey(v),l&&m.Pt(h,f),e.abrupt("return",t);case 12:case"end":return e.stop()}}),e)})))},findSegmentPosition:function(e){return h.h(e)},getSegmentReference:function(e){return h.get(e)},adjustSegmentDurations:function(e,t){return h.f(e,t)},getDuration:function(){return h.getDuration()}}},ue=function(e){var t=q(e,ce,"initialization");if(!t)return null;var n=e.P.id,r=e.bandwidth||null,i=e.P.Ha;return new m.cy((function(){var e=W(t,n,null,r,null);return m.et(i,[e])}),0,null)},se=function(e,t){var n=e.da.duration,r=t.pa,i=t.Zb,a=t.cd,o=t.timescale,u=t.td,s=e.bandwidth||null,l=e.P.id,c=e.P.Ha;return{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(e){return 0>e||n&&e>=n?null:Math.floor(e/r)},getSegmentReference:function(e){var f=e+i;if(null!==a&&f>a)return null;var d=e*r,h=d+r;return n&&(h=Math.min(h,n)),0>h||n&&d>=n?null:new m.Mt(e,d,h,(function(){var e=W(u,l,f,s,d*o);return m.et(c,[e])}),0,null,t.Fb)},adjustSegmentDurations:function(){},getDuration:function(){return n}}},le=function(e,t){for(var n=[],r=0;r<t.timeline.length;r++){var i=r+t.Zb;n.push(new m.Mt(i,t.timeline[r].start,t.timeline[r].end,function(e,t,n,r,i,a){return e=W(e,t,i,n,a),m.et(r,[e]).map((function(e){return e.toString()}))}.bind(null,t.td,e.P.id,e.bandwidth||null,e.P.Ha,i,t.timeline[r].Df+t.Rd),0,null,t.Fb))}return n},ce=function(e){return e.Yb},fe=function(e){return e.Gb},de=function(e,t,n,r){var i=r.Vb.length;r.timeline&&r.timeline.length!=r.Vb.length&&(i=Math.min(r.timeline.length,r.Vb.length),m.z("The number of items in the segment timeline and the number of","segment URLs do not match, truncating",r.Vb.length,"to",i));for(var a=[],o=r.startTime,u=function(){var i,u=r.Vb[s],l=m.et(n,[u.lf]);i=null!=r.pa?o+r.pa:r.timeline?r.timeline[s].end:o+e,a.push(new m.Mt(s+t,o,i,(function(){return l}),u.start,u.end,r.Fb)),o=i},s=0;s<i;s++)u();return a},he=function(e){return[e.P.Gb,e.oa.Gb,e.sa.Gb].filter(m.ek).map((function(e){return m.lt(e,"SegmentURL")})).reduce((function(e,t){return 0<e.length?e:t})).map((function(t){return t.getAttribute("indexRange")&&!e.md&&(e.md=!0,m.z("We do not support the SegmentURL@indexRange attribute on SegmentList.  We only use the SegmentList@duration attribute or SegmentTimeline, which must be accurate.")),{lf:t.getAttribute("media"),start:(t=Z(t,"mediaRange",F,{start:0,end:null})).start,end:t.end}}))},pe=function(e,t){return e.find((function(e){return ze.get(e.rb)===t}))},ve=function(e,t,n,r){var a=ge(e),o=null;e=[];var u=[],s=pe(a,m.yc),l=pe(a,m.xc);if(l&&r){var c=function(e,t){var n=L(e.node,C,"pro");return n?(e=m.ii(n.textContent),(e=m.zt(e)).version!==t&&(m.D("Parsing from ".concat(e.version," to ").concat(t,".")),e=m.yt(e,t))?{keyId:null,rb:M,node:document.createElement("null"),init:[{initData:m.qt(e),initDataType:m.jc,keyId:null}]}:null):(m.z(i,e),null)}(l,r);c&&(a[a.indexOf(l)]=c)}if(l&&!s&&(c=function(e){var t=L(e.node,C,"pro");return t?(e=m.ii(t.textContent),e=m.zt(e),e=m.tt(e.a),{keyId:null,rb:N,node:document.createElement("null"),init:[{initData:m.qt(e),initDataType:m.jc,keyId:null}]}):(m.z(i,e),null)}(l))&&a.push(c),s&&!l&&(r=function(e,t){t=void 0===t?"4.0.0.0":t;var n=L(e.node,A,"pssh");if(!n)return m.z("Missing <cenc:pssh/> node in ContentProtection element",e),null;if(e=m.ii(n.textContent),(n=new m.On(new DataView(e.buffer),!1)).skip(12),n.skip(16),n.skip(4),e=m.Ns(n),m.Os(n),8===e&&n.skip(2),18!==m.Ns(n))m.z("Unable to parse WV PSSH Data. KeyIdType does not match!"),e=null;else if(16!==(e=m.Ns(n)))m.z("Unable to parse WV PSSH Data. KeyID length is "+e),e=null;else{for(var r=new Uint8Array(e),i=0;i<e;i++)r[i]=m.Ns(n);e=r,e=m.ki(e),e=m.tt(e)}return e?(t=m.xt(t,e.a),{keyId:null,rb:M,node:document.createElement("null"),init:[{initData:m.qt(t),initDataType:m.jc,keyId:null}]}):(m.z("Unable to parse WV PSSH data. Can not create PR data!"),null)}(s,r||void 0))&&a.push(r),r=new Set(a.map((function(e){return e.keyId}))),r.delete(null),1<r.size)throw new m.H(m.G,4,4010);if(t||(u=a.filter((function(e){return"urn:mpeg:dash:mp4protection:2011"!=e.rb||(o=e.init||o,!1)})),u.length&&(0==(e=me(o,u,n)).length&&(e=[m.ft(m.qd,o,n)]))),a.length&&(t||!u.length)){e=[];var f,d=(0,v.Z)(ze.values());try{for(d.s();!(f=d.n()).done;){var h=f.value;h!=m.Bd&&e.push(m.ft(h,o,n))}}catch(k){d.e(k)}finally{d.f()}}if(t=Array.from(r)[0]||null){var p,g=(0,v.Z)(e);try{for(g.s();!(p=g.n()).done;){var y,b=p.value,w=(0,v.Z)(b.initData);try{for(w.s();!(y=w.n()).done;){y.value.keyId=t}}catch(k){w.e(k)}finally{w.f()}}}catch(k){g.e(k)}finally{g.f()}}return{ae:t,Sf:o,drmInfos:e,de:!0}},ge=function(e){var t,n=[],r=(0,v.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;(e=ye(i))&&n.push(e)}}catch(a){r.e(a)}finally{r.f()}return n},me=function(e,t,n){var r,i=[],a=(0,v.Z)(t);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=ze.get(o.rb);u&&(t=m.ft(u,o.init||e,n),(u=Ge.get(u))&&(t.licenseServerUri=u(o)),i.push(t))}}catch(s){a.e(s)}finally{a.f()}return i},ye=function(e){var t=e.getAttribute(E),n=O(e,A,"default_KID"),r=_(e,A,"pssh").map(m.nt);if(!t)return m.uf("Missing required schemeIdUri attribute on","ContentProtection element",e),null;if(t=t.toLowerCase(),n&&(n=n.replace(/-/g,"").toLowerCase()).includes(" "))throw new m.H(m.G,4,4009);var i=[];try{i=r.map((function(e){return{initDataType:m.jc,initData:m.ii(e),keyId:null}}))}catch(a){throw new m.H(m.G,4,4007)}return{node:e,rb:t,keyId:n,init:0<i.length?i:null}},be=function(e,t){return m.Ut(m.Ig(e,t))?m.r:e.split("/")[0]},we=function(e){m.v((0,p.Z)().mark((function t(){var n;return(0,p.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.f.debug(m.As),n=0,t.prev=2,t.next=5,ke(e);case 5:n=t.sent,t.next=12;break;case 8:if(t.prev=8,t.t0=t.catch(2),!e.a||!t.t0.a||(e.a.onError(t.t0),t.t0.severity!==m.G)){t.next=12;break}return t.abrupt("return");case 12:e.a&&Te(e,n);case 13:case"end":return t.stop()}}),t,null,[[2,8]])})))},ke=function(e){return m.v((0,p.Z)().mark((function t(){var n,r;return(0,p.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=m.wg(e.j,e.g.attemptParameters)).type=1,r=Date.now(),n=e.a.networkingEngine.fetch(n),m.ch(e.m,n),t.next=7,n.O;case 7:if(n=t.sent,e.a){t.next=10;break}return t.abrupt("return",0);case 10:return n.uri&&!e.j.includes(n.uri)&&e.j.unshift(n.uri),t.next=13,Se(e,n.data,n.uri);case 13:return r=(Date.now()-r)/1e3,m.Bt(e.F,1,r),t.abrupt("return",r);case 16:case"end":return t.stop()}}),t)})))},Te=function(e,t){0>e.A||e.w.$(Math.max(3,e.A-t,m.Ct(e.F)))},Se=function(e,t,n){return m.v((0,p.Z)().mark((function r(){var i;return(0,p.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=V(t,"MPD")){r.next=3;break}throw new m.H(m.G,4,4001,n);case 3:return i=$(i,e.g.attemptParameters,e.g.xlinkFailGracefully,n,e.a.networkingEngine),m.ch(e.m,i),r.next=7,i.O;case 7:return i=r.sent,r.abrupt("return",Ee(e,i,n));case 9:case"end":return r.stop()}}),r)})))},Ee=function(e,t,n){return m.v((0,p.Z)().mark((function r(){var i,a,o,u,s,l,c,f,d,h,v,g,y,w,k,T,S;return(0,p.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i=[n],0<(a=m.lt(t,"Location").map(m.nt).filter(m.ek)).length&&(i=m.et(i,a),e.j=i),a=m.lt(t,"BaseURL").map(m.nt),i=m.et(i,a),a=Z(t,"minBufferTime",U,0),e.A=Z(t,"minimumUpdatePeriod",U,-1),o=Z(t,"availabilityStartTime",j),u=Z(t,"timeShiftBufferDepth",U),s=Z(t,"suggestedPresentationDelay",U),l=Z(t,"maxSegmentDuration",U),"dynamic"===(c=t.getAttribute("type")||x)&&(e.B=c,e.H=o),(f=c===x&&"dynamic"===e.B)&&(e.f.info("MPD dynamic to static transition."),c=e.B,o=e.H),o=e.h?e.h.presentationTimeline:new m.dy(o,null!=s?s:3*a,!!e.g.autoCorrectDrift),s={gc:c!=x,Ub:f,presentationTimeline:o,sa:null,da:null,oa:null,P:null,bandwidth:0,md:!1},d=Z(t,"mediaPresentationDuration",U),h=[],v=0,g=m.lt(t,"Period"),y=0;case 19:if(!(y<g.length)){r.next=40;break}if(w=g[y],v=Z(w,m.ae,U,v),k=Z(w,b,U),T=null,y!=g.length-1?null!=(S=Z(g[y+1],m.ae,U))&&(T=S-v):null!=d&&(T=d-v),S=m.ao,T&&k&&Math.abs(T-k)>S&&e.f.warn("There is a gap/overlap between Periods",w),null==T&&(T=k),w=Ie(e,s,i,{start:v,duration:T,node:w,nd:null==T||y==g.length-1}),h.push(w),k=s.sa.id,e.C.includes(k)||(e.C.push(k),e.h&&(e.a.filterNewPeriod(w),e.h.periods.push(w))),null!=T){r.next=36;break}return y!=g.length-1&&e.f.warn("Skipping Period",y+1,"and any subsequent Periods:","Period",y+1,"does not have a valid start time.",h[y+1]),v=null,r.abrupt("break",40);case 36:v+=T;case 37:y++,r.next=19;break;case 40:if(null==e.h&&e.a.filterAllPeriods(h),null!=d?(v!=d&&e.f.warn("@mediaPresentationDuration does not match the total duration of ","all Periods."),s={periods:h,duration:d,be:!1}):s={periods:h,duration:v,be:!0},d=s.duration,h=s.periods,o.f=c==x,f&&!o.Ub()&&e.a.onEvent(new m.F(m.nd)),o.B=f,c!=x&&(f||s.be)||o.Hb(d||1/0),o.isLive()&&e.g.availabilityWindowOverride&&!isNaN(e.g.availabilityWindowOverride)&&(u=e.g.availabilityWindowOverride),null==u&&(u=1/0),o.Xb=u,m.Gt(o,l||1),o.isLive(),r.t0=e.h,r.t0){r.next=63;break}if(e.h={presentationTimeline:o,periods:h,offlineSessionIds:[],minBufferTime:a||0},r.t1=null!=o.m&&null==o.g,!r.t1){r.next=63;break}return a=m.lt(t,"UTCTiming"),r.next=61,xe(e,i,a);case 61:i=r.sent,e.a&&(o.w=i);case 63:case"end":return r.stop()}}),r)})))},xe=function(e,t,n){n=n.map((function(e){return{scheme:e.getAttribute(E),value:e.getAttribute(m.ve)}}));var r=e.g.clockSyncUri;return!n.length&&r&&n.push({scheme:P,value:r}),function(e,t){return e.reduce(function(e,t,n){return t.catch(e.bind(null,n))}.bind(null,t),Promise.reject())}(n,(function(n){var r=n.scheme;switch(n=n.value,r){case P:case"urn:mpeg:dash:utc:http-head:2012":return Oe(e,t,n,"HEAD");case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return Oe(e,t,n,"GET");case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return r=Date.parse(n),Promise.resolve(isNaN(r)?0:r-Date.now());case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":return e.f.warn("NTP UTCTiming scheme is not supported"),Promise.reject();default:return e.f.warn("Unrecognized scheme in UTCTiming element",r),Promise.reject()}})).catch((function(){return e.f.warn("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),0}))},Ie=function(e,t,n,r){t.sa=Ce(e,r.node,null,n),t.da=r,t.sa.id||(e.f.info("No Period ID given for Period with start time "+r.start+",  Assigning a default"),t.sa.id="__clpp_period_"+r.start),n=m.lt(r.node,"EventStream");var i,a=(0,v.Z)(n);try{for(a.s();!(i=a.n()).done;){var o=i.value;Ae(e,r.start,r.duration,o)}}catch(Z){a.e(Z)}finally{a.f()}if(o=m.lt(r.node,m.ea).map((function(n){return Pe(e,t,n)})).filter(m.ek),t.gc){n=[];var u,s=(0,v.Z)(o);try{for(s.s();!(u=s.n()).done;){var l,c=u.value,f=(0,v.Z)(c.wf);try{for(f.s();!(l=f.n()).done;){var d=l.value;n.push(d)}}catch(Z){f.e(Z)}finally{f.f()}}}catch(Z){s.e(Z)}finally{s.f()}if(n.length!=new Set(n).size)throw new m.H(m.G,4,4018)}c=o.filter((function(e){return!e.Qd})),d=o.filter((function(e){return e.Qd}));var p,g=(0,v.Z)(d);try{for(g.s();!(p=g.n()).done;){var y=p.value;d=y.streams[0],o=y.Qd;var b,w=(0,v.Z)(c);try{for(w.s();!(b=w.n()).done;){var k=b.value;if(k.id==o){var T,S=(0,v.Z)(k.streams);try{for(S.s();!(T=S.n()).done;){var E=T.value;E.trickModeVideo=d}}catch(Z){S.e(Z)}finally{S.f()}}}}catch(Z){w.e(Z)}finally{w.f()}}}catch(Z){g.e(Z)}finally{g.f()}if(k=Me(c,m.u),E=Me(c,m.Rb),!k.length&&!E.length)throw new m.H(m.G,4,4004);E.length||(E=[null]),k.length||(k=[null]),y=[];var x,I=(0,v.Z)(E);try{for(I.s();!(x=I.n()).done;){var C,A=x.value,P=(0,v.Z)(k);try{for(P.s();!(C=P.n()).done;){var M=C.value;Ne(e,A,M,y)}}catch(Z){P.e(Z)}finally{P.f()}}}catch(Z){I.e(Z)}finally{I.f()}M=[].concat((0,h.Z)(Me(c,m.r)),(0,h.Z)(Me(c,m.Ks))),A=[];var N,R=(0,v.Z)(M);try{for(R.s();!(N=R.n()).done;){var D=N.value;A.push.apply(A,D.streams)}}catch(Z){R.e(Z)}finally{R.f()}D=Me(c,m.Tc),M=[];var _,L=(0,v.Z)(D);try{for(L.s();!(_=L.n()).done;){var O=_.value;M.push.apply(M,O.streams)}}catch(Z){L.e(Z)}finally{L.f()}return{startTime:r.start,textStreams:A,thumbStreams:M,variants:y}},Ce=function(e,t,n,r){n=n||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,wd:null},r=r||n.Ha;var i,a=m.lt(t,"BaseURL").map(m.nt),o=t.getAttribute("contentType")||n.contentType,u=t.getAttribute(m.jd)||n.mimeType,s=t.getAttribute(m.tc)||n.codecs,l=Z(t,"frameRate",B)||n.frameRate,c=m.lt(t,"InbandEventStream"),f=n.emsgSchemeIdUris.slice(),d=(0,v.Z)(c);try{for(d.s();!(i=d.n()).done;){var h=i.value;c=h.getAttribute(E),f.includes(c)||f.push(c)}}catch(p){d.e(p)}finally{d.f()}return h=m.lt(t,"AudioChannelConfiguration"),e=Le(e,h)||n.wd,o||(o=be(u,s)),{Ha:m.et(r,a),zc:m.mt(t,"SegmentBase")||n.zc,Gb:m.mt(t,"SegmentList")||n.Gb,Yb:m.mt(t,"SegmentTemplate")||n.Yb,width:Z(t,m.Oe,G)||n.width,height:Z(t,m.Rc,G)||n.height,contentType:o,mimeType:u,codecs:s,frameRate:l,emsgSchemeIdUris:f,id:t.getAttribute("id"),wd:e}},Ae=function(e,t,n,r){var i,a=r.getAttribute(E)||"",o=r.getAttribute(m.ve)||"",u=Z(r,I,G)||1,s=(0,v.Z)(m.lt(r,"Event"));try{var l=function(){var s=i.value;r=Z(s,"presentationTime",G)||0,c=Z(s,b,G)||0,c=(r=r/u+t)+c/u,null!=n&&(r=Math.min(r,t+n),c=Math.min(c,t+n));var l=m.Ff;a.startsWith(m.re)?l=m.Hf:"urn:mpeg:dash:event:callback:2015"===a&&(l=m.od);var f={schemeIdUri:a,value:o,startTime:r,endTime:c,id:s.getAttribute("id")||"",type:l,eventElement:s};f.type===m.od&&(f.Oc=function(){if(f.eventElement){var t=f.eventElement.getAttribute("messageData")||"";t&&t.startsWith("http")&&((t=m.wg(t)).type=m.vg,e.a.networkingEngine.fetch(t))}}),e.a.onTimelineCueAdded(f)};for(s.s();!(i=s.n()).done;){var c;l()}}catch(f){s.e(f)}finally{s.f()}},Pe=function(e,t,i){t.oa=Ce(e,i,t.sa,null);var a=!1,o=m.lt(i,"Role"),u=o.map((function(e){return e.getAttribute(m.ve)})).filter(m.ek),s=null,l=m.lt(i,"Label").map((function(e){return e.textContent})).filter(m.ek);l&&0<l.length&&(s=l[l.length-1]);var c=void 0;(l=t.oa.contentType==m.r)&&(c=m.Ks);var f,d=(0,v.Z)(o);try{for(d.s();!(f=d.n()).done;){var h=f.value;if(null==(o=h.getAttribute(E))||"urn:mpeg:dash:role:2011"===o||"urn:mpeg:dash:role"===o)switch(o=h.getAttribute(m.ve),o){case"main":a=!0;break;case"caption":case m.Ks:c=o}}}catch(H){d.e(H)}finally{d.f()}var p=m.lt(i,r);h=null,o=!1;var g,b=(0,v.Z)(p);try{for(b.s();!(g=b.n()).done;){var w=g.value;"http://dashif.org/guidelines/trickmode"==w.getAttribute(E)?h=w.getAttribute(m.ve):o=!0}}catch(H){b.e(H)}finally{b.f()}w=m.lt(i,"Accessibility");var k,T=new Map,S=(0,v.Z)(w);try{for(S.s();!(k=S.n()).done;){var x=k.value;if("urn:scte:dash:cc:cea-608:2015"==(w=x.getAttribute(E))||"urn:scte:dash:cc:cea-708:2015"==w)if(w=1,null!=(p=x.getAttribute(m.ve))){var I,C=(0,v.Z)(p.split(";"));try{for(C.s();!(I=C.n()).done;){var A=I.value;if(A.includes("=")){var P=A.split("=");p=P[0].startsWith("CC")?P[0]:"CC"+P[0],P=P[1].split(",")[0].split(":").pop()}else p="CC"+w,w+=2,P=A;T.set(p,m.Gg(P))}}catch(H){C.e(H)}finally{C.f()}}else T.set("CC1",m.pe)}}catch(H){S.e(H)}finally{S.f()}if(o)return null;x=m.lt(i,n);var M=ve(x,e.g.ignoreDrmInfo,t.sa.id,e.g.playreadyVersion||null),N=m.Gg(i.getAttribute("lang")||m.pe);if(null==s&&(s=i.getAttribute("label")),i=(x=m.lt(i,m.Va)).map((function(n){return Re(e,t,M,c,N,s,a,u,T,n)})).filter((function(e){return!!e})),0==i.length){if(l)return null;throw new m.H(m.G,4,4003)}if(!t.oa.contentType||t.oa.contentType==y){t.oa.contentType=be(i[0].mimeType,i[0].codecs);var R,D=(0,v.Z)(i);try{for(D.s();!(R=D.n()).done;){var _=R.value;_.type=t.oa.contentType}}catch(H){D.e(H)}finally{D.f()}}var L,O=(0,v.Z)(i);try{for(O.s();!(L=O.n()).done;){var Z,j=L.value,U=(0,v.Z)(M.drmInfos);try{for(U.s();!(Z=U.n()).done;){var F=Z.value;j.keyId&&F.keyIds.push(j.keyId)}}catch(H){U.e(H)}finally{U.f()}}}catch(H){O.e(H)}finally{O.f()}return _=x.map((function(e){return e.getAttribute("id")})).filter(m.ek),{id:t.oa.id||"__fake__"+e.o++,contentType:t.oa.contentType,language:N,sd:a,streams:i,drmInfos:M.drmInfos,Qd:h,wf:_}},Me=function(e,t){return e.filter((function(e){return e.contentType==t}))},Ne=function(e,t,n,r){if(t||n)if(t&&n){var i=t.drmInfos,a=n.drmInfos;if(!i.length||!a.length||0<m.bt(i,a).length){a=m.bt(t.drmInfos,n.drmInfos);var o,u=(0,v.Z)(t.streams);try{for(u.s();!(o=u.n()).done;){var s,l=o.value,c=(0,v.Z)(n.streams);try{for(c.s();!(s=c.n()).done;){var f=s.value;i=(f.bandwidth||0)+(l.bandwidth||0),i={id:e.o++,language:t.language,primary:t.sd||n.sd,audio:l,video:f,bandwidth:i,drmInfos:a,allowedByApplication:!0,allowedByKeySystem:!0},r.push(i)}}catch(p){c.e(p)}finally{c.f()}}}catch(p){u.e(p)}finally{u.f()}}}else{l=t||n;var d,h=(0,v.Z)(l.streams);try{for(h.s();!(d=h.n()).done;)i=(a=d.value).bandwidth||0,i={id:e.o++,language:l.language||m.pe,primary:l.sd,audio:t?a:null,video:n?a:null,bandwidth:i,drmInfos:l.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0},r.push(i)}catch(p){h.e(p)}finally{h.f()}}},Re=function(e,t,i,s,l,c,f,d,h,p){if(t.P=Ce(e,p,t.oa,null),!De(e,t.P))return e.f.warn("Skipping Representation",t.P),null;var v;t.bandwidth=Z(p,"bandwidth",z)||0;var g=t.P.contentType,w=g==m.r||g==y,k=g==m.Tc;try{if(g=function(t,n,r){return _e(e,t,n,r)},t.P.zc)v=function(e,t){var n=Number(q(e,ae,S))||0,r=q(e,ae,I),i=1;if(r&&(i=z(r)||1),r=n/i||0,n=ie(e,ae),i=e.P.mimeType.split("/")[1],e.P.contentType!=m.r&&i!=m.md&&"webm"!=i)throw m.uf("SegmentBase specifies an unsupported container type.",e.P),new m.H(m.G,4,4006);if("webm"==i&&!n)throw m.uf(a,"the SegmentBase uses a WebM container,","but does not contain an Initialization element.",e.P),new m.H(m.G,4,4005);var o=Y(e,ae,"RepresentationIndex"),u=q(e,ae,"indexRange"),s=e.P.Ha;if(u=F(u||""),o){var l=o.getAttribute("sourceURL");l&&(s=m.et(e.P.Ha,[l])),u=Z(o,"range",F,u)}if(!u)throw m.uf(a,"the SegmentBase does not contain @indexRange","or a RepresentationIndex element.",e.P),new m.H(m.G,4,4002);return{createSegmentIndex:(e=oe(e,t,n,s,u.start,u.end,i,r)).createSegmentIndex,findSegmentPosition:e.findSegmentPosition,getSegmentReference:e.getSegmentReference,adjustSegmentDurations:e.adjustSegmentDurations,getDuration:e.getDuration,initSegmentReference:n}}(t,g);else if(t.P.Gb)v=function(e,t){var n=ie(e,fe),r=he(e),i=K(e,fe),a=i.Zb;0==a&&(m.z("SegmentList@startNumber must be > 0"),a=1);var u=0;if(i.pa?u=i.pa*(a-1):i.timeline&&0<i.timeline.length&&(u=i.timeline[0].start),!(a={pa:i.pa,startTime:u,Zb:a,Fb:i.Fb,timeline:i.timeline,Vb:r}).pa&&!a.timeline&&1<a.Vb.length)throw m.z(o,"the SegmentList specifies multiple segments,","but does not specify a segment duration or timeline.",e.P),new m.H(m.G,4,4002);if(!a.pa&&!e.da.duration&&!a.timeline&&1==a.Vb.length)throw m.z(o,"the SegmentList specifies one segment,","but does not specify a segment duration, period duration,","or timeline.",e.P),new m.H(m.G,4,4002);if(a.timeline&&0==a.timeline.length)throw m.z(o,"the SegmentList has an empty timeline.",e.P),new m.H(m.G,4,4002);return i=r=null,e.sa.id&&e.P.id&&(r=t[i=e.sa.id+","+e.P.id]),a=de(e.da.duration,a.Zb,e.P.Ha,a),r?(m.Nt(r,a),t=m.It(e.presentationTimeline),m.Ot(r,t-e.da.start)):(m.Ft(e.presentationTimeline,a,e.da.start),r=new m.ey(a),i&&e.gc&&(t[i]=r)),e.gc&&e.da.nd||m.Pt(r,e.da.duration),{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:r.h.bind(r),getSegmentReference:r.get.bind(r),adjustSegmentDurations:r.f.bind(r),getDuration:r.getDuration.bind(r),initSegmentReference:n}}(t,e.D);else if(t.P.Yb)v=function(e,t,n,r){var i=ue(e),a=K(e,ce),o=q(e,ce,"media"),s=q(e,ce,"index");if(o=(a={pa:a.pa,timescale:a.timescale,Zb:a.Zb,cd:a.cd,Fb:a.Fb,Rd:a.Rd,timeline:a.timeline,td:o,tc:s,Wc:a.Wc}).tc?1:0,o+=a.timeline?1:0,0==(o+=a.pa?1:0))throw m.uf("SegmentTemplate does not contain any segment information:","the SegmentTemplate must contain either an index URL template","a SegmentTimeline, or a segment duration.",e.P),new m.H(m.G,4,4002);if(1!=o&&(m.z("SegmentTemplate contains multiple segment information sources:","the SegmentTemplate should only contain an index URL template,","a SegmentTimeline or a segment duration.",e.P),a.tc?(m.tf("Using the index URL template by default."),a.timeline=null):m.tf("Using the SegmentTimeline by default."),a.pa=null),!a.tc&&!a.td)throw m.uf(u,"the SegmentTemplate's media URL template is missing.",e.P),new m.H(m.G,4,4002);if(a.tc){if((n=e.P.mimeType.split("/")[1])!=m.md&&"webm"!=n)throw m.uf("SegmentTemplate specifies an unsupported container type.",e.P),new m.H(m.G,4,4006);if("webm"==n&&!i)throw m.uf(u,"the SegmentTemplate uses a WebM container,","but does not contain an initialization URL template.",e.P),new m.H(m.G,4,4005);r=W(a.tc,e.P.id,null,e.bandwidth||null,null),r=m.et(e.P.Ha,[r]),e=oe(e,t,i,r,0,null,n,a.Fb)}else a.pa?(r||((n=e.presentationTimeline).o=Math.max(n.o,a.Wc),n.A.debug("notifyAvailabilityTimeOffset: maxAvailabilityTimeOffset="+n.o),m.Gt(e.presentationTimeline,a.pa),m.Et(e.presentationTimeline,e.da.start)),e=se(e,a)):(r=t=null,e.sa.id&&e.P.id&&(t=n[r=e.sa.id+","+e.P.id]),o=le(e,a),a=!e.gc||!e.da.nd,t?(a&&m.Pt(new m.ey(o),e.da.duration),m.Nt(t,o),n=m.It(e.presentationTimeline),m.Ot(t,n-e.da.start)):(m.Ft(e.presentationTimeline,o,e.da.start),t=new m.ey(o),r&&e.gc&&(n[r]=t)),a&&m.Pt(t,e.da.duration),e={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:t.h.bind(t),getSegmentReference:t.get.bind(t),adjustSegmentDurations:t.f.bind(t),getDuration:t.getDuration.bind(t)});return{createSegmentIndex:e.createSegmentIndex,findSegmentPosition:e.findSegmentPosition,getSegmentReference:e.getSegmentReference,adjustSegmentDurations:e.adjustSegmentDurations,getDuration:e.getDuration,initSegmentReference:i}}(t,g,e.D,!!e.h);else{var T=t.P.Ha,x=t.da.duration||0;v={createSegmentIndex:function(){return Promise.resolve()},findSegmentPosition:function(e){return 0<=e&&e<x?1:null},getSegmentReference:function(e){return 1!=e?null:new m.Mt(1,0,x,(function(){return T}),0,null,0)},adjustSegmentDurations:function(){},getDuration:function(){return x},initSegmentReference:null}}}catch(T){if(w&&4002==T.code)return null;throw T}return w=function(e,t,n,r,i){var a=ve(e,n,r,i);if(t.de)e=1==t.drmInfos.length&&!t.drmInfos[0].keySystem,n=0==a.drmInfos.length,(0==t.drmInfos.length||e&&!n)&&(t.drmInfos=a.drmInfos),t.de=!1;else if(0<a.drmInfos.length&&(t.drmInfos=t.drmInfos.filter((function(e){return a.drmInfos.some((function(t){return t.keySystem==e.keySystem}))})),0==t.drmInfos.length))throw new m.H(m.G,4,4008);return a.ae||t.ae}(w=m.lt(p,n),i,e.g.ignoreDrmInfo,t.sa.id,e.g.playreadyVersion||null),g=void 0,k&&(k=(k=(p=m.mt(p,r))&&p.getAttribute(E))||"",Ze.includes(k)&&(p=(p=p.getAttribute(m.ve))&&p.split("x").map((function(e){return parseInt(e,10)})))&&2==p.length&&(v.horizontalTiles=p[0],v.verticalTiles=p[1],t.oa.Yb&&(p=v.horizontalTiles*v.verticalTiles,g=(g=Z(t.oa.Yb,b,G)||0)?g/p:void 0))),{id:e.o++,originalId:t.P.id,createSegmentIndex:v.createSegmentIndex,findSegmentPosition:v.findSegmentPosition,getSegmentReference:v.getSegmentReference,initSegmentReference:v.initSegmentReference,adjustSegmentDurations:v.adjustSegmentDurations,getDuration:v.getDuration,mimeType:t.P.mimeType,codecs:t.P.codecs,frameRate:t.P.frameRate,bandwidth:t.bandwidth,width:t.P.width,height:t.P.height,kind:s,encrypted:0<i.drmInfos.length,keyId:w,language:l,label:c,type:t.oa.contentType,primary:f,trickModeVideo:null,emsgSchemeIdUris:t.P.emsgSchemeIdUris,roles:d,channelsCount:t.P.wd,closedCaptions:h,horizontalTiles:v.horizontalTiles,verticalTiles:v.verticalTiles,durationPerTile:g}},De=function(e,t){var n;return n=t.zc?1:0,n+=t.Gb?1:0,0==(n+=t.Yb?1:0)?t.contentType==m.r||t.contentType==y||(e.f.warn("Representation does not contain a segment information source:","the Representation must contain one of SegmentBase, SegmentList,",'SegmentTemplate, or explicitly indicate that it is "text".',t),!1):(1!=n&&(e.f.warn("Representation contains multiple segment information sources:","the Representation should only contain one of SegmentBase,","SegmentList, or SegmentTemplate.",t),t.zc?(e.f.info("Using SegmentBase by default."),t.Gb=null):e.f.info("Using SegmentList by default."),t.Yb=null),!0)},_e=function(e,t,n,r){return m.v((0,p.Z)().mark((function i(){var a;return(0,p.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return(a=m.Dt(t,n,r,e.g.attemptParameters)).type=2,a=e.a.networkingEngine.fetch(a),m.ch(e.m,a),i.next=6,a.O;case 6:return i.abrupt("return",i.sent.data);case 7:case"end":return i.stop()}}),i)})))},Le=function(e,n){var r,i=(0,v.Z)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(n=a.getAttribute(E)){var o=a.getAttribute(m.ve);if(o)switch(n){case"urn:mpeg:dash:outputChannelPositionList:2012":return o.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":var u=parseInt(o,10);if(!u){e.f.warn(t,n,o);continue}return u;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(!(u=parseInt(o,16))){e.f.warn(t,n,o);continue}for(e=0;u;)1&u&&++e,u>>=1;return e;default:e.f.warn("Unrecognized audio channel scheme:",n,o)}}}}catch(s){i.e(s)}finally{i.f()}return null},Oe=function(e,t,n,r){return m.v((0,p.Z)().mark((function i(){var a;return(0,p.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return a=m.et(t,[n]),(a=m.wg(a,e.g.attemptParameters)).type=5,a.method=r,a=e.a.networkingEngine.fetch(a),m.ch(e.m,a),i.next=8,a.O;case 8:if(a=i.sent,"HEAD"!=r){i.next=15;break}if(a.headers&&a.headers.date){i.next=12;break}return i.abrupt("return",(e.f.warn("UTC timing response is missing","expected date header"),0));case 12:a=a.headers.date,i.next=16;break;case 15:a=m.gg(a.data);case 16:return a=Date.parse(a),i.abrupt("return",isNaN(a)?(e.f.warn("Unable to parse date from UTC timing response"),0):a-Date.now());case 18:case"end":return i.stop()}}),i)})))},Ze=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"],je=(0,d.Z)((function e(t){(0,f.Z)(this,e),this.f=t,this.a=new m.On(t,!1)})),Ue=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]],Fe=(0,d.Z)((function e(t,n){(0,f.Z)(this,e),this.id=t,this.a=n})),He=function(){function e(){(0,f.Z)(this,e)}return(0,d.Z)(e,[{key:"parse",value:function(e,t,n,r){var i;if(t=new je(new DataView(t)),440786851!=te(t).id)throw m.uf("Not an EBML element."),new m.H(m.G,3,3008);var a=te(t);if(408125543!=a.id)throw m.uf("Not a Segment element."),new m.H(m.G,3,3009);for(t=a.a.byteOffset,a=new je(a.a),i=null;m.zi(a.a);){var o=te(a);if(357149030==o.id){i=o;break}}if(!i)throw m.uf("Not an Info element."),new m.H(m.G,3,3010);for(i=new je(i.a),o=1e6,a=null;m.zi(i.a);){var u=te(i);if(2807729==u.id)o=ne(u);else if(17545==u.id)if(4==(a=u).a.byteLength)a=a.a.getFloat32(0);else{if(8!=a.a.byteLength)throw new m.H(m.G,3,3003);a=a.a.getFloat64(0)}}if(null==a)throw new m.H(m.G,3,3011);if(i=o/=1e9,a*=o,475249515!=(e=te(new je(new DataView(e)))).id)throw m.uf("Not a Cues element."),new m.H(m.G,3,3007);return function(e,t,n,r,i,a){var o=[],u=function(){return i};e=new je(e.a);for(var s=null,l=null;m.zi(e.a);){var c=te(e);if(187==c.id){var f=re(c);f&&(c=n*f.Ef,f=t+f.tf,null!=s&&o.push(new m.Mt(o.length,s-a,c-a,u,l,f-1,a)),s=c,l=f)}}return null!=s&&o.push(new m.Mt(o.length,s-a,r-a,u,l,null,a)),o}(e,t,i,a,n,r)}}]),e}(),ze=(new Map).set("urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",m.Bd).set(N,m.yc).set(M,m.xc).set("urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95",m.xc).set("urn:uuid:94ce86fb-07ff-4f43-adb8-93d2fa968ca2",m.wc).set("urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb",m.vc),Ge=(new Map).set(m.yc,(function(e){return(e=L(e.node,"urn:microsoft","laurl"))&&e.getAttribute("licenseUrl")||""})).set(m.xc,(function(e){return(e=L(e.node,C,"pro"))?(e=m.ii(e.textContent),m.zt(e).g||""):""})),Be=function(){function e(){var t=this;(0,f.Z)(this,e),this.a=this.g=null,this.j=[],this.h=null,this.C=[],this.o=1,this.D={},this.A=0,this.F=new m.by(5),this.w=new m.rh((function(){we(t)})),this.m=new m.An,this.f=new m.O("clpp.dash.DashParser"),this.H=this.B=null}return(0,d.Z)(e,[{key:"configure",value:function(e){this.g=e}},{key:"start",value:function(e,t){var n=this;return m.v((0,p.Z)().mark((function r(){var i;return(0,p.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n.j=[e],n.a=t,r.next=4,ke(n);case 4:if(i=r.sent,n.a&&Te(n,i),n.a){r.next=8;break}throw new m.H(m.G,7,7001);case 8:return r.abrupt("return",n.h);case 9:case"end":return r.stop()}}),r)})))}},{key:"stop",value:function(){return this.g=this.a=null,this.j=[],this.h=null,this.C=[],this.D={},null!=this.w&&(this.w.stop(),this.w=null),this.m.destroy()}},{key:"update",value:function(){var e=this;ke(this).catch((function(t){e.a&&t&&e.a.onError(t)}))}},{key:"onExpirationUpdated",value:function(){}}]),e}();m.x("clpp.dash.DashComponent",function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){return(0,f.Z)(this,n),t.call(this)}return(0,d.Z)(n,[{key:"f",value:function(){m.tm.mpd=Be,m.rm[m.Ib]=Be}},{key:"a",value:function(){m.St("mpd"),m.Tt(m.Ib)}},{key:"g",value:function(){}},{key:"release",value:function(){}},{key:"id",value:function(){return"dash"}}]),n}(m.ro))}).call({},window);var y=a.clpp._;(function(e){var n="BANDWIDTH",r="CLOSED-CAPTIONS",i="EXT-X-BYTERANGE",a="EXT-X-DISCONTINUITY",o="EXT-X-DISCONTINUITY-SEQUENCE",u="EXT-X-ENDLIST",s="EXT-X-MEDIA-SEQUENCE",h="EXT-X-PLAYLIST-TYPE",g="EXT-X-STREAM-INF",m="EXT-X-TARGETDURATION",b="GROUP-ID",w="Guessing audio-only",k="SAMPLE-AES-CTR",T="SUBTITLES",S="URI",E="application/vnd.apple.mpegurl",x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&255>e[t+3]&&255>e[t+4]&&128>e[t+6]&&128>e[t+7]&&128>e[t+8]&&128>e[t+9]},I=function(e,t,n){return(e=e.getAttribute(t))?e.value:n||null},C=function(e,t){if(!(e=e.getAttribute(t)))throw new y.H(y.G,4,4023,t);return e.value},A=function(e,t){return e.filter((function(e){return e.name==t}))},P=function(e,t){return e.filter((function(e){return C(e,"TYPE")===t}))},M=function(e,t){return(e=A(e,t)).length?e[0]:null},N=function(e,t){return y.et([e],[t])[0]},R=function(e,t){var n;e=e.a++;var r=t.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!r)throw new y.H(y.G,4,4016,{invalidTag:t});t=r[1];var i=r[2];if(r=[],i){var a;i=new y.Ho(i),(a=y.nm(i,/^([^,=]+)(?:,|$)/g))&&(n=a[1]);for(var o=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;a=y.nm(i,o);)r.push(new be(a[1],a[2]||a[3]))}return new ye(e,t,r,n)},D=function(e,t,n,r){var i=[],a=[];return n.forEach((function(n){/^(#EXT)/.test(n)?(n=R(e,n),Te.includes(n.name)?r.push(n):a.push(n)):/^#(?!EXT)/m.test(n)||(n=N(t,n.trim()),i.push(new we(n,a)),a=[])})),i},_=function(e,t,n){var r=(t=(t=y.gg(t)).replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim()).split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(r[0]))throw new y.H(y.G,4,4015);t=0;var i,a=!0,o=(0,v.Z)(r);try{for(o.s();!(i=o.n()).done;){var u=i.value;if(!(u=u.trim()).length||/^#(?!EXT)/m.test(u)||a)a=!1;else{var s=R(e,u);if(--e.a,Te.includes(s.name)){t=1;break}s.name==g&&(a=!0)}}}catch(b){o.e(b)}finally{o.f()}u=[],a=!0;var l,c=(0,v.Z)(y.Ss(r));try{for(c.s();!(l=c.n()).done;){var f=l.value,d=f,h=d.ld,p=d.item,m=d.next;if(!(p=p.trim()).length||/^#(?!EXT)/m.test(p)||a)a=!1;else{if(s=R(e,p),Se.includes(s.name)){if(1!=t)throw new y.H(y.G,4,4017);return f=r.splice(h,r.length-h),e=D(e,n,f,u),new me(n,t,u,e)}u.push(s),s.name==g&&(s.a.push(new be(S,m)),a=!0)}}}catch(b){c.e(b)}finally{c.f()}return new me(n,t,u)},L=function(e){y.v((0,p.Z)().mark((function t(){return(0,p.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.a.debug(y.As),!e.j){t.next=11;break}return t.prev=2,t.next=5,e.update();case 5:e.A.$(e.T),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),e.j&&(e.j.onError(t.t0),1===t.t0.severity&&e.A.$(.1));case 11:case"end":return t.stop()}}),t,null,[[2,8]])})))},O=function(e,t){return(t=y.wg([t],e.h.attemptParameters)).type=1,de(e,t)},Z=function(e,t){return y.v((0,p.Z)().mark((function r(){var i,a,o,u,s,l,c,f,d,h,m,b,w,k;return(0,p.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return 1===(i=_(e.K,t,e.B)).type&&(e.D.set(e.B,i),i=new y.dh(i.a[0].a).ma.split(".").pop(),a=Ie.audio[i],o="",Ie.video[i]?o="avc1.42E01E":a&&(o="mp4a.40.2"),i=e.K,a=e.B,o=e.h.hlsDefaultCodecs||o,u=[],(s=[]).push(new be(n,"0")),s.push(new be(S,a)),o.length&&s.push(new be(y.ja,o)),u.push(new ye(i.a++,g,s)),i=new me(a,0,u)),r.next=4,H(e,i.Ga);case 4:if(i=r.sent,e.j){r.next=7;break}throw new y.H(y.G,7,7001);case 7:e.j.filterAllPeriods([i]),o=1/0,a=0,u=1/0,l=(0,v.Z)(e.f.values());try{for(l.s();!(c=l.n()).done;)f=c.value,o=Math.min(o,f.ud),a=Math.max(a,f.ud),f.stream.type!=y.r&&(u=Math.min(u,f.duration))}catch(p){l.e(p)}finally{l.f()}if(e.m!=Ae?(e.g=new y.dy(0,3*e.N,!0),e.g.f=!1):(e.g=new y.dy(null,0,!0),e.g.f=!0),se(e),e.m!=Ae){for(e.T=e.R,e.m===Me&&(f=Math.max(u,e.g.Ed),isNaN(e.h.availabilityWindowOverride)||(f=e.h.availabilityWindowOverride),e.g.Xb=f),f=0;95443.7176888889<=a;)f+=95443.7176888889,a-=95443.7176888889;if(f){e.a.debug("Offsetting live streams by",f,"to compensate for rollover"),d=(0,v.Z)(e.f.values());try{for(d.s();!(h=d.n()).done;)95443.7176888889>(m=h.value).ud?(e.a.debug("Offset applied to",m.stream.type),m.ab.offset(f)):e.a.debug("Offset NOT applied to",m.stream.type)}catch(p){d.e(p)}finally{d.f()}}}else{e.g.Hb(u),e.g.offset(-o),b=(0,v.Z)(e.f.values());try{for(b.s();!(w=b.n()).done;)(k=w.value).ab.offset(-o),y.Pt(k.ab,u)}catch(p){b.e(p)}finally{b.f()}}e.H={presentationTimeline:e.g,periods:[i],offlineSessionIds:[],minBufferTime:0};case 17:case"end":return r.stop()}}),r)})))},j=function(e,t){return y.v((0,p.Z)().mark((function n(){var r,i;return(0,p.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,O(e,t.Le);case 2:if(r=n.sent,1==(r=_(e.K,r.data,r.uri)).type){n.next=6;break}throw new y.H(y.G,4,4017);case 6:return i=t.stream,n.next=9,U(e,t.Tc,r,i.type,i.mimeType,i.codecs,i.keyInfo||null,t.Re);case 9:i=n.sent,t.ab.replace(i),i=i[i.length-1],M(r.Ga,u)&&(F(e,Ae),e.g.Hb(i.endTime));case 13:case"end":return n.stop()}}),n)})))},U=function(e,t,n,r,i,u,l,c){return y.v((0,p.Z)().mark((function f(){var d,h,g,m,b,w,k,T,S,E,x,I,C;return(0,p.Z)().wrap((function(f){for(;;)switch(f.prev=f.next){case 0:if(d=n.a,h=oe(n,l),g=(g=M(n.Ga,s))?Number(g.value):0,f.t0=null===e.L,!f.t0){f.next=8;break}return f.next=7,ce(e,t,h,d[0],g,l,i,u,r);case 7:e.L=f.sent;case 8:if(m=e.L,e.a.debug("First segment",d[0].a.split("/").pop(),"starts at",m),b=M(n.Ga,o),w=b?Number(b.value):0,c.has(w)||c.set(w,g),!b)for(;c.has(w+1)&&c.get(w+1)<g;)w++;b=e.I.get(w)||0,k=[],T=(0,v.Z)(y.Ss(d)),f.prev=17,T.s();case 19:if((S=T.n()).done){f.next=36;break}if(E=S.value,x=E.ld,d=E.item,I=k[k.length-1],C=0==x?m:I.endTime,x=g+x,f.t1=M(d.Ga,a),!f.t1){f.next=32;break}return w++,c.set(w,x),f.next=31,fe(e,w,t,h,d,x,l,i,u,C,r);case 31:b=f.sent;case 32:d=le(I,d,x,C,b,l,r),k.push(d);case 34:f.next=19;break;case 36:f.next=41;break;case 38:f.prev=38,f.t2=f.catch(17),T.e(f.t2);case 41:return f.prev=41,T.f(),f.finish(41);case 44:return e.S.push(k),se(e),f.abrupt("return",k);case 47:case"end":return f.stop()}}),f,null,[[17,38,41,44]])})))},F=function(e,t){e.m=t,e.g&&(e.g.f=e.m==Ae),e.m!=Ae||e.A.stop()},H=function(e,t){return y.v((0,p.Z)().mark((function n(){var i,a,o,u,s,l,c,f,d,h,m,w,k,S;return(0,p.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=A(t,"EXT-X-MEDIA"),a=A(t,g),o=A(t,"EXT-X-IMAGE-STREAM-INF"),u=(0,v.Z)(a);try{for(u.s();!(s=u.n()).done;)l=s.value,c=I(l,"AUDIO"),f=I(l,"VIDEO"),d=I(l,T),h=W(e,l),d&&(m=K(y.r,h),e.o.set(d,m),-1<(d=h.indexOf(m))&&h.splice(d,1)),c&&(d=q(y.Rb,h),e.o.set(c,d)),f&&(c=q(y.u,h),e.o.set(f,c))}catch(p){u.e(p)}finally{u.f()}return n.next=5,z(e,i);case 5:l=P(i,r),w=(0,v.Z)(l);try{for(w.s();!(k=w.n()).done;)S=k.value,l=ne(S),f=C(S,b),c=C(S,"INSTREAM-ID"),e.J.get(f)||e.J.set(f,new Map),e.J.get(f).set(c,l)}catch(p){w.e(p)}finally{w.f()}return n.next=10,G(e,a);case 10:return a=n.sent,n.next=13,B(e,i);case 13:return i=n.sent,n.next=16,V(e,o);case 16:return o=n.sent,n.abrupt("return",{startTime:0,variants:a,textStreams:i,thumbStreams:o});case 18:case"end":return n.stop()}}),n)})))},z=function(e,t){return y.v((0,p.Z)().mark((function n(){var r;return(0,p.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=t.filter((function(e){var t=I(e,S)||"";return I(e,"TYPE")!==T&&""!==t})),n.t0=t.length,!n.t0){n.next=5;break}return n.next=5,Y(e,t[0]);case 5:return r=t.slice(1).map((function(t){return Y(e,t)})),n.next=8,Promise.all(r);case 8:case"end":return n.stop()}}),n)})))},G=function(e,r){return y.v((0,p.Z)().mark((function i(){var a,o,u,s,l;return(0,p.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:for(a=function(r){return y.v((0,p.Z)().mark((function i(){var a,o,u,s,l,c,f;return(0,p.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return a=I(r,"FRAME-RATE"),o=Number(C(r,n)),u=I(r,"RESOLUTION"),s=u?u.split("x"):[null,null],l=t(s,2),c=l[0],f=l[1],i.next=5,$(e,r,u,a);case 5:if(!(u=i.sent)){i.next=9;break}i.t0=J(e,u.audio,u.video,o,c,f,a),i.next=10;break;case 9:i.t0=[];case 10:return i.abrupt("return",i.t0);case 11:case"end":return i.stop()}}),i)})))},o=0,u=1/0,s=0;s<r.length;++s)(l=Number(C(r[s],n)))<u&&(u=l,o=s);return u=r.splice(o,1).pop(),i.next=7,a(u);case 7:return u=i.sent,a=r.map(a),i.next=11,Promise.all(a);case 11:return(a=i.sent).splice(o,0,u),i.abrupt("return",a.reduce(y.ct,[]).filter(y.ek));case 14:case"end":return i.stop()}}),i)})))},B=function(e,t){return y.v((0,p.Z)().mark((function n(){var r,i,a,o,u,s,l,c;return(0,p.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=P(t,T),i=r.map((function(t){return y.v((0,p.Z)().mark((function n(){return(0,p.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Y(e,t);case 3:return n.abrupt("return",n.sent.stream);case 6:throw n.prev=6,n.t0=n.catch(0),n.t0;case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))})),n.next=3,Promise.all(i);case 3:i=n.sent,a=(0,v.Z)(r);try{for(a.s();!(o=a.n()).done;)if(u=o.value,s=C(u,b),(r=e.o.get(s))&&(s=e.w.get(s))){l=(0,v.Z)(s);try{for(l.s();!(c=l.n()).done;)c.value.stream.codecs=r}catch(f){l.e(f)}finally{l.f()}}}catch(f){a.e(f)}finally{a.f()}return n.abrupt("return",i.filter((function(e){return e})));case 7:case"end":return n.stop()}}),n)})))},V=function(e,t){return y.v((0,p.Z)().mark((function n(){var r;return(0,p.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.map((function(t){return y.v((0,p.Z)().mark((function n(){return(0,p.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,X(e,t);case 2:return n.abrupt("return",n.sent.stream);case 3:case"end":return n.stop()}}),n)})))})),n.next=3,Promise.all(r);case 3:return n.abrupt("return",n.sent.filter((function(e){return e})));case 4:case"end":return n.stop()}}),n)})))},W=function(e,t){var n=I(t,y.ja,e.h.hlsDefaultCodecs||"avc1.42E01E,mp4a.40.2").split(/\s*,\s*/);t=new Set;var r,i=[],a=(0,v.Z)(n);try{for(a.s();!(r=a.n()).done;){var o=r.value;n=y.Ys(o)[0],t.has(n)?e.a.debug("Ignoring duplicate codec"):(i.push(o),t.add(n))}}catch(u){a.e(u)}finally{a.f()}return i},K=function(e,t){for(var n=xe[e],r=0;r<n.length;r++)for(var i=0;i<t.length;i++)if(n[r].test(t[i].trim()))return t[i].trim();return e==y.r?"":null},q=function(e,t){if(1==t.length)return t[0];if(null!=(e=K(e,t)))return e;throw new y.H(y.G,4,4025,{codecList:t})},Y=function(e,t){return y.v((0,p.Z)().mark((function n(){var r,i,a,o,u,s,l,c,f;return(0,p.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=C(t,b),i="",(a=C(t,"TYPE").toLowerCase())==y.Ls&&(a=y.r),a!==y.r&&r&&e.o.has(r)&&(i=e.o.get(r)),o=C(t,S),!e.f.has(o)){n.next=8;break}return n.abrupt("return",e.f.get(o));case 8:return u=ne(t),s=I(t,"NAME"),l=t.getAttribute("DEFAULT"),c=t.getAttribute("AUTOSELECT"),f=I(t,"CHANNELS"),n.next=11,re(e,o,i,a,u,!!l&&!!c,s,a==y.Rb&&f?parseInt(f.split("/")[0],10):null,null);case 11:if(null!=(i=n.sent)){n.next=14;break}return n.abrupt("return",null);case 14:if(e.w.has(r)?e.w.get(r).push(i):e.w.set(r,[i]),!e.f.has(o)){n.next=17;break}return n.abrupt("return",e.f.get(o));case 17:return e.f.set(o,i),n.abrupt("return",i);case 19:case"end":return n.stop()}}),n)})))},X=function(e,t){return y.v((0,p.Z)().mark((function r(){var i,a,o,u;return(0,p.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=C(t,S),!e.f.has(i)){r.next=3;break}return r.abrupt("return",e.f.get(i));case 3:return a=I(t,y.ja)||"jpg",o=ne(t),u=I(t,"NAME"),r.next=7,re(e,i,a,y.Tc,o,!1,u,null,null);case 7:if(null!==(a=r.sent)){r.next=10;break}return r.abrupt("return",null);case 10:if(!e.f.has(i)){r.next=12;break}return r.abrupt("return",e.f.get(i));case 12:return(o=I(t,n))&&(a.stream.bandwidth=Number(o)),e.f.set(i,a),r.abrupt("return",a);case 15:case"end":return r.stop()}}),r)})))},$=function(e,t,n,r){return y.v((0,p.Z)().mark((function i(){var a,o,u,s,l,c,f,d;return(0,p.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a=W(e,t),o=I(t,"AUDIO"),u=I(t,"VIDEO"),s=(s=o||u)&&e.w.has(s)?e.w.get(s):[],o={audio:o?s:[],video:u?s:[]},e.a.debug("Guessing stream type for",t.toString()),u=!1,l=C(t,S),c=o.audio.find((function(e){return e.Tc===l})),f=K(y.u,a),f=n||r||f,1!==a.length||f?!s.length&&1<a.length?(e.a.debug("Guessing multiplexed audio+video"),s=y.u,a=[a.join(",")]):o.audio.length&&c?(e.a.debug(w),s=y.Rb,u=!0):o.video.length?(e.a.debug(w),s=y.Rb):(e.a.debug("Guessing video-only"),s=y.u):(s=y.Rb,e.a.debug(w)),i.t0=u,i.t0){i.next=15;break}return i.next=14,Q(e,t,a,s);case 14:d=i.sent;case 15:if(!d){i.next=19;break}o[d.stream.type]=[d],i.next=21;break;case 19:if(null!==d){i.next=21;break}return i.abrupt("return",(e.a.debug("streamInfo is null"),null));case 21:return ee(o),i.abrupt("return",o);case 23:case"end":return i.stop()}}),i)})))},J=function(e,t,n,r,i,a,o){n.forEach((function(e){(e=e.stream)&&(e.width=Number(i)||void 0,e.height=Number(a)||void 0,e.frameRate=Number(o)||void 0)})),t.length||(t=[null]),n.length||(n=[null]);var u,s=[],l=(0,v.Z)(t);try{for(l.s();!(u=l.n()).done;){var c,f=u.value,d=(0,v.Z)(n);try{for(d.s();!(c=d.n()).done;){var h=c.value,p=f?f.stream:null,g=h?h.stream:null,m=f?f.drmInfos:null,b=h?h.drmInfos:null;t=(h?h.Tc:"")+" - "+(f?f.Tc:"");var w=void 0;if(p&&g){if(m.length&&b.length&&!(0<y.bt(m,b).length)){e.a.warn("Incompatible DRM info in HLS variant.  Skipping.");continue}w=y.bt(m,b)}else p?w=m:g&&(w=b);e.V.has(t)?e.a.debug("Skipping variant which only differs in text streams."):(p=te(e,p,g,r,w),s.push(p),e.V.add(t))}}catch(k){d.e(k)}finally{d.f()}}}catch(k){l.e(k)}finally{l.f()}return s},Q=function(e,t,n,i){return y.v((0,p.Z)().mark((function a(){var o,u,s;return(0,p.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(o=C(t,S),!e.f.has(o)){a.next=3;break}return a.abrupt("return",e.f.get(o));case 3:return u=I(t,r),s=null,i==y.u&&u&&"NONE"!=u&&(s=e.J.get(u)),u=q(i,n),a.next=8,re(e,o,u,i,y.pe,!1,null,null,s);case 8:if(null!=(s=a.sent)){a.next=11;break}return a.abrupt("return",null);case 11:if(!e.f.has(o)){a.next=13;break}return a.abrupt("return",e.f.get(o));case 13:return e.f.set(o,s),a.abrupt("return",s);case 15:case"end":return a.stop()}}),a)})))},ee=function(e){var t,n=(0,v.Z)(e.audio.concat(e.video));try{for(n.s();!(t=n.n()).done;){var r=t.value;e=(e=r.stream.codecs.split(",")).filter((function(e){return"mp4a.40.34"!=e})),r.stream.codecs=e.join(",")}}catch(i){n.e(i)}finally{n.f()}},te=function(e,t,n,r,i){return{id:e.W++,language:t?t.language:y.pe,primary:!!t&&t.primary||!!n&&n.primary,audio:t,video:n,bandwidth:r,drmInfos:i,allowedByApplication:!0,allowedByKeySystem:!0}},ne=function(e){return e=I(e,"LANGUAGE")||y.pe,y.Gg(e)},re=function(e,t,n,r,i,a,o,u,s){return y.v((0,p.Z)().mark((function l(){var c,f,d,h,v,g,m,b,w,k,T,E,x,P,M,R;return(0,p.Z)().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(c=N(e.B,t),f=null,e.m!=Ae||!e.D.has(c)){l.next=7;break}d=e.D.get(c),e.D.delete(c),l.next=12;break;case 7:return l.next=9,O(e,c);case 9:h=l.sent,c=h.uri,d=_(e.K,h.data,c);case 12:if(1==d.type){l.next=14;break}throw new y.H(y.G,4,4017);case 14:return ie(e,d),l.next=17,ae(e,r,n,d);case 17:for(h=l.sent,v=[],d.a.forEach((function(e){e=A(e.Ga,"EXT-X-KEY"),v.push.apply(v,e)})),g=!1,m=[],b=null,w=0,k=v;w<k.length;w++)T=k[w],E=C(T,"METHOD"),x=I(T,"KEYFORMAT","identity"),"NONE"!=E&&("AES-128"==E?(f=I(T,"IV",""),f={method:"AES-128",url:N(e.B,C(T,S)),iv:f?y.ji((f||"0x").slice(2)):null},e.F=!0):(g=!0,(E=(E=Ce[x])?E(T,h):null)?(E.keyIds.length&&(b=E.keyIds[0]),m.push(E)):e.a.warn("Unsupported HLS KEYFORMAT",x)));if(!g||m.length||e.F){l.next=26;break}throw new y.H(y.G,4,4026);case 26:return T=new Map,l.next=29,U(e,t,d,r,h,n,f,T);case 29:return P=l.sent,x=P[0].startTime,E=P[P.length-1].endTime,M=E-x,P=new y.ey(P),d=oe(d,f),R=void 0,r==y.r&&(R=y.Ks),l.abrupt("return",{stream:{id:e.W++,originalId:o,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:P.h.bind(P),getSegmentReference:P.get.bind(P),adjustSegmentDurations:P.f.bind(P),getDuration:P.getDuration.bind(P),initSegmentReference:d,mimeType:h,codecs:n,kind:R,encrypted:g,keyId:b,language:i,label:o,type:r,primary:a,trickModeVideo:null,emsgSchemeIdUris:null,frameRate:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:[],channelsCount:u,closedCaptions:s,keyInfo:f},ab:P,drmInfos:m,Tc:t,Le:c,ud:x,Xf:E,duration:M,Re:T});case 38:case"end":return l.stop()}}),l)})))},ie=function(e,t){var n=M(t.Ga,h),r=M(t.Ga,u);r=n&&"VOD"==n.value||r,n=n&&"EVENT"==n.value&&!r,n=!r&&!n,r?F(e,Ae):(F(e,n?Me:Pe),t=ue(t.Ga,m),t=Number(t.value),e.N=Math.max(t,e.N),e.R=Math.min(t,e.R))},ae=function(e,t,n,r){return y.v((0,p.Z)().mark((function i(){var a,o,u;return(0,p.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a=r.a[0].a,o=new y.dh(a).ma.split(".").pop(),!(u=Ie[t][o])){i.next=4;break}return i.abrupt("return",u);case 4:if(t!=y.r){i.next=6;break}return i.abrupt("return",n&&"vtt"!=n?y.Kb:y.ke);case 6:return(a=y.wg([a],e.h.attemptParameters)).method="HEAD",a.type=2,i.next=11,de(e,a);case 11:if(a=i.sent.headers["content-type"]){i.next=14;break}throw new y.H(y.G,4,4021,o);case 14:return i.abrupt("return",a.split(";")[0]);case 15:case"end":return i.stop()}}),i)})))},oe=function(e,t){var n=A(e.Ga,"EXT-X-MAP");if(!n.length)return null;if(1<n.length)throw new y.H(y.G,4,4020);n=n[0];var r=C(n,S),i=N(e.f,r);return e=0,r=null,(n=I(n,"BYTERANGE"))&&(e=n.split("@"),n=Number(e[0]),r=(e=Number(e[1]))+n-1),new y.cy((function(){return[i]}),e,r,t)},ue=function(e,t){if(!(e=M(e,t)))throw new y.H(y.G,4,4024,{missingTag:t});return e},se=function(e){e.g&&(e.S.forEach((function(t){y.Ft(e.g,t,0)})),e.S=[])},le=function(e,n,r,a,o,u,s){var l,c=n.Ga,f=n.a;n=ue(c,"EXTINF").value.split(","),n=a+Number(n[0]);var d=0,h=null,p=M(c,i);p&&(d=p.value.split("@"),h=Number(d[0]),h=(d=d[1]?Number(d[1]):e.wa+1)+h-1),(e=u?Object.assign({},u):null)&&!e.iv&&(e.iv=y.mi(new Uint8Array(12),new Uint8Array([r>>24&255,r>>16&255,r>>8&255,255&r])));var v=p=null;return u=null,s===y.Tc&&(s="1x1",(c=M(c,"EXT-X-TILES"))&&(s=I(c,"LAYOUT")||"1x1",u=(c=I(c,"DURATION"))?Number(c):null),p=(l=t(s.split("x").map((function(e){return parseInt(e,10)})),2))[0],v=l[1]),new y.Mt(r,a,n,(function(){return[f]}),d,h,o,e,!1,null,p,v,u)},ce=function(e,t,n,r,i,a,o,u,s,l){return y.v((0,p.Z)().mark((function c(){var f,d;return(0,p.Z)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(f=le(null,r,i,0,0,a,s),!e.H||l){c.next=6;break}if(!(d=e.f.get(t).ab.get(f.position))){c.next=5;break}return c.abrupt("return",(e.a.debug("Found segment start time in previous manifest"),d.startTime));case 5:e.a.debug("Unable to find segment start time in previous manifest!");case 6:if(e.a.debug("Fetching segment to find start time"),"audio/mpeg"!=o){c.next=9;break}return c.abrupt("return",0);case 9:if(o!=y.Sb){c.next=15;break}return c.next=12,he(e,f);case 12:return f=c.sent,d=y.L(f.data),c.abrupt("return",x(d)?pe(d):ve(f.data));case 15:if(o!=y.Be&&o!=y.Vb){c.next=22;break}return f=[he(e,f)],n&&f.push(he(e,n)),c.next=20,Promise.all(f);case 20:return f=c.sent,c.abrupt("return",ge(e,f[0].data,(f[1]||f[0]).data));case 22:if(o!=y.Ae){c.next=27;break}return c.next=25,he(e,f);case 25:return f=c.sent,c.abrupt("return",ve(f.data));case 27:if(o!==y.Ub&&o!==y.Tb&&MediaSource.isTypeSupported("".concat(o.split("/")[0]||"",'/mp4;codecs="').concat(u,'"'))){c.next=29;break}return c.abrupt("return",0);case 29:throw new y.H(y.G,4,4030);case 30:case"end":return c.stop()}}),c)})))},fe=function(e,t,n,r,i,a,o,u,s,l,c){return y.v((0,p.Z)().mark((function f(){var d;return(0,p.Z)().wrap((function(f){for(;;)switch(f.prev=f.next){case 0:if(!e.I.has(t)){f.next=4;break}d=e.I.get(t),f.next=11;break;case 4:return f.next=6,ce(e,n,r,i,a,o,u,s,c,!0);case 6:f.t0=f.sent,f.t1=l,d=f.t0-f.t1,e.a.debug("Discontinuity segment offset",d),e.I.set(t,d);case 11:return f.abrupt("return",d);case 12:case"end":return f.stop()}}),f)})))},de=function(e,t){if(!e.C)throw new y.H(y.G,7,7001);return t=e.j.networkingEngine.fetch(t),y.ch(e.C,t),t.O},he=function(e,t){return y.v((0,p.Z)().mark((function n(){var r,i,a;return(0,p.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.a(),(i=y.Dt(t.Ka(),t.Fa,t.Fa+2048-1,e.h.attemptParameters)).type=2,(a=y.Dt(t.Ka(),t.Fa,t.wa,e.h.attemptParameters)).type=2,r&&(a.keyInfo=r),n.prev=5,n.next=8,de(e,e.F?a:i);case 8:case 18:return n.abrupt("return",n.sent);case 11:if(n.prev=11,n.t0=n.catch(5),7001!=n.t0.code&&!e.F){n.next=15;break}throw n.t0;case 15:return e.a.warn("Unable to fetch a partial HLS segment! Falling back to a full segment request, which is expensive!  Your server should support Range requests and CORS preflights.",i.uris[0]),n.next=18,de(e,a);case 19:case"end":return n.stop()}}),n,null,[[5,11]])})))},pe=function(e){function t(e,t,n){for(var r="";t<n;t++)r+="%"+("00"+e[t].toString(16)).slice(-2);return r}function n(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]}function r(){throw new y.H(y.G,4,4030)}x(e)||r();var i=10;64&e[5]&&(i=i+4+n(e.subarray(10,14)));do{var a=n(e.subarray(i+4,i+8));1>a&&r();var o=String.fromCharCode(e[i],e[i+1],e[i+2],e[i+3]);if("PRIV"===o){o=e.subarray(i+10,i+a+10);for(var u=0;u<o.byteLength;u++)if(0===o[u]){if("com.apple.streaming.transportStreamTimestamp"===unescape(t(o,0,u)))return a=(1&(e=o.subarray(u+1))[3])<<30|e[4]<<22|e[5]<<14|e[6]<<6|e[7]>>>2,a*=4,a+=3&e[7],Math.round(a/9e4);break}}x(e,i)||r(),i+=10,i+=a}while(i<e.byteLength);return r()},ve=function(e){function t(){r.seek(i+188),71!=(a=y.Ns(r))&&(r.seek(i+192),a=y.Ns(r)),71!=a&&(r.seek(i+204),a=y.Ns(r)),71!=a&&n(),y.Os(r)}function n(){throw new y.H(y.G,4,4030)}for(var r=new y.On(new DataView(e),!1),i=0,a=0;;)if(i=r.getPosition(),71!=(a=y.Ns(r))&&n(),8191!==(8191&(e=y.Bi(r))))if(16384&e){if(0!=(e=(48&y.Ns(r))>>4)&&2!=e||n(),3==e&&(e=y.Ns(r),r.skip(e)),1==y.N(r)>>8)return r.skip(3),0!=(e=y.Ns(r)>>6)&&1!=e||n(),0==y.Ns(r)&&n(),(1073741824*((14&(e=y.Ns(r)))>>1)+((65534&y.Bi(r))<<14|(65534&y.Bi(r))>>1))/9e4;t()}else t();else t()},ge=function(e,t,n){var r=0;if((new y.Yn).M(y.ld,y.mj).M(y.ne,y.mj).M(y.gd,y.mj).X("mdhd",(function(e){e.G.skip(0==e.version?8:16),r=y.N(e.G),e.Za.stop()})).parse(n,!0),!r)throw e.a.error("Unable to find timescale in init segment!"),new y.H(y.G,4,4030);var i=0,a=!1;if((new y.Yn).M("moof",y.mj).M("traf",y.mj).X("tfdt",(function(e){i=(0==e.version?y.N(e.G):y.Di(e.G))/r,a=!0,e.Za.stop()})).parse(t,!0),!a)throw new y.H(y.G,4,4030);return i},me=(0,d.Z)((function e(t,n,r,i){(0,f.Z)(this,e),this.f=t,this.type=n,this.Ga=r,this.a=i||null})),ye=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(0,f.Z)(this,e),this.id=t,this.name=n,this.a=r,this.value=i}return(0,d.Z)(e,[{key:"toString",value:function(){var e="#"+this.name,t=this.a?this.a.map((function(e){return e.name+"="+(isNaN(Number(e.value))?'"'+e.value+'"':e.value)})):[];return this.value&&t.unshift(this.value),0<t.length&&(e+=":"+t.join(",")),e}},{key:"getAttribute",value:function(e){var t=this.a.filter((function(t){return t.name==e}));return t.length?t[0]:null}}]),e}(),be=(0,d.Z)((function e(t,n){(0,f.Z)(this,e),this.name=t,this.value=n})),we=(0,d.Z)((function e(t,n){(0,f.Z)(this,e),this.Ga=n,this.a=t})),ke=(0,d.Z)((function e(){(0,f.Z)(this,e),this.a=0})),Te=[m,s,o,h,"EXT-X-MAP","EXT-X-I-FRAMES-ONLY",u],Se=["EXTINF",i,a,"EXT-X-PROGRAM-DATE-TIME","EXT-X-KEY","EXT-X-DATERANGE"],Ee=function(){function e(){var t=this;(0,f.Z)(this,e),this.h=this.j=null,this.W=1,this.w=new Map,this.V=new Set,this.f=new Map,this.g=null,this.B="",this.K=new ke,this.T=0,this.A=new y.rh((function(){L(t)})),this.m=Ae,this.H=null,this.N=0,this.R=1/0,this.C=new y.An,this.S=[],this.J=new Map,this.F=!1,this.o=new Map,this.L=null,this.a=new y.O("clpp.hls.HlsParser"),this.D=new Map,this.I=new Map}return(0,d.Z)(e,[{key:"configure",value:function(e){this.h=e}},{key:"start",value:function(e,t){var n=this;return y.v((0,p.Z)().mark((function r(){var i;return(0,p.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n.j=t,r.next=3,O(n,e);case 3:return i=r.sent,n.B=i.uri,r.next=7,Z(n,i.data);case 7:return 0<(i=n.T)&&n.A.$(i),r.abrupt("return",n.H);case 10:case"end":return r.stop()}}),r)})))}},{key:"stop",value:function(){this.A&&(this.A.stop(),this.A=null);var e=[];return this.C&&(e.push(this.C.destroy()),this.C=null),this.h=this.j=null,this.V.clear(),this.f.clear(),this.D.clear(),this.H=null,this.w.clear(),this.o.clear(),Promise.all(e)}},{key:"update",value:function(){var e=this;return y.v((0,p.Z)().mark((function t(){var n,r,i;return(0,p.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.m==Ae){t.next=11;break}if(n=[],e.L=null,r=Array.from(e.f.values()),t.t0=r.length,!t.t0){t.next=8;break}return t.next=8,j(e,r[0]);case 8:for(i=1;i<r.length;++i)n.push(j(e,r[i]));return t.next=11,Promise.all(n);case 11:case"end":return t.stop()}}),t)})))}},{key:"onExpirationUpdated",value:function(){}}]),e}(),xe={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av1$/],text:[/^vtt$/,/^wvtt/,/^stpp/]},Ie={audio:{mp4:y.Vb,m4s:y.Vb,m4i:y.Vb,m4a:y.Vb,cmfa:y.Vb,ts:y.Ae,aac:y.Sb,ec3:y.Ub,ac3:y.Tb},video:{mp4:y.Be,m4s:y.Be,m4i:y.Be,m4v:y.Be,cmfv:y.Be,ts:y.Ae},text:{mp4:y.Kb,m4s:y.Kb,m4i:y.Kb,cmft:y.Kb,vtt:y.ke,ttml:y.Nb},image:{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",svg:"image/svg+xml",webp:"image/webp",avif:"image/avif"}},Ce={"com.apple.streamingkeydelivery":function(e,t){if(t===y.Ae)throw new y.H(y.G,4,4041);return y.ft(y.wc,[{initDataType:"sinf",initData:new Uint8Array(0)}],"")},"com.microsoft.playready":function(e){var t=C(e,"METHOD"),n=["SAMPLE-AES",k];return n.includes(t)?(e=C(e,S),e=y.Pm(e),e=y.L(e.data),e=y.qt(y.zt(e)),y.ft(y.xc,[{initDataType:y.jc,initData:e}],"")):(y.uf("PlayReady in HLS is only supported with [",n.join(", "),"], not",t),null)},"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(e){var t=C(e,"METHOD"),n=["SAMPLE-AES",k];return n.includes(t)?(t=C(e,S),t=y.Pm(t),t=y.L(t.data),t=y.ft(y.yc,[{initDataType:y.jc,initData:t}],""),(e=I(e,"KEYID"))&&(t.keyIds=[e.substr(2).toLowerCase()]),t):(y.uf("Widevine in HLS is only supported with [",n.join(", "),"], not",t),null)}},Ae="VOD",Pe="EVENT",Me="LIVE";y.x("clpp.hls.HlsComponent",function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){return(0,f.Z)(this,n),t.call(this)}return(0,d.Z)(n,[{key:"f",value:function(){y.tm.m3u8=Ee,y.rm[y.Pb]=Ee,y.rm[E]=Ee}},{key:"a",value:function(){y.St("m3u8"),y.Tt(y.Pb),y.Tt(E)}},{key:"id",value:function(){return"hls"}}]),n}(y.ro))}).call({},window);var b=a.clpp._;(function(e){var t="Unsupported unit",n="clpp-text-plain",r="clpp-text-ttml",i="clpp.htmlcue.HtmlTextDisplayer",a="initial",h=function(e){if(!e.input)return null;var t=e.input.match(/^([^<]*)(<[^>]+>?)?/);return t=t[1]?t[1]:t[2],e.input=e.input.substr(t.length),t},g=function(e){for(var t=null;t=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(t[0],(function(e){return J[e]}));return e},m=function(e,t){for(var n in e)t.style[n]=e[n]},y=function(e,t){return 0===e?"0":e+t},w=function(e,t){return 1>Math.abs(e-t)||e<t},k=function(e,t){return e<t&&1<Math.abs(e-t)},T=function(e,t){return e>t&&1<Math.abs(e-t)},S=function(e,t){return 1>Math.abs(e-t)||e>t},E=function(e){var t=e.getBoundingClientRect(),n=getComputedStyle(e,null),r=parseFloat(n.getPropertyValue("border-left-width"))||0,i=parseFloat(n.getPropertyValue("border-right-width"))||0,a=parseFloat(n.getPropertyValue("border-top-width"))||0;n=parseFloat(n.getPropertyValue("border-bottom-width"))||0;var o=(t.top||e.offsetTop)+a;return a=(t.height||e.offsetHeight)-a-n,new Q(t.left+r,t.right+i,o,(t.bottom||o+a)+n,a,(t.width||e.offsetWidth)-r-i)},x=function(e){return new Q(e.f,e.g,e.h,e.a,e.height,e.width)},I=function(e,t){return t.some((function(t){return k(e.f,t.g)&&T(e.g,t.f)&&k(e.h,t.a)&&T(e.a,t.h)}))},C=function(e,t){return S(e.h,t.h)&&w(e.a,t.a)&&S(e.f,t.f)&&w(e.g,t.g)},A=function(e,t,n){switch(n){case"+x":return k(e.f,t.f);case"-x":return T(e.g,t.g);case"+y":return k(e.h,t.h);case"-y":return T(e.a,t.a);default:throw Error("Unknown axis")}},P=function(e){return e.f.writingMode===b.gn},M=function(e){switch(e.f.writingMode){case b.gn:return"horizontal-tb";case b.xe:return b.xe;case b.ze:return b.ze;default:throw Error("Unknown writing mode")}},N=function(e){switch(e.f.positionAlign){case b.ad:return b.Yc;case"auto":case b.kc:return b.fn;case b.bd:return b.Vd}return e.f.textAlign},R=function(e,t,n){return(O(e)||L(e))&&b.gf(n)?y(n,b.Od):O(e)&&b.y(n)?y(0,b.Od):P(e)&&b.gf(t)?y(t,"%"):a},D=function(e,t,n){return P(e)&&b.gf(n)?y(n,b.Od):(O(e)||L(e))&&b.gf(t)?y(t,"%"):a},_=function(e){var t=e.a.childNodes[0],n=e.a.getBoundingClientRect(),r=t.getClientRects();return t=n.height/r.length,n=n.width/r.length,P(e)?t:n},L=function(e){return e.f.writingMode===b.ze},O=function(e){return e.f.writingMode===b.xe},Z=function(e){for(e.g=[];0<e.f.childNodes.length;)e.f.removeChild(e.f.childNodes[0]);e.a=E(e.j.a)},j=function(e,t){Z(e.g),e.j.unshift(t);var n,r=(0,v.Z)(e.j);try{for(r.s();!(n=r.n()).done;){var i=n.value;e.g.append(i)}}catch(a){r.e(a)}finally{r.f()}},U=function(e,n,r){var i=(e=e.f).viewportAnchorUnits;if(i===b.on)return e.viewportAnchorY/100*r-e.regionAnchorY/100*n;if(0===i)return e.viewportAnchorY-e.regionAnchorY;throw Error(t)},F=function(e){if(e.a){for(;0<e.a.cssRules.length;)e.a.deleteRule(0);e.j=[]}},H=function(e){return e=b.bf(e.getConfiguration().htmlcue||{}),b.y(e.stretchSmpteImage)&&(e.stretchSmpteImage=!1),b.y(e.enableResizeObserver)&&(e.enableResizeObserver=!0),e},z=function(e,t){if((t||e.j)&&e.A){var i=e.l.getPosition();if((t||e.J!==i&&e.l.getState()===b.Ck)&&(e.J=i,i=V(e,i),t||(t=!(null===(t=e.o)&&null===i||null!==t&&null!==i&&t.start===i.start&&t.end===i.end)),t&&(e.o=i,W(e),e.h&&(t="::cue {",e.getFontColor()&&(t+="color: ".concat(e.getFontColor(),";")),e.getBackgroundColor()&&(t+="background-color: ".concat(e.getBackgroundColor(),";")),e.getFontFamily()&&(t+="font-family: ".concat(e.getFontFamily(),";")),e.getEdgeType()!==b.Mo&&(t+="text-shadow: ".concat(b.Xm(e),";")),t+="}",F(e.h),e.h.appendRule(t)),null!==i))){i=e.f.slice(i.start,i.end+1);var a,o=(0,v.Z)(i);try{for(o.s();!(a=o.n()).done;){if(t=a.value,(i=e).a){var u=i.a.a,s=null;switch(t.payloadType){case b.Ge:s="clpp-text-vtt";break;case b.oe:s=r;break;case b.en:s=n}s&&!u.classList.contains(s)&&b.Wk(u,s)}if(0===(u=E(i.a.a)).width||0===u.height)i.N.warn("The height or width of the `.clpp-text-container` element is zero. Captions will not be displayed. Please check if the `clpp.styles.css` file has been included.");else{m({fontSize:K(i,t.containerRows)},i.a.a),u=null,s=t.payloadType===b.Ge;var l=t.payloadType===b.oe;t.region&&(s||l||t.backgroundImage)&&(i.B.has(t.region.id)?u=i.B.get(t.region.id):(u=new ie(t.region,{}),i.B.set(t.region.id,u),j(i.a,u))),t=new te(t,i.L,{}),j(u||i.a,t)}}}catch(c){o.e(c)}finally{o.f()}}}},G=function(e){W(e),e.J=null,e.o=null,e.f=[]},B=function(e,t){return e.startTime<=t&&e.endTime>t},V=function(e,t){var n=function(e,t){for(var n=0,r=e.length-1;n<=r;){var i=n+r>>1,a=t(e[i]);if(0===a)return i;0<a?n=i+1:r=i-1}return-1}(e.f,(function(e){return B(e,t)?0:t!==e.startTime?t-e.startTime:t-e.endTime}));if(-1===n)return null;for(var r=n;0<=r-1&&B(e.f[r-1],t);)r--;for(;n+1<e.f.length&&B(e.f[n+1],t);)n++;return{start:r,end:n}},W=function(e){if(e.B.clear(),e.a){var t=e.a.a;t.classList.remove("clpp-text-vtt"),t.classList.remove(r),t.classList.remove(n),e=e.a,Z(e.g),e.j=[]}},K=function(e,t){var n=E(e.a.a).height;return null!==e.I?e.getFontSize():null!==e.F?(e=e.getFontSizePercent(),"".concat(Math.round(n*e),"px")):typeof t===b.p&&0<t?"".concat(Math.round(n/t),"px"):(e=e.getFontSizePercent(),"".concat(Math.round(n*e),"px"))},q=function(){function e(){(0,f.Z)(this,e)}return(0,d.Z)(e,[{key:"parse",value:function(e){e={input:e};for(var t,n=b.Yk(b.Ec),r=[],i=n;null!==(t=h(e));)if("<"===t[0]){if("/"===t[1])r.length&&r[r.length-1]===t.substr(2).replace(">","")&&(r.pop(),i=i.parentNode);else if(t=t.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/)){var a=t[1],o=t[3],u=Y[a];u?(u=b.Yk(u),(a=X[a])&&o&&u.setAttribute(a,o.trim()),o=u):o=null,!o||$[o.localName]&&$[o.localName]!==i.localName||(t[2]&&(o.className=t[2].substr(1).replace(/\./g," ")),r.push(t[1]),i.appendChild(o),i=o)}}else i.appendChild(document.createTextNode(g(t)));return n}}]),e}(),Y={c:"c",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"v",lang:"lang"},X={v:"voice",lang:"lang"},$={rt:"ruby"},J={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"\u200e","&rlm;":"\u200f","&nbsp;":"\xa0"},Q=(0,d.Z)((function e(t,n,r,i,a,o){(0,f.Z)(this,e),this.f=t,this.g=n,this.h=r,this.a=i,this.height=a,this.width=o})),ee=function(){function e(t,n,r){(0,f.Z)(this,e),this.id=t,this.o=n,this.A=r,this.a=this.m(),this.h=!1}return(0,d.Z)(e,[{key:"init",value:function(){this.h=!0}},{key:"w",value:function(){return!1}}]),e}(),te=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(e,r,i){var a;return(0,f.Z)(this,n),(a=t.call(this,e.id,"clpp-text-cue",i)).j=r,a.f=e,a.g=!!a.f.backgroundImage,a}return(0,d.Z)(n,[{key:"w",value:function(){return!this.g&&!(this.f.region&&this.f.region.displayAlign)}},{key:"init",value:function(e){if((0,u.Z)((0,s.Z)(n.prototype),"init",this).call(this,e),this.g)b.Wk(this.a,"clpp-text-cue-image"),this.a.style.backgroundImage='url("'.concat(this.f.backgroundImage,'")'),this.j.stretchSmpteImage&&(this.a.style.backgroundSize="contain");else{var t=this.f;if(t.payloadType===b.oe){var r=b.Yk(b.Ec);r.innerHTML=t.payload,t=r}else t.payloadType===b.Ge?t=(new q).parse(t.payload):((r=b.Yk(b.Ec)).textContent=t.payload,t=r);b.Wk(t,this.o),this.id&&(t.id=this.id);var i,o=(0,v.Z)(this.f.cssClassList);try{for(o.s();!(i=o.n()).done;)l=i.value,b.Wk(t,l)}catch(p){o.e(p)}finally{o.f()}m({writingMode:M(this)},t);var l=t;this.a.appendChild(l),b.Wk(this.a,"clpp-text-wrapper");var c,f=(0,v.Z)(this.f.cssClassList);try{for(f.s();!(c=f.n()).done;){var d=c.value;b.Wk(this.a,"clpp-text-wrapper__".concat(d))}}catch(p){f.e(p)}finally{f.f()}if(b.y(this.f.line)&&(this.f.lineInterpretation=b.hn,this.f.line=P(this)?-1:0),d=M(this),m({writingMode:d,webkitWritingMode:d,direction:a,textAlign:N(this)},this.a),!this.f.region||!this.f.region.displayAlign){if(d=function(e,t){if(typeof e.f.position===b.p&&typeof e.f.size===b.p)switch(t){case b.ad:return e.f.position;case"auto":case b.kc:return e.f.position-e.f.size/2;case b.bd:return e.f.position-e.f.size}return 0}(this,function(e){if(!e.f.positionAlign)switch(e.f.textAlign){case b.Yc:case b.Yc:return b.ad;case b.fn:return b.kc;case b.Vd:case b.Vd:return b.bd}return e.f.positionAlign}(this)),m({position:"absolute",left:R(this,d,null),right:L(this)&&b.y(null)?y(0,b.Od):a,top:D(this,d,null),width:P(this)?y(this.f.size,"%"):a,height:O(this)||L(this)?y(this.f.size,"%"):a},this.a),l=this.f,e=P(this)?e.height:e.width,t=_(this),l.lineInterpretation===b.hn)r=t*Math.round(l.line),Math.abs(r)>e&&(r=t*(0>l.line?0:-1)),0>r&&(r+=e);else{r=t/e*100;var h=l.line;switch(l.lineAlign){case b.kc:h-=r/2;break;case b.Mc:h-=r}r=Math.round(h/100*e)}L(this)&&(r=e-r-t),m({left:R(this,d,e=r),right:L(this)&&b.y(e)?y(0,b.Od):a,top:D(this,d,e)},this.a)}}}},{key:"m",value:function(){return b.Yk(b.Ec)}}]),n}(ee),ne=function(){function e(t,n){(0,f.Z)(this,e),this.j=t,this.f=t.a,this.h=void 0!==n&&n,this.a=E(t.a),this.g=[]}return(0,d.Z)(e,[{key:"append",value:function(e){var t=e.a;if(t.style.visibility=b.Sc,this.f.appendChild(t),e.h||e.init(this.a),e.w()){e:{var n,r=E(e.a),i=function(e,t){if(e.h)switch(t.writingMode){case b.gn:return["-y"];case b.xe:return["+x"];case b.ze:return["-x"]}switch(e=[],t.writingMode){case b.gn:e=["+y","-y"];break;case b.xe:e=["+x","-x"];break;case b.ze:e=["-x","+x"]}return 0>t.line&&(e=e.reverse()),e}(this,e.f),a=_(e),o=x(r),u=null,s=0,l=(0,v.Z)(i);try{for(l.s();!(n=l.n()).done;){for(var c=n.value;A(r,this.a,c)||C(r,this.a)&&I(r,this.g);){i=r;var f=a;switch(c){case"+x":i.f+=f,i.g+=f;break;case"-x":i.f-=f,i.g-=f;break;case"+y":i.h+=f,i.a+=f;break;case"-y":i.h-=f,i.a-=f}}if(this.h||C(r,this.a))break e;i=this.a,(i=Math.max(0,Math.min(r.g,i.g)-Math.max(r.f,i.f))*Math.max(0,Math.min(r.a,i.a)-Math.max(r.h,i.h))/(r.height*r.width))>s&&(u=x(r),s=i),r=x(o)}}catch(d){l.e(d)}finally{l.f()}r=u||o}m({top:y(r.h-this.a.h,b.Od),bottom:y(this.a.a-r.a,b.Od),left:y(r.f-this.a.f,b.Od),right:y(this.a.g-r.g,b.Od),height:y(r.height,b.Od),width:y(r.width,b.Od)},e.a)}t.style.visibility="visible",this.g.push(E(e.a))}}]),e}(),re=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(e,r,i){var a;return(0,f.Z)(this,n),(a=t.call(this,e,r,i)).g=null,a.j=[],a}return(0,d.Z)(n,[{key:"init",value:function(){this.g=new ne(this),this.h=!0}},{key:"m",value:function(){var e=b.Yk(b.Ec);return b.Wk(e,this.o),this.id&&(e.id=this.id),e}}]),n}(ee),ie=function(e){(0,l.Z)(r,e);var n=(0,c.Z)(r);function r(e,t){var i;return(0,f.Z)(this,r),(i=n.call(this,e.id,"clpp-text-cue-region",t)).f=e,i}return(0,d.Z)(r,[{key:"init",value:function(e){e:{var n=this.f;switch(n.widthUnits){case 0:n=n.width;break e;case b.on:n=n.width/100*e.width;break e;default:throw Error(t)}}var r=this.f,i=r.viewportAnchorUnits;if(i===b.on)r=r.viewportAnchorX/100*e.width-r.regionAnchorX/100*n;else{if(0!==i)throw Error(t);r=r.viewportAnchorX-r.regionAnchorX}i=e.height;var a=U(this,i,e.height);m(this.A,this.a),m({left:y(r,b.Od),top:y(a,b.Od),width:y(n,b.Od),height:y(i,b.Od)},this.a),this.f.writingMode&&m({display:"flex","flex-direction":this.f.writingMode},this.a),this.f.displayAlign&&m({"justify-content":this.f.displayAlign},this.a);var o,u=(0,v.Z)(this.f.cssClassList);try{for(u.s();!(o=u.n()).done;){var s=o.value;b.Wk(this.a,s)}}catch(l){u.e(l)}finally{u.f()}e:switch(s=this.f,s.heightUnits){case 0:s=s.height;break e;case b.on:s=s.height/100*e.height;break e;case 2:s=s.height,n=(r=new te(new b.ln(0,1,"Lorem ipsum",b.en),{},{})).a,this.a.appendChild(n),r.init(E(this.a)),r=n.getBoundingClientRect().height,this.a.removeChild(n),s*=n=r;break e;default:throw Error(t)}e=U(this,s,e.height),m({top:y(e,b.Od),height:y(s,b.Od)},this.a),this.g=new ne(this,!0),this.h=!0}},{key:"ba",value:function(){return this.f.id}}]),r}(re),ae=function(){function e(t){(0,f.Z)(this,e),this.A=new b.O("clpp.htmlcue.StyleManager"),this.h=t.getSurface().getContainer(),this.g="clpp-video-".concat(oe++),this.m=document.createElement(b.ge),this.o=document.createElement(b.ge),this.j=[],this.f=this.a=null,this.w=!1,t=document.styleSheets,document.head.appendChild(this.m),this.a=t[t.length-1],document.head.appendChild(this.o),this.f=t[t.length-1],this.f.disabled=!0,this.h&&b.Wk(this.h,this.g)}return(0,d.Z)(e,[{key:"appendRule",value:function(e){if(this.a&&!this.j.some((function(t){return t===e}))){var t=function(e,t){e=".".concat(e.g," .clpp-text-container");var n="".concat(e," .clpp-text-cue");return t.replace(/::cue\((#[^)]+)\)/g,"".concat(e," $1")).replace(/::cue\(([^)]+)\)/g,"".concat(n," $1")).replace(/::cue-region\(([^)]+)\)/g,"".concat(e," $1 .clpp-text-cue")).replace(/::cue/g,n).replace(/::cue-region/g,"".concat(e," .clpp-text-cue-region .clpp-text-cue")).replace(/::ttml/g,e)}(this,e);if(function(e,t){var n=!1;try{e.f.insertRule(t,0);var r=e.f.cssRules[0];r instanceof CSSStyleRule&&(n=r.selectorText.split(",").every((function(t){return 0===t.trim().indexOf(".".concat(e.g," "))})))}catch(r){}return 0<e.f.cssRules.length&&e.f.deleteRule(0),n||e.A.warn("Ignoring the CSS rule because it's not safe: ".concat(t)),n}(this,t)){try{this.a.insertRule(t,this.a.cssRules.length)}catch(n){this.A.error("An error occurred when adding a CSS rule: ".concat(t))}this.j.push(e)}}}},{key:"destroy",value:function(){var e=this;return b.v((0,p.Z)().mark((function t(){return(0,p.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.w||(F(e),document.head.removeChild(e.m),e.m=null,e.a=null,document.head.removeChild(e.o),e.o=null,e.f=null,e.h&&e.h.classList.remove(e.g)),e.w=!0;case 2:case"end":return t.stop()}}),t)})))}}]),e}(),oe=0,ue=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(e){var r;return(0,f.Z)(this,n),(r=t.call(this,e)).N=new b.O(i),r.l=e,r.L=H(e),r.j=!1,r.f=[],r.A=e.getSurface().getContainer(),r.D=new ae(e),r.h=new ae(e),r.a=new re(null,"clpp-text-container",{}),r.m=new b.Jo(e.getSurface(),r.V.bind((0,o.Z)(r))),r.J=null,r.A?(r.A.appendChild(r.a.a),r.a.init(null)):r.N.warn("No container element! Subtitles will not appear. Please check your player surface configuration or switch to NativeTextDisplayer."),r.w=new b.rh((function(){z((0,o.Z)(r))})),r.B=new Map,r.o=null,r}return(0,d.Z)(n,[{key:"V",value:function(){z(this,!0)}},{key:"append",value:function(e,t){var n=this;if(0!==e.length){var r,i=(0,v.Z)(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.D.appendRule(a)}}catch(l){i.e(l)}finally{i.f()}e.sort((function(e,t){return e.startTime!==t.startTime?e.startTime-t.startTime:e.endTime-t.endTime})),t=this.f.findIndex((function(t){return t.startTime>=e[0].startTime})),0===t?this.f=[]:0<t&&this.f.splice(0,t);var o,u=(0,v.Z)(e);try{var s=function(){var e=o.value;n.f.some((function(t){return t.payload===e.payload&&(t.startTime===e.startTime&&t.endTime===e.endTime)}))||n.f.push(e)};for(u.s();!(o=u.n()).done;)s()}catch(l){u.e(l)}finally{u.f()}this.o=null,z(this,!1)}}},{key:"g",value:function(){z(this,!0)}},{key:"destroy",value:function(){var e=this;return b.v((0,p.Z)().mark((function t(){return(0,p.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(G(e),t.t0=e.D,!t.t0){t.next=6;break}return t.next=5,e.D.destroy();case 5:e.D=null;case 6:if(t.t1=e.h,!t.t1){t.next=11;break}return t.next=10,e.h.destroy();case 10:e.h=null;case 11:e.a&&(e.A.removeChild(e.a.a),e.a=null),e.m&&(e.m.stop(),e.m=null),e.w&&e.w.stop(),e.j=!1;case 15:case"end":return t.stop()}}),t)})))}},{key:"remove",value:function(e,t){return!!this.a&&(this.f=this.f.filter((function(n){return n.startTime<e||n.endTime>=t})),this.o=null,z(this,!0),!0)}},{key:"isTextVisible",value:function(){return this.j}},{key:"setTextVisibility",value:function(e){this.j!==e&&((this.j=e)?(this.w.Pa(.25),this.L.enableResizeObserver&&this.m.start(),z(this,!0)):(this.w.stop(),this.m.stop(),G(this)))}}]),n}(b.Oo);b.x(i,ue),ue.prototype.setTextVisibility=ue.prototype.setTextVisibility,ue.prototype.isTextVisible=ue.prototype.isTextVisible,ue.prototype.remove=ue.prototype.remove,ue.prototype.destroy=ue.prototype.destroy,ue.prototype.append=ue.prototype.append;var se=function(){function e(){(0,f.Z)(this,e)}return(0,d.Z)(e,[{key:"Y",value:function(e){return!!e.enableHtmlCue&&!b.Hh()}},{key:"create",value:function(e){return new ue(e)}}]),e}();se.prototype.create=se.prototype.create,se.prototype.isSupported=se.prototype.Y,b.x("clpp.htmlcue.HtmlCueComponent",function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){return(0,f.Z)(this,n),t.apply(this,arguments)}return(0,d.Z)(n,[{key:"f",value:function(){b.ck("html",new se)}},{key:"a",value:function(){}},{key:"id",value:function(){return b.he}}]),n}(b.ro))}).call({},window);var w=a.clpp._;(function(e){var n='application/mp4; codecs="stpp.ttml"',r='application/mp4; codecs="stpp.ttml.im1i"',i='application/mp4; codecs="stpp.ttml.im1t"',a="backgroundColor",o="direction",u="displayAlign",s="region",p="textAlign",g="textDecoration",m="writingMode",y=function(e,t,n){for(var r=(e=e.f).length-1;0<=r;r--){var i=t.get(e[r]);if(n in i.a)return i.getAttribute(n)}return null},b=function(e,t){var n=null;if(H.test(e)){e=H.exec(e),n=Number(e[1]);var r=Number(e[2]),i=Number(e[3]),a=Number(e[4]);n=(i+=(a+=(Number(e[5])||0)/t.f)/t.frameRate)+60*r+3600*n}else z.test(e)?n=k(z,e):G.test(e)?n=k(G,e):B.test(e)?(e=B.exec(e),n=Number(e[1])/t.frameRate):V.test(e)?(e=V.exec(e),n=Number(e[1])/t.a):W.test(e)&&(n=k(W,e));return n},k=function(e,t){return null==(e=e.exec(t))||""===e[0]?null:(Number(e[4])||0)/1e3+(Number(e[3])||0)+60*(Number(e[2])||0)+3600*(Number(e[1])||0)},T=function(e){return e.split(":").pop()},S=function(e){return e.replace(/(\d*\.?\d+)c/g,"$1em")},E=function(e,t){for(;X.test(e);){var n=X.exec(e)[0];e=e.replace(n,"".concat(parseInt(n,10)/t,"em"))}return e},x=function(e,t,n){if(!(e=y(e,t,p))&&n&&(!(e=y(n,t,p))&&"rltb"===y(n,t,m)))return w.Vd;switch(e){case w.kc:return w.fn;case w.Vd:case w.Mc:return w.Vd;default:return w.Yc}},I=function e(t,n,r){if(w.pg(t.o))return document.createTextNode(w.sg(t.o||""));if(t.w)return w.Vk("br");var i,a=w.Vk("span"),o=(0,v.Z)(t.f);try{for(o.s();!(i=o.n()).done;){var u=i.value;w.Wk(a,u)}}catch(f){o.e(f)}finally{o.f()}var s,l=(0,v.Z)(t.h);try{for(l.s();!(s=l.n()).done;){var c=s.value;a.appendChild(e(r.get(c),n,r))}}catch(f){l.e(f)}finally{l.f()}return a},C=function(e,t,n,r){var i=K.exec(e);return e=q.exec(e),typeof t===w.p&&0<t&&e?100*Number(e[n])/t:i?Number(i[n]):e?Number(e[n]):r},A=function(e,t){return typeof t===w.p&&0<t?w.on:q.test(e)?0:w.on},P=function(e,t,n){return typeof e===w.p?e:typeof t===w.p?t:n},M=function(e,t){return e=e.getAttribute("extent"),(e=q.exec(e))?Number(e[t]):null},N=function(e){return e=e.getAttribute("cellResolution"),(e=Y.exec(e))?Number(e[2]):null},R=function(){return"inline-".concat(ue++)},D=function(e){return J.some((function(t){return t in e.a}))},_=function e(t,n){if(0===n.length)return[];var r,i=[],a=(0,v.Z)(n);try{for(a.s();!(r=a.n()).done;){var o=r.value;t.a.has(o)&&i.push.apply(i,(0,h.Z)(e(t,t.a.get(o).f)).concat([o]))}}catch(u){a.e(u)}finally{a.f()}return i},L=function(e){return T(e.h.nodeName)},O=function(e,t){if(e.a.has(t))return e.a.get(t);var n=null,r=null,i=[],a=[],o={},u=t.parentNode;if(u&&e.a.has(u)){var l=e.a.get(u);i=(0,h.Z)(l.m),-1===["#text","span","br"].indexOf(t.nodeName)&&(n=l.f,r=l.j,a=(0,h.Z)(l.g),o={},Q.forEach((function(e){e in l.a&&(o[e]=l.a[e])})))}if(t.nodeType===t.ELEMENT_NODE){var c;t.hasAttribute(s)&&(n=t.getAttribute(s)),t.hasAttribute(w.ge)&&(c=a).push.apply(c,(0,h.Z)(t.getAttribute(w.ge).split(" "))),r=Array.from(t.attributes).map((function(e){return e.name}));var f,d=(0,v.Z)(r);try{for(d.s();!(f=d.n()).done;){var p=f.value;r=T(p),o[r]=t.getAttribute(p)}}catch(g){d.e(g)}finally{d.f()}r=o.backgroundImage}return n=new fe(t,n,r,i,a,o),e.a.set(t,n),n},Z=function(e){return"".concat(String(Math.floor(e/3600)).padStart(2,"0"),":").concat(String(Math.floor(e/60%60)).padStart(2,"0"),":").concat(String(Math.floor(e%60)).padStart(2,"0"),".").concat(String(Math.floor(1e3*e%1e3)).padStart(3,"0"))},j=function(){function e(t,n,r){(0,f.Z)(this,e),this.g=t,this.f=n,this.a=r}return(0,d.Z)(e,[{key:"ba",value:function(){return this.g}},{key:"getAttribute",value:function(e){return this.a[e]}}]),e}(),U=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(e,r,i){var a;return(0,f.Z)(this,n),(a=t.call(this,e,[],i)).h=r||"",a}return(0,d.Z)(n)}(j),F=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(e,r,i){return(0,f.Z)(this,n),t.call(this,e,r,i)}return(0,d.Z)(n)}(j),H=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,z=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,G=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d+)$/,B=/^(\d*(?:\.\d*)?)f$/,V=/^(\d*(?:\.\d*)?)t$/,W=/^(?:(\d*(?:\.\d*)?)h)?(?:(\d*(?:\.\d*)?)m)?(?:(\d*(?:\.\d*)?)s)?(?:(\d*(?:\.\d*)?)ms)?$/,K=/^(\d{1,2}(?:\.\d+)?|100(?:\.0+)?)% (\d{1,2}(?:\.\d+)?|100(?:\.0+)?)%$/,q=/^(\d+)px (\d+)px$/,Y=/^(\d+) (\d+)$/,X=/(\d+)px/,$=/^(\d+px|\d+em|\d*\.?\d+c)$/,J=["fontStyle","fontSize","fontFamily","fontWeight","lineHeight","color",a,"opacity","padding","zIndex",p,u,m,o,g,"textOutline"],Q=["begin",w.Mc],ee=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(e,r,i,a,o,u,s){var l;return(0,f.Z)(this,n),(l=t.call(this,e,u,s)).o=r,l.w=i,l.m=a,l.j=o,l.h=[],l}return(0,d.Z)(n,[{key:"build",value:function(e,t,n,r,i,a,o){var s=b(this.a.begin,t);if(t=b(this.a.end,t),null===s||null===t)return null;s+=n,t+=n,n=w.Vk(w.Ec);var l,c=(0,v.Z)(this.h);try{for(c.s();!(l=c.n()).done;){var f=l.value;n.appendChild(I(o.get(f),i,o))}}catch(d){c.e(d)}finally{c.f()}if((o=new w.ln(s,t,n.innerHTML,w.oe)).cssClassList=(0,h.Z)(this.f),o.textAlign=x(this,i,null),o.writingMode=w.gn,o.line=-1,o.lineInterpretation=w.hn,o.lineAlign=w.jn,o.containerRows=P(null,N(e),15),this.m&&(a=a.get(this.m))){o.region=a.build(e,i),o.textAlign=x(this,i,a);e:switch(y(a,i,m)){case"tb":case"tblr":e=w.xe;break e;case"tbrl":e=w.ze;break e;default:e=w.gn}o.writingMode=e;e:switch(y(a,i,u)){case w.kc:e=50;break e;case"after":e=-1;break e;default:e=0}o.line=e;e:if(y(a,i,u)===w.kc)e=1;else e=w.hn;o.lineInterpretation=e;e:if(y(a,i,u)===w.kc)i=w.kc;else i=w.jn;o.lineAlign=i}return this.j&&(r=r.get(this.j))&&(r=(e=r).getAttribute("encoding"),i=e.getAttribute("imageType")||e.getAttribute("imagetype"),e=e.h.trim(),r="PNG"===i&&"Base64"===r&&0<e.length?"data:image/png;base64,".concat(e):null,o.backgroundImage=r||""),o}}]),n}(F),te=(0,d.Z)((function e(t,n,r,i){(0,f.Z)(this,e),this.frameRate=Number(t)||30,this.f=Number(n)||1,this.a=Number(i),0===this.a&&(this.a=t?this.frameRate*this.f:1),r&&(t=/^(\d+) (\d+)$/g.exec(r))&&(this.frameRate*=Number(t[1])/Number(t[2]))})),ne=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(e,r,i){return(0,f.Z)(this,n),t.call(this,e,r,i)}return(0,d.Z)(n,[{key:"build",value:function(e,t){var n=new w.qn;n.id=this.ba();var r=P(e.h.containerWidth,M(e,1),720);e=P(e.h.containerHeight,M(e,2),480);e:switch(y(this,t,u)){case"after":var i="flex-start";break e;case w.kc:i=w.kc;break e;default:i="flex-end"}n.displayAlign=i;e:switch(y(this,t,m)){case"tb":case"tblr":i="row-reverse";break e;case"tbrl":i="row";break e;default:i=w.uc}return n.writingMode=i,i=this.getAttribute("extent")||y(this,t,"extent"),n.width=C(i,r,1,100),n.widthUnits=A(i,r),n.height=C(i,e,2,100),n.heightUnits=A(i,e),t=this.getAttribute("origin")||y(this,t,"origin"),n.viewportAnchorX=C(t,r,1,0),n.viewportAnchorY=C(t,e,2,0),n.viewportAnchorUnits=A(t,r),n.cssClassList=(0,h.Z)(this.f),n}}]),n}(F),re=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(e,r){var i;return(0,f.Z)(this,n),(i=t.call(this,"root-container",[],r)).h=e,i}return(0,d.Z)(n)}(j),ie=function(e){(0,l.Z)(r,e);var n=(0,c.Z)(r);function r(e,t,i){return(0,f.Z)(this,r),n.call(this,e,t,i)}return(0,d.Z)(r,[{key:"build",value:function(e){var n=null,r=N(e);r&&(n=P(e.h.containerHeight,M(e,2),480)/r),n=P(e.h.fontSizeRadix,n,16),e=[],r="::ttml .".concat(this.g,", ::ttml .").concat(this.g," * {");var i,a=(0,v.Z)(ae.entries());try{for(a.s();!(i=a.n()).done;){var o=t(i.value,2),u=o[0],s=o[1];u in this.a&&(r+="".concat(s,":").concat(S(this.a[u]),";"))}}catch(w){a.e(w)}finally{a.f()}e:{if("unicodeBidi"in this.a){var l=this.a.unicodeBidi,c="";switch(l){case"normal":case"embed":c=l;break;case"bidiOverride":c="bidi-override"}if(0<c.length){l="unicode-bidi:".concat(c,";");break e}}l=""}r+=l;e:{if("textOutline"in this.a){c="black";var f=".4em",d=(l=this.a.textOutline.split(" "))[0]&&l[0].trim(),h=l[1]&&l[1].trim(),p=l[2]&&l[2].trim();if(3===l.length&&!$.test(d)&&$.test(h)&&$.test(p)||2===l.length&&!$.test(d)&&$.test(h)?(c=d,f=h):2===l.length&&$.test(d)&&$.test(h)&&(f=d),""!==f){f=S(f),l="text-shadow:"+"0 0 ".concat(f," ").concat(c,",")+"0 0 ".concat(f," ").concat(c,",")+"0 0 ".concat(f," ").concat(c,";");break e}}l=""}r=r+l+("fontFamily"in this.a?"font-family:".concat(this.a.fontFamily.replace("monospaceSansSerif","monospace").replace("monospaceSerif","monospace").replace("proportionalSansSerif","sans-serif").replace("proportionalSerif","sans-serif").replace("sansSerif","sans-serif").replace("default","sans-serif"),";"):"");e:{if(g in this.a){l=this.a.textDecoration.split(" "),c=[];var m,y=(0,v.Z)(l);try{for(y.s();!(m=y.n()).done;)switch(b=m.value){case"underline":case"overline":c.push(b);break;case"lineThrough":c.push("line-through")}}catch(w){y.e(w)}finally{y.f()}if(0<c.length){var b="text-decoration:".concat(c.join(" "),";");break e}}b=""}return"padding"in this.a?(l="border: solid transparent;border-width:"+S(this.a.padding),l+=";"):l="",b=r=r+b+l,"lineHeight"in this.a?(r="",l=this.a.lineHeight,l=S(l),r+="line-height:",r+=l=E(l,n),r+=";"):r="",e.push(b+r+"}"),"fontSize"in this.a&&(r=null,1===(b=this.a.fontSize.split(" ")).length&&(r=b[0]),2===b.length&&(r=b[1]),r)?(r=r.trim(),r=S(r),r=E(r,n),n="font-size:".concat(r,";")):n=null,n&&(b="::ttml .".concat(this.g," .clpp-text-wrapper {"),b+=n,b+="}",e.push(b),b="::ttml .clpp-text-wrapper__".concat(this.g," {"),b+=n,b+="}",e.push(b)),e}}]),r}(j),ae=new Map([["color","color"],[a,"background-color"],[o,o],["fontStyle","font-style"],["fontWeight","font-weight"],["opacity","opacity"],["zIndex","z-index"]]),oe=(0,d.Z)((function e(t){(0,f.Z)(this,e),this.A=t,this.o=this.j=null,this.w=0,this.g=new Map,this.a=new Map,this.h=new Map,this.f=new Map,this.m=[]})),ue=0,se=function(){function e(t){(0,f.Z)(this,e),this.a=t.firstChild,this.f=new Set}return(0,d.Z)(e,[{key:"next",value:function(){if(!this.a)return null;var e=this.a;do{this.f.add(e),e=e.nodeType!==Node.TEXT_NODE&&!le.has(T(e.nodeName))||ce.has(T(e.nodeName))||!e.firstChild||this.f.has(e.firstChild)?e.nextSibling?e.nextSibling:e.parentNode:e.firstChild}while(e&&(this.f.has(e)||e.nodeType!==Node.TEXT_NODE&&!le.has(T(e.nodeName))));var t=this.a;return this.a=e,t}}]),e}(),le=new Set(["tt","head","layout",w.id,w.Tc,s,"styling",w.ge,"body",w.Ec,"p","span","br"]),ce=new Set([w.ge,w.Tc]),fe=function(){function e(t,n,r,i,a,o){(0,f.Z)(this,e),this.h=t,this.f=n,this.j=r,this.m=i,this.g=a,this.a=o}return(0,d.Z)(e,[{key:"ba",value:function(){return this.a.id}}]),e}(),de=(0,d.Z)((function e(){(0,f.Z)(this,e),this.a=new Map})),he=function(){function e(t){(0,f.Z)(this,e),this.a=t,this.f=new DOMParser}return(0,d.Z)(e,[{key:"parseInit",value:function(){}},{key:"parseMedia",value:function(e,t,n){n&&n.length||(n=[e.byteLength]);var r=w.bf(this.a.ttml||{}),i=w.L(e,0,n[0]);if(""===(i=w.gg(i)))return{cues:[],styles:[]};var a=null;try{a=this.f.parseFromString(i,w.le)}catch(c){throw new w.H(w.G,2,2005,"Failed to parse TTML.")}r=new oe(r),i=new de,a=new se(a),typeof(t=t.periodStart)===w.p&&(r.w=t),t=n[0];for(var o=1;o<n.length;++o){var u=n[o],l=w.L(e,t,u);l=w.ei(l);var c="urn:mpeg:14496-30:subs:".concat(o);r.g.set(c,new U(c,l,{imageType:"PNG",encoding:"Base64"})),t+=u}for(;a.a;)e=a.next(),e=O(i,e),n=r,"tt"===L(t=e)&&(n.j=new re(n.A,Object.assign({},t.a))),n=r,"tt"===L(t=e)&&(n.o=new te(t.a.frameRate,t.a.subFrameRate,t.a.frameRateMultiplier,t.a.tickRate)),n=r,L(t=e)!==w.Tc||t.a.begin||t.a.end||(o="#".concat(t.ba()),n.g.set(o,new U(o,t.h.textContent,t.a))),n=r,L(o=e)===w.Tc&&o.a.begin&&o.a.end?(t="#".concat(R()),o=new U(t,o.h.textContent,o.a),n.g.set(t,o),n=o):n=null,n&&(e.j=n.ba()),n=r,L(t=e)===w.ge&&(o=t.ba()||R(),u=new ie(o,t.g,Object.assign({},t.a)),n.a.set(o,u),t.f&&n.h.get(t.f).f.push(o)),n=r,L(o=e)!==w.ge&&D(o)?(t=R(),o=new ie(t,[],Object.assign({},o.a)),n.a.set(t,o),n=o):n=null,n&&e.g.push(n.ba()),n=r,L(o=e)!==w.Ec||!o.a.extent&&!o.a.origin?n=null:(t=R(),o=new ne(t,_(n,o.g),Object.assign({},o.a)),n.h.set(t,o),n=o),n&&(e.f=n.ba()),n=r,L(o=e)!==s?n=null:(t=o.ba(),o=new ne(t,_(n,o.g),Object.assign({},o.a)),n.h.set(t,o),n=o),n&&(e.f=n.ba()),n=r,o=(t=e).m,-1===["#text","span","br"].indexOf(L(t))||0===o.length?n=null:(o=o[o.length-1],n.f.has(o)?(u=R(),t=new ee(u,"#text"===t.h.nodeName?t.h.textContent:null,"br"===L(t),t.f,t.j,_(n,t.g),t.a),n.f.set(u,t),n.f.get(o).h.push(u),n=t):n=null),n&&e.m.push(n.ba()),n=r,"p"===L(o=e)||o.j?(t=R(),o=new ee(t,null,!1,o.f,o.j,_(n,o.g),o.a),n.f.set(t,o),n.m.push(o),n=o):n=null,n&&e.m.push(n.ba());i=function(e){return e.m.map((function(t){return t.build(e.j,e.o,e.w,e.g,e.a,e.h,e.f)})).filter((function(e){return null!==e}))}(r),a=[];var f,d=(0,v.Z)(r.a.values());try{for(d.s();!(f=d.n()).done;){var p;g=f.value,(p=a).push.apply(p,(0,h.Z)(g.build(r.j)))}}catch(m){d.e(m)}finally{d.f()}var g=a;return{cues:i,styles:a}}}]),e}(),pe=function(){function e(t){(0,f.Z)(this,e),this.f=t}return(0,d.Z)(e,[{key:"a",value:function(e){var t=new he(this.f);e=t.parseMedia(e,{periodStart:0,segmentStart:null,segmentEnd:0}).cues,t="WEBVTT\n\n";var n,r=(0,v.Z)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;e=t,t=Z(i.startTime)+" --\x3e "+Z(i.endTime);var a=i,o=[];switch(a.textAlign){case w.Yc:o.push("align:left");break;case w.Vd:o.push("align:right");break;case w.fn:o.push("align:middle");break;case w.Yc:o.push("align:start");break;case w.Vd:o.push("align:end")}switch(a.writingMode){case w.xe:o.push("vertical:lr");break;case w.ze:o.push("vertical:rl")}t=e+(t+(a=o.length?" "+o.join(" "):"")+"\n"),t+=i.payload+"\n\n"}}catch(u){r.e(u)}finally{r.f()}return w.kg(t)}}]),e}(),ve=function(){function e(){(0,f.Z)(this,e)}return(0,d.Z)(e,[{key:"probe",value:function(e,t){return e===w.Nb&&t===w.ke}},{key:"create",value:function(e){return new pe(e)}}]),e}(),ge=function(){function e(t){(0,f.Z)(this,e),this.f=new he(t),this.a=new w.O("clpp.ttml.Mp4TtmlParser")}return(0,d.Z)(e,[{key:"parseInit",value:function(e){var t=!1;if((new w.Yn).M(w.ld,w.mj).M(w.ne,w.mj).M(w.gd,w.mj).M(w.kd,w.mj).M(w.de,w.mj).X(w.fe,w.nj).M("stpp",(function(e){t=!0,e.Za.stop()})).parse(e),!t)throw new w.H(w.G,2,2007)}},{key:"parseMedia",value:function(e,t){var n=this,r=!1,i=[],a=[],o=[];return(new w.Yn).M("moof",w.mj).M("traf",w.mj).X("subs",(function(e){for(var t=w.N(e.G),n=0;n<t;++n){e.G.skip(4);for(var r=w.Bi(e.G),i=0;i<r;++i){var a=1===e.version?w.N(e.G):w.Bi(e.G);o.push(a),e.G.skip(6)}}})).M(w.fd,w.oj((function(e){r=!0,e=n.f.parseMedia(e,t,o),i=i.concat(e.cues),a=a.concat(e.styles)}))).parse(e),r||this.a.warn("Couldn't find the mdat box"),{cues:i,styles:a}}}]),e}();w.x("clpp.ttml.TtmlComponent",function(e){(0,l.Z)(a,e);var t=(0,c.Z)(a);function a(){var e;return(0,f.Z)(this,a),(e=t.call(this)).h=new ve,e}return(0,d.Z)(a,[{key:"f",value:function(){w.Rm[w.Nb]=he,w.Rm[w.Lb]=ge,w.Rm[n]=ge,w.Rm[i]=ge,w.Rm[r]=ge,w.Cg.push(this.h)}},{key:"a",value:function(){w.Sm(w.Nb),w.Sm(w.Lb),w.Sm(n),w.Sm(i),w.Sm(r),w.Eg(this.h)}},{key:"id",value:function(){return w.ie}}]),a}(w.ro))}).call({},window);var k=a.clpp._;(function(e){var t=" The setting will be ignored.",n="VTT parser encountered an invalid VTT setting: ",r="application/x-subrip",i="text/srt",a='text/vtt; codecs="vtt"',o='text/vtt; codecs="wvtt"',h=function(e){return e.a==e.f.length?null:(e=k.nm(e,/[^ \t\n]*/gm))?e[0]:null},p=function(e){k.nm(e,/[ \t]+/gm)},g=function(e){var t="";for(e=e.split(/\n/);3<e.length;){for(var n=3;n<e.length;++n)e[2]+="\n".concat(e[n]);e.splice(3,e.length-3)}if(3!==e.length)return"";if(n=0,!e[0].match(/\d+:\d+:\d+/)&&e[1].match(/\d+:\d+:\d+/)&&(t+="".concat(e[0].match(/\w+/),"\n"),++n),!e[n].match(/\d+:\d+:\d+/))return"";var r=e[1].match(/(\d+):(\d+):(\d+)(?:,(\d+))?\s*--?>\s*(\d+):(\d+):(\d+)(?:,(\d+))?/);return r?(t+="".concat(r[1],":").concat(r[2],":").concat(r[3],".").concat(r[4]," --\x3e "),t+="".concat(r[5],":").concat(r[6],":").concat(r[7],".").concat(r[8],"\n"),e[++n]&&(t+="".concat(e[n],"\n\n")),t):""},m=function(e){if(null==(e=k.nm(e,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g)))return null;var t=Number(e[2]),n=Number(e[3]);return 59<t||59<n?null:Number(e[4])/1e3+n+60*t+3600*(Number(e[1])||0)},y=function(e,t,n){var r;if(r=/^align:(start|middle|center|end|left|right)$/.exec(t))t=r[1],e.textAlign="middle"==t?k.fn:k.mn[t.toUpperCase()];else if(r=/^vertical:(lr|rl)$/.exec(t))e.writingMode="lr"==r[1]?k.xe:k.ze;else if(r=/^size:([\d.]+)%$/.exec(t))e.size=Number(r[1]);else if(r=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(t))e.position=Number(r[1]),r[2]&&(t=r[2],e.positionAlign=t==k.ad||t==k.ae?k.ad:t==k.bd||t==k.Mc?k.bd:k.kc);else{if(!(r=/^region:(.*)$/.exec(t))){e:{if(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(t))e.lineInterpretation=1,e.line=Number(n[1]),n[2]&&(e.lineAlign=k.nn[n[2].toUpperCase()]);else{if(!(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(t))){e=!1;break e}e.lineInterpretation=k.hn,e.line=Number(n[1]),n[2]&&(e.lineAlign=k.nn[n[2].toUpperCase()])}e=!0}return e}(t=b(n,r[1]))&&(e.region=t)}return!0},b=function(e,t){return(e=e.filter((function(e){return e.id==t}))).length?e[0]:(k.z("VTT parser could not find a region with id: ",t," The region will be ignored."),null)},w=function(e,t,n){var r,i,a;return(new k.Yn).M("payl",k.oj((function(e){r=k.gg(e)}))).M("iden",k.oj((function(e){i=k.gg(e)}))).M("sttg",k.oj((function(e){a=k.gg(e)}))).parse(e),r?T(r,i,a,t,n):null},T=function(e,r,i,a,o){if(e=new k.ln(a,o,e),r&&(e.id=r),i)for(r=new k.Ho(i),i=h(r);i;)y(e,i,[])||k.z(n,i,t),p(r),i=h(r);return e},S=function(){function e(){(0,f.Z)(this,e)}return(0,d.Z)(e,[{key:"a",value:function(e){var t="";if(0<(e=(e=(e=(e=(e=k.gg(e)).replace(/\r+/g,"")).replace(/^\s+|\s+$/g,"")).replace(/<[a-zA-Z\\/][^>]*>/g,"")).split("\n\n")).length){t+="WEBVTT\n\n";var n,r=(0,v.Z)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;t+=g(i)}}catch(a){r.e(a)}finally{r.f()}}return k.kg(t)}}]),e}(),E=function(){function e(){(0,f.Z)(this,e)}return(0,d.Z)(e,[{key:"create",value:function(){return new S}},{key:"probe",value:function(e,t){return(e===i||e===r)&&t===k.ke}}]),e}(),x=function(){function e(t){(0,f.Z)(this,e),this.a=t}return(0,d.Z)(e,[{key:"parseInit",value:function(){}},{key:"parseMedia",value:function(e,r){var i=(e=(e=k.gg(e)).replace(/\r\n|\r(?=[^\n]|$)/gm,"\n")).split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(i[0]))throw new k.H(k.G,2,2e3);if(e=r.periodStart,i[0].includes("X-TIMESTAMP-MAP")){var a=i[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),o=i[0].match(/MPEGTS:(\d+)/m);if(a&&o){if(null==(e=m(new k.Ho(a[1]))))throw new k.H(k.G,2,2e3);for(o=Number(o[1]),a=r.segmentStart;95443.7176888889<=a;)a-=95443.7176888889,o+=8589934592;e=r.periodStart+o/9e4-e}}else this.a.streaming.relativeTextTimestamp&&null!==r.segmentStart&&(e=r.segmentStart);r=[];var u,s=(0,v.Z)(i);try{for(s.s();!(u=s.n()).done;){var l=u.value;if(/^region/.test(l.toLowerCase())){o=new k.Ho(l.replace(/\n/g," ")),a=new k.qn,h(o),p(o);for(var c=h(o);c;){e:{var f,d=a,g=c;if(f=/^id:(.*)$/.exec(g))d.id=f[1];else if(f=/^width:(\d{1,2}|100)%$/.exec(g))d.width=Number(f[1]);else if(f=/^lines:(\d+)$/.exec(g))d.height=Number(f[1]),d.heightUnits=2;else if(f=/^regionanchor:(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(g))d.regionAnchorX=Number(f[1]),d.regionAnchorY=Number(f[2]);else if(f=/^viewportanchor:(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(g))d.viewportAnchorX=Number(f[1]),d.viewportAnchorY=Number(f[2]);else{if(!/^scroll:up$/.exec(g)){d=!1;break e}d.scroll="up"}d=!0}d||k.z("VTT parser encountered an invalid VTTRegion setting: ",c,t),p(o),c=h(o)}o=a,r.push(o)}}}catch(C){s.e(C)}finally{s.f()}l=[];var b,w=(0,v.Z)(i);try{for(w.s();!(b=w.n()).done;){var T=b.value;if(/^style/.test(T.toLowerCase())){o=T.replace(/^style/i,"").replace(/\n/g," "),a=/[^{}]+{[^{}]*}/g;do{(c=a.exec(o))&&l.push(c[0])}while(c)}}}catch(C){w.e(C)}finally{w.f()}T=[];var S,E=(0,v.Z)(i);try{for(E.s();!(S=E.n()).done;){var x=S.value;if(x.includes("--\x3e")){if(g=x.split("\n"),f=e,i=r,1==g.length&&!g[0]||/^NOTE($|[ \t])/.test(g[0])||"STYLE"==g[0])i=null;else{o=null,g[0].includes("--\x3e")||(o=g[0],g.splice(0,1)),a=new k.Ho(g[0]),c=m(a);var I=k.nm(a,/[ \t]+--\x3e[ \t]+/g);if(d=m(a),null==c||null==I||null==d)throw new k.H(k.G,2,2001);for(c+=f,d+=f,g=g.slice(1).join("\n").trim(),c=new k.ln(c,d,g,k.Ge),o&&(c.id=o),p(a),d=h(a);d;)y(c,d,i)||k.z(n,d,t),p(a),d=h(a);null!=o&&(c.id=o),i=c}i&&T.push(i)}}}catch(C){E.e(C)}finally{E.f()}return{cues:T,styles:l}}}]),e}(),I=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){return(0,f.Z)(this,n),t.apply(this,arguments)}return(0,d.Z)(n,[{key:"parseMedia",value:function(e,t){return(0,u.Z)((0,s.Z)(n.prototype),"parseMedia",this).call(this,(new S).a(e),t)}}]),n}(x),C=function(){function e(){(0,f.Z)(this,e),this.a=null,this.f=new k.O("clpp.vtt.mp4")}return(0,d.Z)(e,[{key:"parseInit",value:function(e){var t=this,n=!1;if((new k.Yn).M(k.ld,k.mj).M(k.ne,k.mj).M(k.gd,k.mj).X("mdhd",(function(e){0==e.version?(e.G.skip(4),e.G.skip(4),t.a=k.N(e.G),e.G.skip(4)):(e.G.skip(8),e.G.skip(8),t.a=k.N(e.G),e.G.skip(8)),e.G.skip(4)})).M(k.kd,k.mj).M(k.de,k.mj).X(k.fe,k.nj).M("wvtt",(function(){n=!0})).parse(e),!this.a)throw new k.H(k.G,2,2008);if(!n)throw new k.H(k.G,2,2008)}},{key:"parseMedia",value:function(e,t){if(!this.a)throw this.f.error("No init segment for MP4+VTT!"),new k.H(k.G,2,2008);var n,r=0,i=[],a=[],o=!1,u=!1,s=!1,l=null;if((new k.Yn).M("moof",k.mj).M("traf",k.mj).X("tfdt",(function(e){o=!0,r=0==e.version?k.N(e.G):k.Di(e.G)})).X("tfhd",(function(e){var t=e.flags;(e=e.G).skip(4),1&t&&e.skip(8),2&t&&e.skip(4),l=8&t?k.N(e):null})).X("trun",(function(e){u=!0;var t=e.version,n=e.flags;e=e.G;var r=k.N(e);1&n&&e.skip(4),4&n&&e.skip(4);for(var a=[],o=0;o<r;o++){var s={duration:null,sampleSize:null,Pd:null};256&n&&(s.duration=k.N(e)),512&n&&(s.sampleSize=k.N(e)),1024&n&&e.skip(4),2048&n&&(s.Pd=0==t?k.N(e):k.Ci(e)),a.push(s)}i=a})).M(k.fd,k.oj((function(e){s=!0,n=e}))).parse(e),!s&&!o&&!u)throw new k.H(k.G,2,2008);e=r;var c=new DataView(n.buffer,n.byteOffset,n.byteLength);c=new k.On(c,!1);for(var f=0,d=i;f<d.length;f++){var h=d[f],p=h.duration||l,v=h.Pd?r+h.Pd:e;e=v+(p||0);var g=0;do{var m=k.N(c);g+=m;var y=k.N(c),b=null;"vttc"==(y=k.lj(y))?8<m&&(b=k.Ei(c,m-8)):("vtte"!=y&&this.f.error("Unknown box "+y+"! Skipping!"),c.skip(m-8)),p?b&&a.push(w(b,t.periodStart+v/this.a,t.periodStart+e/this.a)):this.f.error("WVTT sample duration unknown, and no default found!")}while(h.sampleSize&&g<h.sampleSize)}return{cues:a.filter(k.ek),styles:[]}}}]),e}();k.x("clpp.vtt.VttComponent",function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;return(0,f.Z)(this,n),(e=t.call(this)).h=new E,e}return(0,d.Z)(n,[{key:"f",value:function(){k.Rm[k.ke]=x,k.Rm[a]=x,k.Rm[o]=x,k.Rm[k.Mb]=C,k.Rm[i]=I,k.Rm[r]=I,k.Cg.push(this.h)}},{key:"a",value:function(){k.Sm(k.ke),k.Sm(a),k.Sm(o),k.Sm(k.Mb),k.Sm(i),k.Sm(r),k.Eg(this.h)}},{key:"id",value:function(){return k.ie}}]),n}(k.ro))}).call({},window);var T=n(39),S=n(184),E={license:"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1cmxzIjpbIjovL2ZpbmdlcmFydHVyLmdpdGh1Yi5pbyJdLCJ0eXBlIjoiV2ViIiwia2lkIjozNDc5LCJpbHYiOmZhbHNlfQ.qIbY824dz3iR0C17YsUaQzoaXwO-tXuCB7BZgcXksH5i99yyQCTw26q-xEtwvS9WCdaeX-nsrikgW69IEekoDObRFyZpAApt_EkKbZxkfygC5smElLrk7D_tXaF9rxEsGhFjHg6NMF9ZxUdJ_h1RcsVnCOsuhXd4kI-hy2KzDuzyfcoGUEfva_eGZP13cQP4Gy585uX3MJ9i25tuBVO3XU8oAsCzHPBhoChR_UP9g_3iFOrtpRAFzvJU1v1AXmM_JntyZgsbk-HtQdPKPF4ZpW6GMz1wJMQonFSo4tb52R4fFDRJzfBfCKRRJ9Fw2fMchT5qXmgNh8WJF50ipmbnbw"},x=function(){var e=t((0,r.useState)(new T.J5((function(e){e.use(a.clpp.dash.DashComponent),e.use(a.clpp.hls.HlsComponent),e.use(a.clpp.htmlcue.HtmlCueComponent),e.use(a.clpp.ttml.TtmlComponent),e.use(a.clpp.vtt.VttComponent)}))),1)[0];e.trackLabelerOptions={usePlayingRenditionInAbrLabel:!0,useNativeLanguageNames:!1,abrLabel:"Auto",disabledTrackLabel:"Off",unknownTrackLabel:"Unknown"};var n=t((0,r.useState)(null),2),i=n[0],o=n[1];return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(T.lh,{player:e,config:i,baseConfig:E,autoload:!0,children:(0,S.jsx)(T.PX,{player:e,seekForward:10,seekBackward:-10,menuSelectionOptions:[{type:"audio",label:"Language",hideCurrentlyActive:!1,hideWhenUnavailable:!0},{type:"text",label:"Subtitles",hideCurrentlyActive:!1,hideWhenUnavailable:!0},{type:"video",label:"Video",hideCurrentlyActive:!1,hideWhenUnavailable:!0}]})}),(0,S.jsx)("div",{className:"options",children:(0,S.jsx)("label",{children:(0,S.jsx)("button",{onClick:function(){var e={source:"https://demo.cf.castlabs.com/media/TOS/abr/Manifest_clean_sizes.mpd",autoplay:!0};console.info("Playing with config: ",e),o(e)},children:"Play"})})})]})};i.render((0,S.jsx)(r.StrictMode,{children:(0,S.jsx)(x,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.566125a8.js.map